!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s=112)}([function(t,e,n){t.exports=n(113)()},function(t,e){t.exports=React},function(t,e,n){(function(e){!function(e,n){t.exports=n()}(0,function(){"use strict";var t=function(t){var e=t.id,n=t.viewBox,r=t.content;this.id=e,this.viewBox=n,this.content=r};t.prototype.stringify=function(){return this.content},t.prototype.toString=function(){return this.stringify()},t.prototype.destroy=function(){var t=this;["id","viewBox","content"].forEach(function(e){return delete t[e]})};"undefined"!=typeof window?window:void 0!==e||"undefined"!=typeof self&&self;function n(t,e){return t(e={exports:{}},e.exports),e.exports}var r=n(function(t,e){t.exports=function(){function t(t){var e=t&&"object"==typeof t;return e&&"[object RegExp]"!==Object.prototype.toString.call(t)&&"[object Date]"!==Object.prototype.toString.call(t)}function e(e,n){var o=n&&!0===n.clone;return o&&t(e)?r(function(t){return Array.isArray(t)?[]:{}}(e),e,n):e}function n(n,o,i){var a=n.slice();return o.forEach(function(o,s){void 0===a[s]?a[s]=e(o,i):t(o)?a[s]=r(n[s],o,i):-1===n.indexOf(o)&&a.push(e(o,i))}),a}function r(o,i,a){var s=Array.isArray(i),c=a||{arrayMerge:n},u=c.arrayMerge||n;return s?Array.isArray(o)?u(o,i,a):e(i,a):function(n,o,i){var a={};return t(n)&&Object.keys(n).forEach(function(t){a[t]=e(n[t],i)}),Object.keys(o).forEach(function(s){t(o[s])&&n[s]?a[s]=r(n[s],o[s],i):a[s]=e(o[s],i)}),a}(o,i,a)}return r.all=function(t,e){if(!Array.isArray(t)||t.length<2)throw new Error("first argument should be an array with at least two elements");return t.reduce(function(t,n){return r(t,n,e)})},r}()}),o=n(function(t,e){e.default={svg:{name:"xmlns",uri:"http://www.w3.org/2000/svg"},xlink:{name:"xmlns:xlink",uri:"http://www.w3.org/1999/xlink"}},t.exports=e.default}),i=o.svg,a=o.xlink,s={};s[i.name]=i.uri,s[a.name]=a.uri;var c=function(t,e){return void 0===t&&(t=""),"<svg "+function(t){return Object.keys(t).map(function(e){return e+'="'+t[e].toString().replace(/"/g,"&quot;")+'"'}).join(" ")}(r(s,e||{}))+">"+t+"</svg>"};return function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={isMounted:{}};return n.isMounted.get=function(){return!!this.node},e.createFromExistingNode=function(t){return new e({id:t.getAttribute("id"),viewBox:t.getAttribute("viewBox"),content:t.outerHTML})},e.prototype.destroy=function(){this.isMounted&&this.unmount(),t.prototype.destroy.call(this)},e.prototype.mount=function(t){if(this.isMounted)return this.node;var e="string"==typeof t?document.querySelector(t):t,n=this.render();return this.node=n,e.appendChild(n),n},e.prototype.render=function(){var t=this.stringify();return function(t){var e=!!document.importNode,n=(new DOMParser).parseFromString(t,"image/svg+xml").documentElement;return e?document.importNode(n,!0):n}(c(t)).childNodes[0]},e.prototype.unmount=function(){this.node.parentNode.removeChild(this.node)},Object.defineProperties(e.prototype,n),e}(t)})}).call(this,n(12))},function(t,e,n){(function(e){!function(e,n){t.exports=n()}(0,function(){"use strict";"undefined"!=typeof window?window:void 0!==e||"undefined"!=typeof self&&self;function t(t,e){return t(e={exports:{}},e.exports),e.exports}var n=t(function(t,e){t.exports=function(){function t(t){var e=t&&"object"==typeof t;return e&&"[object RegExp]"!==Object.prototype.toString.call(t)&&"[object Date]"!==Object.prototype.toString.call(t)}function e(e,n){var o=n&&!0===n.clone;return o&&t(e)?r(function(t){return Array.isArray(t)?[]:{}}(e),e,n):e}function n(n,o,i){var a=n.slice();return o.forEach(function(o,s){void 0===a[s]?a[s]=e(o,i):t(o)?a[s]=r(n[s],o,i):-1===n.indexOf(o)&&a.push(e(o,i))}),a}function r(o,i,a){var s=Array.isArray(i),c=a||{arrayMerge:n},u=c.arrayMerge||n;return s?Array.isArray(o)?u(o,i,a):e(i,a):function(n,o,i){var a={};return t(n)&&Object.keys(n).forEach(function(t){a[t]=e(n[t],i)}),Object.keys(o).forEach(function(s){t(o[s])&&n[s]?a[s]=r(n[s],o[s],i):a[s]=e(o[s],i)}),a}(o,i,a)}return r.all=function(t,e){if(!Array.isArray(t)||t.length<2)throw new Error("first argument should be an array with at least two elements");return t.reduce(function(t,n){return r(t,n,e)})},r}()});var r=t(function(t,e){e.default={svg:{name:"xmlns",uri:"http://www.w3.org/2000/svg"},xlink:{name:"xmlns:xlink",uri:"http://www.w3.org/1999/xlink"}},t.exports=e.default}),o=r.svg,i=r.xlink,a={};a[o.name]=o.uri,a[i.name]=i.uri;var s,c=function(t,e){return void 0===t&&(t=""),"<svg "+function(t){return Object.keys(t).map(function(e){return e+'="'+t[e].toString().replace(/"/g,"&quot;")+'"'}).join(" ")}(n(a,e||{}))+">"+t+"</svg>"},u=r.svg,l=r.xlink,f={attrs:(s={style:["position: absolute","width: 0","height: 0"].join("; ")},s[u.name]=u.uri,s[l.name]=l.uri,s)},h=function(t){this.config=n(f,t||{}),this.symbols=[]};h.prototype.add=function(t){var e=this.symbols,n=this.find(t.id);return n?(e[e.indexOf(n)]=t,!1):(e.push(t),!0)},h.prototype.remove=function(t){var e=this.symbols,n=this.find(t);return!!n&&(e.splice(e.indexOf(n),1),n.destroy(),!0)},h.prototype.find=function(t){return this.symbols.filter(function(e){return e.id===t})[0]||null},h.prototype.has=function(t){return null!==this.find(t)},h.prototype.stringify=function(){var t=this.config.attrs,e=this.symbols.map(function(t){return t.stringify()}).join("");return c(e,t)},h.prototype.toString=function(){return this.stringify()},h.prototype.destroy=function(){this.symbols.forEach(function(t){return t.destroy()})};var p=function(t){var e=t.id,n=t.viewBox,r=t.content;this.id=e,this.viewBox=n,this.content=r};p.prototype.stringify=function(){return this.content},p.prototype.toString=function(){return this.stringify()},p.prototype.destroy=function(){var t=this;["id","viewBox","content"].forEach(function(e){return delete t[e]})};var d=function(t){var e=!!document.importNode,n=(new DOMParser).parseFromString(t,"image/svg+xml").documentElement;return e?document.importNode(n,!0):n},y=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={isMounted:{}};return n.isMounted.get=function(){return!!this.node},e.createFromExistingNode=function(t){return new e({id:t.getAttribute("id"),viewBox:t.getAttribute("viewBox"),content:t.outerHTML})},e.prototype.destroy=function(){this.isMounted&&this.unmount(),t.prototype.destroy.call(this)},e.prototype.mount=function(t){if(this.isMounted)return this.node;var e="string"==typeof t?document.querySelector(t):t,n=this.render();return this.node=n,e.appendChild(n),n},e.prototype.render=function(){var t=this.stringify();return d(c(t)).childNodes[0]},e.prototype.unmount=function(){this.node.parentNode.removeChild(this.node)},Object.defineProperties(e.prototype,n),e}(p),m={autoConfigure:!0,mountTo:"body",syncUrlsWithBaseTag:!1,listenLocationChangeEvent:!0,locationChangeEvent:"locationChange",locationChangeAngularEmitter:!1,usagesToUpdate:"use[*|href]",moveGradientsOutsideSymbol:!1},v=function(t){return Array.prototype.slice.call(t,0)},g=navigator.userAgent,b={isChrome:/chrome/i.test(g),isFirefox:/firefox/i.test(g),isIE:/msie/i.test(g)||/trident/i.test(g),isEdge:/edge/i.test(g)},w=function(t){var e=[];return v(t.querySelectorAll("style")).forEach(function(t){t.textContent+="",e.push(t)}),e},C=function(t){return(t||window.location.href).split("#")[0]},E=function(t){angular.module("ng").run(["$rootScope",function(e){e.$on("$locationChangeSuccess",function(e,n,r){!function(t,e){var n=document.createEvent("CustomEvent");n.initCustomEvent(t,!1,!1,e),window.dispatchEvent(n)}(t,{oldUrl:r,newUrl:n})})}])},A=function(t,e){return void 0===e&&(e="linearGradient, radialGradient, pattern"),v(t.querySelectorAll("symbol")).forEach(function(t){v(t.querySelectorAll(e)).forEach(function(e){t.parentNode.insertBefore(e,t)})}),t};var _=r.xlink.uri,S="xlink:href",k=/[{}|\\\^\[\]`"<>]/g;function x(t){return t.replace(k,function(t){return"%"+t[0].charCodeAt(0).toString(16).toUpperCase()})}var O,T=["clipPath","colorProfile","src","cursor","fill","filter","marker","markerStart","markerMid","markerEnd","mask","stroke","style"],P=T.map(function(t){return"["+t+"]"}).join(","),M=function(t,e,n,r){var o=x(n),i=x(r);(function(t,e){return v(t).reduce(function(t,n){if(!n.attributes)return t;var r=v(n.attributes),o=e?r.filter(e):r;return t.concat(o)},[])})(t.querySelectorAll(P),function(t){var e=t.localName,n=t.value;return-1!==T.indexOf(e)&&-1!==n.indexOf("url("+o)}).forEach(function(t){return t.value=t.value.replace(o,i)}),function(t,e,n){v(t).forEach(function(t){var r=t.getAttribute(S);if(r&&0===r.indexOf(e)){var o=r.replace(e,n);t.setAttributeNS(_,S,o)}})}(e,o,i)},F={MOUNT:"mount",SYMBOL_MOUNT:"symbol_mount"},N=function(t){function e(e){var r=this;void 0===e&&(e={}),t.call(this,n(m,e));var o=function(t){return t=t||Object.create(null),{on:function(e,n){(t[e]||(t[e]=[])).push(n)},off:function(e,n){t[e]&&t[e].splice(t[e].indexOf(n)>>>0,1)},emit:function(e,n){(t[e]||[]).map(function(t){t(n)}),(t["*"]||[]).map(function(t){t(e,n)})}}}();this._emitter=o,this.node=null;var i=this.config;if(i.autoConfigure&&this._autoConfigure(e),i.syncUrlsWithBaseTag){var a=document.getElementsByTagName("base")[0].getAttribute("href");o.on(F.MOUNT,function(){return r.updateUrls("#",a)})}var s=this._handleLocationChange.bind(this);this._handleLocationChange=s,i.listenLocationChangeEvent&&window.addEventListener(i.locationChangeEvent,s),i.locationChangeAngularEmitter&&E(i.locationChangeEvent),o.on(F.MOUNT,function(t){i.moveGradientsOutsideSymbol&&A(t)}),o.on(F.SYMBOL_MOUNT,function(t){i.moveGradientsOutsideSymbol&&A(t.parentNode),(b.isIE||b.isEdge)&&w(t)})}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={isMounted:{}};return r.isMounted.get=function(){return!!this.node},e.prototype._autoConfigure=function(t){var e=this.config;void 0===t.syncUrlsWithBaseTag&&(e.syncUrlsWithBaseTag=void 0!==document.getElementsByTagName("base")[0]),void 0===t.locationChangeAngularEmitter&&(e.locationChangeAngularEmitter="angular"in window),void 0===t.moveGradientsOutsideSymbol&&(e.moveGradientsOutsideSymbol=b.isFirefox)},e.prototype._handleLocationChange=function(t){var e=t.detail,n=e.oldUrl,r=e.newUrl;this.updateUrls(n,r)},e.prototype.add=function(e){var n=t.prototype.add.call(this,e);return this.isMounted&&n&&(e.mount(this.node),this._emitter.emit(F.SYMBOL_MOUNT,e.node)),n},e.prototype.attach=function(t){var e=this,n=this;if(n.isMounted)return n.node;var r="string"==typeof t?document.querySelector(t):t;return n.node=r,this.symbols.forEach(function(t){t.mount(n.node),e._emitter.emit(F.SYMBOL_MOUNT,t.node)}),v(r.querySelectorAll("symbol")).forEach(function(t){var e=y.createFromExistingNode(t);e.node=t,n.add(e)}),this._emitter.emit(F.MOUNT,r),r},e.prototype.destroy=function(){var t=this.config,e=this.symbols,n=this._emitter;e.forEach(function(t){return t.destroy()}),n.off("*"),window.removeEventListener(t.locationChangeEvent,this._handleLocationChange),this.isMounted&&this.unmount()},e.prototype.mount=function(t,e){void 0===t&&(t=this.config.mountTo),void 0===e&&(e=!1);if(this.isMounted)return this.node;var n="string"==typeof t?document.querySelector(t):t,r=this.render();return this.node=r,e&&n.childNodes[0]?n.insertBefore(r,n.childNodes[0]):n.appendChild(r),this._emitter.emit(F.MOUNT,r),r},e.prototype.render=function(){return d(this.stringify())},e.prototype.unmount=function(){this.node.parentNode.removeChild(this.node)},e.prototype.updateUrls=function(t,e){if(!this.isMounted)return!1;var n=document.querySelectorAll(this.config.usagesToUpdate);return M(this.node,n,C(t)+"#",C(e)+"#"),!0},Object.defineProperties(e.prototype,r),e}(h),R=t(function(t){
/*!
  * domready (c) Dustin Diaz 2014 - License MIT
  */
t.exports=function(){var t,e=[],n=document,r=(n.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(n.readyState);return r||n.addEventListener("DOMContentLoaded",t=function(){for(n.removeEventListener("DOMContentLoaded",t),r=1;t=e.shift();)t()}),function(t){r?setTimeout(t,0):e.push(t)}}()});!!window.__SVG_SPRITE__?O=window.__SVG_SPRITE__:(O=new N({attrs:{id:"__SVG_SPRITE_NODE__"}}),window.__SVG_SPRITE__=O);var j=function(){var t=document.getElementById("__SVG_SPRITE_NODE__");t?O.attach(t):O.mount(document.body,!0)};return document.body?j():R(j),O})}).call(this,n(12))},function(t,e,n){"use strict";e.__esModule=!0;var r=function(t){return t&&t.__esModule?t:{default:t}}(n(47));e.default=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==(void 0===e?"undefined":(0,r.default)(e))&&"function"!=typeof e?t:e}},function(t,e,n){"use strict";e.__esModule=!0;var r=function(t){return t&&t.__esModule?t:{default:t}}(n(125));e.default=r.default||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}},function(t,e){t.exports=ReactDOM},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,n){"use strict";e.__esModule=!0;var r=a(n(154)),o=a(n(158)),i=a(n(47));function a(t){return t&&t.__esModule?t:{default:t}}e.default=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":(0,i.default)(e)));t.prototype=(0,o.default)(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(r.default?(0,r.default)(t,e):t.__proto__=e)}},function(t,e,n){"use strict";e.__esModule=!0;var r=function(t){return t&&t.__esModule?t:{default:t}}(n(77));e.default=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),(0,r.default)(t,o.key,o)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}()},function(t,e,n){"use strict";e.__esModule=!0;var r=function(t){return t&&t.__esModule?t:{default:t}}(n(77));e.default=function(t,e,n){return e in t?(0,r.default)(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},function(t,e,n){"use strict";t.exports=function(t,e,n,r,o,i,a,s){if(!t){var c;if(void 0===e)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,o,i,a,s],l=0;(c=new Error(e.replace(/%s/g,function(){return u[l++]}))).name="Invariant Violation"}throw c.framesToPop=1,c}}},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";t.exports=function(){}},function(t,e,n){"use strict";var r=function(){};t.exports=r},function(t,e,n){var r;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var t=[],e=0;e<arguments.length;e++){var r=arguments[e];if(r){var i=typeof r;if("string"===i||"number"===i)t.push(r);else if(Array.isArray(r)&&r.length){var a=o.apply(null,r);a&&t.push(a)}else if("object"===i)for(var s in r)n.call(r,s)&&r[s]&&t.push(s)}}return t.join(" ")}void 0!==t&&t.exports?(o.default=o,t.exports=o):void 0===(r=function(){return o}.apply(e,[]))||(t.exports=r)}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(121),o="/api/yonghus/friendList",i="/api/yonghus/login",a="/api/setPoint",s="/api/unreads/getUnreadMsg",c="/api/pushkeys/addkey";e.socketUrl=location.origin,e.turnUrl=location.hostname;function u(t,e){return r.default.post(""+t,e).then(function(t){return Promise.resolve(t.data)}).catch(function(t){return Promise.reject(t)})}e.net_getFriendList=function(){return u(o)},e.net_Login=function(t){return u(i,t)},e.net_setPoint=function(t){return u(a,t)},e.net_clearUnreadMsg=function(t){return u(s,t)},e.net_setPushKey=function(t){return u(c,t)}},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){var n=t.exports={version:"2.5.7"};"number"==typeof __e&&(__e=n)},function(t,e,n){var r=n(31),o=n(79),i=n(50),a=Object.defineProperty;e.f=n(20)?Object.defineProperty:function(t,e,n){if(r(t),e=i(e,!0),r(n),o)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){t.exports=!n(32)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var r=n(17),o=n(18),i=n(78),a=n(23),s=n(21),c=function(t,e,n){var u,l,f,h=t&c.F,p=t&c.G,d=t&c.S,y=t&c.P,m=t&c.B,v=t&c.W,g=p?o:o[e]||(o[e]={}),b=g.prototype,w=p?r:d?r[e]:(r[e]||{}).prototype;for(u in p&&(n=e),n)(l=!h&&w&&void 0!==w[u])&&s(g,u)||(f=l?w[u]:n[u],g[u]=p&&"function"!=typeof w[u]?n[u]:m&&l?i(f,r):v&&w[u]==f?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(f):y&&"function"==typeof f?i(Function.call,f):f,y&&((g.virtual||(g.virtual={}))[u]=f,t&c.R&&b&&!b[u]&&a(b,u,f)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},function(t,e,n){var r=n(19),o=n(36);t.exports=n(20)?function(t,e,n){return r.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){var r=n(82),o=n(51);t.exports=function(t){return r(o(t))}},function(t,e,n){var r=n(54)("wks"),o=n(39),i=n(17).Symbol,a="function"==typeof i;(t.exports=function(t){return r[t]||(r[t]=a&&i[t]||(a?i:o)("Symbol."+t))}).store=r},function(t,e){var n,r,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(t){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var c,u=[],l=!1,f=-1;function h(){l&&c&&(l=!1,c.length?u=c.concat(u):f=-1,u.length&&p())}function p(){if(!l){var t=s(h);l=!0;for(var e=u.length;e;){for(c=u,u=[];++f<e;)c&&c[f].run();f=-1,e=u.length}c=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function y(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new d(t,e)),1!==u.length||l||s(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=y,o.addListener=y,o.once=y,o.off=y,o.removeListener=y,o.removeAllListeners=y,o.emit=y,o.prependListener=y,o.prependOnceListener=y,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e,n){"use strict";var r=this&&this.__values||function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}};Object.defineProperty(e,"__esModule",{value:!0});var o=n(170),i=n(171),a=function(){function t(t){this.isVideo=!1,this.socket=i(t),this.initAfter()}return t.prototype.initAfter=function(){var e=this;this.socket.on("connect",function(){console.log("socket connect"),e.isConnected=!0}),this.socket.on("disconnect",function(){e.isConnected=!1}),this.socket.on("msgRes",function(t){if(e.msgStore){var n=e.msgStore.get(t.createAt);n&&clearTimeout(n),e.msgStore.delete(t.createAt)}e.msgSendListener&&e.msgSendListener.forEach(function(n){var r=e.msgIdToNumber.get(t.createAt);void 0!==r&&n(!0,r)})}),this.socket.on(o.SignalType,function(n){var r=n.data;o.isRTCIceCandidate(r)?(t.receiveCandidate=t.receiveCandidate||[],t.receiveCandidate.push(r),e.emitSignalEvent("candidate",n)):o.isDataString(r)?"bye"===r?e.emitSignalEvent("bye",n):"voice"===r?e.emitSignalEvent("switchvoice",n):"denyFile"===r&&e.emitSignalEvent("denyFile",n):"offer"===r.type?(t.videoOffer=r,e.emitSignalEvent("offer",n)):"answer"===r.type&&e.emitSignalEvent("answer",n)})},t.getInstance=function(e){if(e)return this.url!==e?(this.url=e,this.inst&&this.inst.destory(),this.inst=new t(e),this.inst):this.inst?this.inst:(this.inst=new t(e),this.inst);if(this.inst)return this.inst;throw new Error("Need a url to connect")},t.prototype.reconnect=function(){this.offAll(),this.socket=i(t.url),this.initAfter()},t.prototype.sendMsg=function(t,e,n){var r=this;void 0===n&&(n=15);var o=setTimeout(function(){r.msgStore.delete(t.createAt),r.msgSendListener&&r.msgSendListener.forEach(function(t){t(!1,e)})},1e3*n);this.msgStore||(this.msgStore=new Map),this.msgIdToNumber||(this.msgIdToNumber=new Map),this.msgStore.set(t.createAt,o),this.msgIdToNumber.set(t.createAt,e),this.socket.emit("sendMsg",t)},t.prototype.on=function(t,e){this.socket.on(t,e)},t.prototype.offAll=function(){this.socket.removeAllListeners()},t.prototype.off=function(t){this.socket.off(t)},t.prototype.destory=function(){this.offAll(),delete this.socket},t.prototype.cleanMsgResSubscribe=function(){var t,e;if(this.msgStore)try{for(var n=r(this.msgStore.keys()),o=n.next();!o.done;o=n.next()){var i=o.value;clearTimeout(this.msgStore.get(i)),this.msgStore.delete(i)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.msgSendListener=[],this.msgIdToNumber=new Map},t.prototype.subscribeMsgRes=function(t){this.msgSendListener||(this.msgSendListener=[]),this.msgSendListener.push(t)},t.prototype.sendSignalMsg=function(t){this.socket.emit(o.SignalType,t)},t.prototype.subscribeSignal=function(t,e){this.signalListener||(this.signalListener=new Map);var n=this.signalListener.get(t);n?n.push(e):this.signalListener.set(t,[e])},t.prototype.unSubscribeSignal=function(t,e){if(this.signalListener){var n=this.signalListener.get(t);if(n){var r=n.indexOf(e);r>-1&&(n.splice(r,1),this.signalListener.set(t,n))}}},t.prototype.emitSignalEvent=function(t,e){if(this.signalListener){var n=this.signalListener.get(t);n&&n.forEach(function(t){t(e)})}},t}();e.default=a},function(t,e,n){function r(t){if(t)return function(t){for(var e in r.prototype)t[e]=r.prototype[e];return t}(t)}t.exports=r,r.prototype.on=r.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},r.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+t];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var o=0;o<r.length;o++)if((n=r[o])===e||n.fn===e){r.splice(o,1);break}return this},r.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),n=this._callbacks["$"+t];if(n)for(var r=0,o=(n=n.slice(0)).length;r<o;++r)n[r].apply(this,e);return this},r.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},r.prototype.hasListeners=function(t){return!!this.listeners(t).length}},function(t,e,n){(function(t){var r,o=n(181),i=n(97),a=n(187),s=n(188),c=n(189);t&&t.ArrayBuffer&&(r=n(191));var u="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),l="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),f=u||l;e.protocol=3;var h=e.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},p=o(h),d={type:"error",data:"parser error"},y=n(192);function m(t,e,n){for(var r=new Array(t.length),o=s(t.length,n),i=function(t,n,o){e(n,function(e,n){r[t]=n,o(e,r)})},a=0;a<t.length;a++)i(a,t[a],o)}e.encodePacket=function(n,r,o,i){"function"==typeof r&&(i=r,r=!1),"function"==typeof o&&(i=o,o=null);var a=void 0===n.data?void 0:n.data.buffer||n.data;if(t.ArrayBuffer&&a instanceof ArrayBuffer)return function(t,n,r){if(!n)return e.encodeBase64Packet(t,r);var o=t.data,i=new Uint8Array(o),a=new Uint8Array(1+o.byteLength);a[0]=h[t.type];for(var s=0;s<i.length;s++)a[s+1]=i[s];return r(a.buffer)}(n,r,i);if(y&&a instanceof t.Blob)return function(t,n,r){if(!n)return e.encodeBase64Packet(t,r);if(f)return function(t,n,r){if(!n)return e.encodeBase64Packet(t,r);var o=new FileReader;return o.onload=function(){t.data=o.result,e.encodePacket(t,n,!0,r)},o.readAsArrayBuffer(t.data)}(t,n,r);var o=new Uint8Array(1);o[0]=h[t.type];var i=new y([o.buffer,t.data]);return r(i)}(n,r,i);if(a&&a.base64)return function(t,n){var r="b"+e.packets[t.type]+t.data.data;return n(r)}(n,i);var s=h[n.type];return void 0!==n.data&&(s+=o?c.encode(String(n.data),{strict:!1}):String(n.data)),i(""+s)},e.encodeBase64Packet=function(n,r){var o,i="b"+e.packets[n.type];if(y&&n.data instanceof t.Blob){var a=new FileReader;return a.onload=function(){var t=a.result.split(",")[1];r(i+t)},a.readAsDataURL(n.data)}try{o=String.fromCharCode.apply(null,new Uint8Array(n.data))}catch(t){for(var s=new Uint8Array(n.data),c=new Array(s.length),u=0;u<s.length;u++)c[u]=s[u];o=String.fromCharCode.apply(null,c)}return i+=t.btoa(o),r(i)},e.decodePacket=function(t,n,r){if(void 0===t)return d;if("string"==typeof t){if("b"===t.charAt(0))return e.decodeBase64Packet(t.substr(1),n);if(r&&!1===(t=function(t){try{t=c.decode(t,{strict:!1})}catch(t){return!1}return t}(t)))return d;var o=t.charAt(0);return Number(o)==o&&p[o]?t.length>1?{type:p[o],data:t.substring(1)}:{type:p[o]}:d}o=new Uint8Array(t)[0];var i=a(t,1);return y&&"blob"===n&&(i=new y([i])),{type:p[o],data:i}},e.decodeBase64Packet=function(t,e){var n=p[t.charAt(0)];if(!r)return{type:n,data:{base64:!0,data:t.substr(1)}};var o=r.decode(t.substr(1));return"blob"===e&&y&&(o=new y([o])),{type:n,data:o}},e.encodePayload=function(t,n,r){"function"==typeof n&&(r=n,n=null);var o=i(t);if(n&&o)return y&&!f?e.encodePayloadAsBlob(t,r):e.encodePayloadAsArrayBuffer(t,r);if(!t.length)return r("0:");m(t,function(t,r){e.encodePacket(t,!!o&&n,!1,function(t){r(null,function(t){return t.length+":"+t}(t))})},function(t,e){return r(e.join(""))})},e.decodePayload=function(t,n,r){if("string"!=typeof t)return e.decodePayloadAsBinary(t,n,r);var o;if("function"==typeof n&&(r=n,n=null),""===t)return r(d,0,1);for(var i,a,s="",c=0,u=t.length;c<u;c++){var l=t.charAt(c);if(":"===l){if(""===s||s!=(i=Number(s)))return r(d,0,1);if(s!=(a=t.substr(c+1,i)).length)return r(d,0,1);if(a.length){if(o=e.decodePacket(a,n,!1),d.type===o.type&&d.data===o.data)return r(d,0,1);if(!1===r(o,c+i,u))return}c+=i,s=""}else s+=l}return""!==s?r(d,0,1):void 0},e.encodePayloadAsArrayBuffer=function(t,n){if(!t.length)return n(new ArrayBuffer(0));m(t,function(t,n){e.encodePacket(t,!0,!0,function(t){return n(null,t)})},function(t,e){var r=e.reduce(function(t,e){var n;return t+(n="string"==typeof e?e.length:e.byteLength).toString().length+n+2},0),o=new Uint8Array(r),i=0;return e.forEach(function(t){var e="string"==typeof t,n=t;if(e){for(var r=new Uint8Array(t.length),a=0;a<t.length;a++)r[a]=t.charCodeAt(a);n=r.buffer}o[i++]=e?0:1;var s=n.byteLength.toString();for(a=0;a<s.length;a++)o[i++]=parseInt(s[a]);o[i++]=255;for(r=new Uint8Array(n),a=0;a<r.length;a++)o[i++]=r[a]}),n(o.buffer)})},e.encodePayloadAsBlob=function(t,n){m(t,function(t,n){e.encodePacket(t,!0,!0,function(t){var e=new Uint8Array(1);if(e[0]=1,"string"==typeof t){for(var r=new Uint8Array(t.length),o=0;o<t.length;o++)r[o]=t.charCodeAt(o);t=r.buffer,e[0]=0}var i=(t instanceof ArrayBuffer?t.byteLength:t.size).toString(),a=new Uint8Array(i.length+1);for(o=0;o<i.length;o++)a[o]=parseInt(i[o]);if(a[i.length]=255,y){var s=new y([e.buffer,a.buffer,t]);n(null,s)}})},function(t,e){return n(new y(e))})},e.decodePayloadAsBinary=function(t,n,r){"function"==typeof n&&(r=n,n=null);for(var o=t,i=[];o.byteLength>0;){for(var s=new Uint8Array(o),c=0===s[0],u="",l=1;255!==s[l];l++){if(u.length>310)return r(d,0,1);u+=s[l]}o=a(o,2+u.length),u=parseInt(u);var f=a(o,0,u);if(c)try{f=String.fromCharCode.apply(null,new Uint8Array(f))}catch(t){var h=new Uint8Array(f);f="";for(l=0;l<h.length;l++)f+=String.fromCharCode(h[l])}i.push(f),o=a(o,u)}var p=i.length;i.forEach(function(t,o){r(e.decodePacket(t,n,!0),o,p)})}}).call(this,n(12))},function(t,e,n){var r=n(24);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){t.exports=ReactRedux},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1);n(216);var o=function(t){var e=t.width,n=t.height,o=t.className,i=t.type,a=t.color,s=t.onClick;return r.createElement("svg",{onClick:s,className:"svg-icon-container "+o,viewBox:"0 0 "+e+" "+n},r.createElement("use",{xlinkHref:"#"+i,width:e,height:n,fill:a}))};o.defaultProps={width:60,height:60,className:"",color:"#f00"},e.default=o},function(t,e,n){"use strict";var r=n(5),o=n.n(r),i=n(10),a=n.n(i),s=n(7),c=n.n(s),u=n(9),l=n.n(u),f=n(4),h=n.n(f),p=n(8),d=n.n(p),y=n(1),m=n.n(y),v=n(0),g=n.n(v);function b(t){var e=[];return m.a.Children.forEach(t,function(t){e.push(t)}),e}function w(t,e){var n=null;return t&&t.forEach(function(t){n||t&&t.key===e&&(n=t)}),n}function C(t,e,n){var r=null;return t&&t.forEach(function(t){if(t&&t.key===e&&t.props[n]){if(r)throw new Error("two child with same key for <rc-animate> children");r=t}}),r}var E=n(6),A=n.n(E),_=n(47),S=n.n(_),k={transitionend:{transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"mozTransitionEnd",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd"},animationend:{animation:"animationend",WebkitAnimation:"webkitAnimationEnd",MozAnimation:"mozAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd"}},x=[];"undefined"!=typeof window&&"undefined"!=typeof document&&function(){var t=document.createElement("div").style;for(var e in"AnimationEvent"in window||delete k.animationend.animation,"TransitionEvent"in window||delete k.transitionend.transition,k)if(k.hasOwnProperty(e)){var n=k[e];for(var r in n)if(r in t){x.push(n[r]);break}}}();var O={addEndEventListener:function(t,e){0!==x.length?x.forEach(function(n){!function(t,e,n){t.addEventListener(e,n,!1)}(t,n,e)}):window.setTimeout(e,0)},endEvents:x,removeEndEventListener:function(t,e){0!==x.length&&x.forEach(function(n){!function(t,e,n){t.removeEventListener(e,n,!1)}(t,n,e)})}},T=n(110),P=n.n(T),M=0!==O.endEvents.length,F=["Webkit","Moz","O","ms"],N=["-webkit-","-moz-","-o-","ms-",""];function R(t,e){for(var n=window.getComputedStyle(t,null),r="",o=0;o<N.length&&!(r=n.getPropertyValue(N[o]+e));o++);return r}function j(t){if(M){var e=parseFloat(R(t,"transition-delay"))||0,n=parseFloat(R(t,"transition-duration"))||0,r=parseFloat(R(t,"animation-delay"))||0,o=parseFloat(R(t,"animation-duration"))||0,i=Math.max(n+e,o+r);t.rcEndAnimTimeout=setTimeout(function(){t.rcEndAnimTimeout=null,t.rcEndListener&&t.rcEndListener()},1e3*i+200)}}function B(t){t.rcEndAnimTimeout&&(clearTimeout(t.rcEndAnimTimeout),t.rcEndAnimTimeout=null)}var I=function(t,e,n){var r="object"===(void 0===e?"undefined":S()(e)),o=r?e.name:e,i=r?e.active:e+"-active",a=n,s=void 0,c=void 0,u=P()(t);return n&&"[object Object]"===Object.prototype.toString.call(n)&&(a=n.end,s=n.start,c=n.active),t.rcEndListener&&t.rcEndListener(),t.rcEndListener=function(e){e&&e.target!==t||(t.rcAnimTimeout&&(clearTimeout(t.rcAnimTimeout),t.rcAnimTimeout=null),B(t),u.remove(o),u.remove(i),O.removeEndEventListener(t,t.rcEndListener),t.rcEndListener=null,a&&a())},O.addEndEventListener(t,t.rcEndListener),s&&s(),u.add(o),t.rcAnimTimeout=setTimeout(function(){t.rcAnimTimeout=null,u.add(i),c&&setTimeout(c,0),j(t)},30),{stop:function(){t.rcEndListener&&t.rcEndListener()}}};I.style=function(t,e,n){t.rcEndListener&&t.rcEndListener(),t.rcEndListener=function(e){e&&e.target!==t||(t.rcAnimTimeout&&(clearTimeout(t.rcAnimTimeout),t.rcAnimTimeout=null),B(t),O.removeEndEventListener(t,t.rcEndListener),t.rcEndListener=null,n&&n())},O.addEndEventListener(t,t.rcEndListener),t.rcAnimTimeout=setTimeout(function(){for(var n in e)e.hasOwnProperty(n)&&(t.style[n]=e[n]);t.rcAnimTimeout=null,j(t)},0)},I.setTransition=function(t,e,n){var r=e,o=n;void 0===n&&(o=r,r=""),r=r||"",F.forEach(function(e){t.style[e+"Transition"+r]=o})},I.isCssAnimationSupported=M;var L=I,D={isAppearSupported:function(t){return t.transitionName&&t.transitionAppear||t.animation.appear},isEnterSupported:function(t){return t.transitionName&&t.transitionEnter||t.animation.enter},isLeaveSupported:function(t){return t.transitionName&&t.transitionLeave||t.animation.leave},allowAppearCallback:function(t){return t.transitionAppear||t.animation.appear},allowEnterCallback:function(t){return t.transitionEnter||t.animation.enter},allowLeaveCallback:function(t){return t.transitionLeave||t.animation.leave}},U={enter:"transitionEnter",appear:"transitionAppear",leave:"transitionLeave"},z=function(t){function e(){return c()(this,e),h()(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return d()(e,t),l()(e,[{key:"componentWillUnmount",value:function(){this.stop()}},{key:"componentWillEnter",value:function(t){D.isEnterSupported(this.props)?this.transition("enter",t):t()}},{key:"componentWillAppear",value:function(t){D.isAppearSupported(this.props)?this.transition("appear",t):t()}},{key:"componentWillLeave",value:function(t){D.isLeaveSupported(this.props)?this.transition("leave",t):t()}},{key:"transition",value:function(t,e){var n=this,r=A.a.findDOMNode(this),o=this.props,i=o.transitionName,a="object"==typeof i;this.stop();var s=function(){n.stopper=null,e()};if((M||!o.animation[t])&&i&&o[U[t]]){var c=a?i[t]:i+"-"+t,u=c+"-active";a&&i[t+"Active"]&&(u=i[t+"Active"]),this.stopper=L(r,{name:c,active:u},s)}else this.stopper=o.animation[t](r,s)}},{key:"stop",value:function(){var t=this.stopper;t&&(this.stopper=null,t.stop())}},{key:"render",value:function(){return this.props.children}}]),e}(m.a.Component);z.propTypes={children:g.a.any};var W=z;function V(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==t&&void 0!==t&&this.setState(t)}function q(t){this.setState(function(e){var n=this.constructor.getDerivedStateFromProps(t,e);return null!==n&&void 0!==n?n:null}.bind(this))}function H(t,e){try{var n=this.props,r=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}V.__suppressDeprecationWarning=!0,q.__suppressDeprecationWarning=!0,H.__suppressDeprecationWarning=!0;var Y=n(15),G=n.n(Y),K=n(75),J=n.n(K),X=!("undefined"==typeof window||!window.document||!window.document.createElement);function Q(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n["ms"+t]="MS"+e,n["O"+t]="o"+e.toLowerCase(),n}var Z=function(t,e){var n={animationend:Q("Animation","AnimationEnd"),transitionend:Q("Transition","TransitionEnd")};return t&&("AnimationEvent"in e||delete n.animationend.animation,"TransitionEvent"in e||delete n.transitionend.transition),n}(X,"undefined"!=typeof window?window:{}),$={};X&&($=document.createElement("div").style);var tt={};function et(t){if(tt[t])return tt[t];var e=Z[t];if(e)for(var n=Object.keys(e),r=n.length,o=0;o<r;o+=1){var i=n[o];if(Object.prototype.hasOwnProperty.call(e,i)&&i in $)return tt[t]=e[i],tt[t]}return""}var nt=et("animationend"),rt=et("transitionend");function ot(t,e){return t?"object"==typeof t?t[e.replace(/-\w/g,function(t){return t[1].toUpperCase()})]:t+"-"+e:null}var it="none",at="appear",st="enter",ct="leave";var ut=function(t){function e(e){return!(!e.motionName||!t)}var n=function(t){function n(){c()(this,n);var t=h()(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return t.onDomUpdate=function(){var n=t.state,r=n.status,o=n.newStatus,i=t.props,a=i.onAppearStart,s=i.onEnterStart,c=i.onLeaveStart,u=i.onAppearActive,l=i.onEnterActive,f=i.onLeaveActive,h=i.motionAppear,p=i.motionEnter,d=i.motionLeave;if(e(t.props)){var y=A.a.findDOMNode(t);t.$ele!==y&&(t.removeEventListener(t.$ele),t.addEventListener(y),t.$ele=y),o&&r===at&&h?t.updateStatus(a,null,null,function(){t.updateActiveStatus(u,at)}):o&&r===st&&p?t.updateStatus(s,null,null,function(){t.updateActiveStatus(l,st)}):o&&r===ct&&d&&t.updateStatus(c,null,null,function(){t.updateActiveStatus(f,ct)})}},t.onMotionEnd=function(e){var n=t.state,r=n.status,o=n.statusActive,i=t.props,a=i.onAppearEnd,s=i.onEnterEnd,c=i.onLeaveEnd;r===at&&o?t.updateStatus(a,{status:it},e):r===st&&o?t.updateStatus(s,{status:it},e):r===ct&&o&&t.updateStatus(c,{status:it},e)},t.addEventListener=function(e){e&&(e.addEventListener(rt,t.onMotionEnd),e.addEventListener(nt,t.onMotionEnd))},t.removeEventListener=function(e){e&&(e.removeEventListener(rt,t.onMotionEnd),e.removeEventListener(nt,t.onMotionEnd))},t.updateStatus=function(e,n,r,i){var a=e?e(A.a.findDOMNode(t),r):null;if(!1!==a&&!t._destroyed){var s=void 0;i&&(s=function(){t.nextFrame(i)}),t.setState(o()({statusStyle:"object"==typeof a?a:null,newStatus:!1},n),s)}},t.updateActiveStatus=function(e,n){t.nextFrame(function(){t.state.status===n&&t.updateStatus(e,{statusActive:!0})})},t.nextFrame=function(e){t.cancelNextFrame(),t.raf=J()(e)},t.cancelNextFrame=function(){t.raf&&(J.a.cancel(t.raf),t.raf=null)},t.state={status:it,statusActive:!1,newStatus:!1,statusStyle:null},t.$ele=null,t.raf=null,t}return d()(n,t),l()(n,[{key:"componentDidMount",value:function(){this.onDomUpdate()}},{key:"componentDidUpdate",value:function(){this.onDomUpdate()}},{key:"componentWillUnmount",value:function(){this._destroyed=!0,this.removeEventListener(this.$ele),this.cancelNextFrame()}},{key:"render",value:function(){var t,n=this.state,r=n.status,o=n.statusActive,i=n.statusStyle,s=this.props,c=s.children,u=s.motionName,l=s.visible,f=s.removeOnLeave;return c?r!==it&&e(this.props)?c({className:G()((t={},a()(t,ot(u,r),r!==it),a()(t,ot(u,r+"-active"),r!==it&&o),a()(t,u,"string"==typeof u),t)),style:i}):l||!f?c({}):null:null}}],[{key:"getDerivedStateFromProps",value:function(t,n){var r=n.prevProps;if(!e(t))return{};var o=t.visible,i=t.motionAppear,a=t.motionEnter,s=t.motionLeave,c=t.motionLeaveImmediately,u={prevProps:t};return!r&&o&&i&&(u.status=at,u.statusActive=!1,u.newStatus=!0),r&&!r.visible&&o&&a&&(u.status=st,u.statusActive=!1,u.newStatus=!0),(r&&r.visible&&!o&&s||!r&&c&&!o&&s)&&(u.status=ct,u.statusActive=!1,u.newStatus=!0),u}}]),n}(m.a.Component);return n.propTypes={visible:g.a.bool,children:g.a.func,motionName:g.a.oneOfType([g.a.string,g.a.object]),motionAppear:g.a.bool,motionEnter:g.a.bool,motionLeave:g.a.bool,motionLeaveImmediately:g.a.bool,removeOnLeave:g.a.bool,onAppearStart:g.a.func,onAppearActive:g.a.func,onAppearEnd:g.a.func,onEnterStart:g.a.func,onEnterActive:g.a.func,onEnterEnd:g.a.func,onLeaveStart:g.a.func,onLeaveActive:g.a.func,onLeaveEnd:g.a.func},n.defaultProps={visible:!0,motionEnter:!0,motionAppear:!0,motionLeave:!0,removeOnLeave:!0},function(t){var e=t.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof t.getDerivedStateFromProps&&"function"!=typeof e.getSnapshotBeforeUpdate)return t;var n=null,r=null,o=null;if("function"==typeof e.componentWillMount?n="componentWillMount":"function"==typeof e.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"==typeof e.componentWillReceiveProps?r="componentWillReceiveProps":"function"==typeof e.UNSAFE_componentWillReceiveProps&&(r="UNSAFE_componentWillReceiveProps"),"function"==typeof e.componentWillUpdate?o="componentWillUpdate":"function"==typeof e.UNSAFE_componentWillUpdate&&(o="UNSAFE_componentWillUpdate"),null!==n||null!==r||null!==o){var i=t.displayName||t.name,a="function"==typeof t.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+i+" uses "+a+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==r?"\n  "+r:"")+(null!==o?"\n  "+o:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof t.getDerivedStateFromProps&&(e.componentWillMount=V,e.componentWillReceiveProps=q),"function"==typeof e.getSnapshotBeforeUpdate){if("function"!=typeof e.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=H;var s=e.componentDidUpdate;e.componentDidUpdate=function(t,e,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;s.call(this,t,e,r)}}}(n),n}(!(!nt||!rt)),lt="rc_animate_"+Date.now();function ft(t){var e=t.children;return m.a.isValidElement(e)&&!e.key?m.a.cloneElement(e,{key:lt}):e}function ht(){}var pt=function(t){function e(t){c()(this,e);var n=h()(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return dt.call(n),n.currentlyAnimatingKeys={},n.keysToEnter=[],n.keysToLeave=[],n.state={children:b(ft(t))},n.childrenRefs={},n}return d()(e,t),l()(e,[{key:"componentDidMount",value:function(){var t=this,e=this.props.showProp,n=this.state.children;e&&(n=n.filter(function(t){return!!t.props[e]})),n.forEach(function(e){e&&t.performAppear(e.key)})}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.nextProps=t;var n=b(ft(t)),r=this.props;r.exclusive&&Object.keys(this.currentlyAnimatingKeys).forEach(function(t){e.stop(t)});var o=r.showProp,i=this.currentlyAnimatingKeys,s=r.exclusive?b(ft(r)):this.state.children,c=[];o?(s.forEach(function(t){var e=t&&w(n,t.key),r=void 0;(r=e&&e.props[o]||!t.props[o]?e:m.a.cloneElement(e||t,a()({},o,!0)))&&c.push(r)}),n.forEach(function(t){t&&w(s,t.key)||c.push(t)})):c=function(t,e){var n=[],r={},o=[];return t.forEach(function(t){t&&w(e,t.key)?o.length&&(r[t.key]=o,o=[]):o.push(t)}),e.forEach(function(t){t&&Object.prototype.hasOwnProperty.call(r,t.key)&&(n=n.concat(r[t.key])),n.push(t)}),n=n.concat(o)}(s,n),this.setState({children:c}),n.forEach(function(t){var n=t&&t.key;if(!t||!i[n]){var r=t&&w(s,n);if(o){var a=t.props[o];if(r)!C(s,n,o)&&a&&e.keysToEnter.push(n);else a&&e.keysToEnter.push(n)}else r||e.keysToEnter.push(n)}}),s.forEach(function(t){var r=t&&t.key;if(!t||!i[r]){var a=t&&w(n,r);if(o){var s=t.props[o];if(a)!C(n,r,o)&&s&&e.keysToLeave.push(r);else s&&e.keysToLeave.push(r)}else a||e.keysToLeave.push(r)}})}},{key:"componentDidUpdate",value:function(){var t=this.keysToEnter;this.keysToEnter=[],t.forEach(this.performEnter);var e=this.keysToLeave;this.keysToLeave=[],e.forEach(this.performLeave)}},{key:"isValidChildByKey",value:function(t,e){var n=this.props.showProp;return n?C(t,e,n):w(t,e)}},{key:"stop",value:function(t){delete this.currentlyAnimatingKeys[t];var e=this.childrenRefs[t];e&&e.stop()}},{key:"render",value:function(){var t=this,e=this.props;this.nextProps=e;var n=this.state.children,r=null;n&&(r=n.map(function(n){if(null===n||void 0===n)return n;if(!n.key)throw new Error("must set key for <rc-animate> children");return m.a.createElement(W,{key:n.key,ref:function(e){t.childrenRefs[n.key]=e},animation:e.animation,transitionName:e.transitionName,transitionEnter:e.transitionEnter,transitionAppear:e.transitionAppear,transitionLeave:e.transitionLeave},n)}));var i=e.component;if(i){var a=e;return"string"==typeof i&&(a=o()({className:e.className,style:e.style},e.componentProps)),m.a.createElement(i,a,r)}return r[0]||null}}]),e}(m.a.Component);pt.isAnimate=!0,pt.CSSMotion=ut,pt.propTypes={component:g.a.any,componentProps:g.a.object,animation:g.a.object,transitionName:g.a.oneOfType([g.a.string,g.a.object]),transitionEnter:g.a.bool,transitionAppear:g.a.bool,exclusive:g.a.bool,transitionLeave:g.a.bool,onEnd:g.a.func,onEnter:g.a.func,onLeave:g.a.func,onAppear:g.a.func,showProp:g.a.string,children:g.a.node},pt.defaultProps={animation:{},component:"span",componentProps:{},transitionEnter:!0,transitionLeave:!0,transitionAppear:!1,onEnd:ht,onEnter:ht,onLeave:ht,onAppear:ht};var dt=function(){var t=this;this.performEnter=function(e){t.childrenRefs[e]&&(t.currentlyAnimatingKeys[e]=!0,t.childrenRefs[e].componentWillEnter(t.handleDoneAdding.bind(t,e,"enter")))},this.performAppear=function(e){t.childrenRefs[e]&&(t.currentlyAnimatingKeys[e]=!0,t.childrenRefs[e].componentWillAppear(t.handleDoneAdding.bind(t,e,"appear")))},this.handleDoneAdding=function(e,n){var r=t.props;if(delete t.currentlyAnimatingKeys[e],!r.exclusive||r===t.nextProps){var o=b(ft(r));t.isValidChildByKey(o,e)?"appear"===n?D.allowAppearCallback(r)&&(r.onAppear(e),r.onEnd(e,!0)):D.allowEnterCallback(r)&&(r.onEnter(e),r.onEnd(e,!0)):t.performLeave(e)}},this.performLeave=function(e){t.childrenRefs[e]&&(t.currentlyAnimatingKeys[e]=!0,t.childrenRefs[e].componentWillLeave(t.handleDoneLeaving.bind(t,e)))},this.handleDoneLeaving=function(e){var n=t.props;if(delete t.currentlyAnimatingKeys[e],!n.exclusive||n===t.nextProps){var r=b(ft(n));if(t.isValidChildByKey(r,e))t.performEnter(e);else{var o=function(){D.allowLeaveCallback(n)&&(n.onLeave(e),n.onEnd(e,!1))};!function(t,e,n){var r=t.length===e.length;return r&&t.forEach(function(t,o){var i=e[o];t&&i&&(t&&!i||!t&&i?r=!1:t.key!==i.key?r=!1:n&&t.props[n]!==i.props[n]&&(r=!1))}),r}(t.state.children,r,n.showProp)?t.setState({children:r},o):o()}}}};e.a=pt},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var r=n(81),o=n(55);t.exports=Object.keys||function(t){return r(t,o)}},function(t,e){t.exports=!0},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){},function(t,e,n){(function(r){function o(){var t;try{t=e.storage.debug}catch(t){}return!t&&void 0!==r&&"env"in r&&(t=r.env.DEBUG),t}(e=t.exports=n(173)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},e.formatArgs=function(t){var n=this.useColors;if(t[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+t[0]+(n?"%c ":" ")+"+"+e.humanize(this.diff),!n)return;var r="color: "+this.color;t.splice(1,0,r,"color: inherit");var o=0,i=0;t[0].replace(/%[a-zA-Z%]/g,function(t){"%%"!==t&&"%c"===t&&(i=++o)}),t.splice(i,0,r)},e.save=function(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(t){}},e.load=o,e.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},e.enable(o())}).call(this,n(27))},function(t,e){e.encode=function(t){var e="";for(var n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e},e.decode=function(t){for(var e={},n=t.split("&"),r=0,o=n.length;r<o;r++){var i=n[r].split("=");e[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return e}},function(t,e){t.exports=function(t,e){var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e,n){(function(r){function o(){var t;try{t=e.storage.debug}catch(t){}return!t&&void 0!==r&&"env"in r&&(t=r.env.DEBUG),t}(e=t.exports=n(193)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},e.formatArgs=function(t){var n=this.useColors;if(t[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+t[0]+(n?"%c ":" ")+"+"+e.humanize(this.diff),!n)return;var r="color: "+this.color;t.splice(1,0,r,"color: inherit");var o=0,i=0;t[0].replace(/%[a-zA-Z%]/g,function(t){"%%"!==t&&"%c"===t&&(i=++o)}),t.splice(i,0,r)},e.save=function(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(t){}},e.load=o,e.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},e.enable(o())}).call(this,n(27))},function(t,e,n){"use strict";n.r(e);var r=n(10),o=n.n(r),i=n(15),a=n.n(i),s=n(1),c=n.n(s),u=n(109),l=n.n(u),f=n(5),h=n.n(f),p=n(7),d=n.n(p),y=n(9),m=n.n(y),v=n(4),g=n.n(v),b=n(8),w=n.n(b),C=n(0),E=n.n(C),A=n(6),_=n.n(A),S=n(35);var k=function(t){function e(){var t,n,r,o;d()(this,e);for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];return n=r=g()(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(a))),r.close=function(){r.clearCloseTimer(),r.props.onClose()},r.startCloseTimer=function(){r.props.duration&&(r.closeTimer=setTimeout(function(){r.close()},1e3*r.props.duration))},r.clearCloseTimer=function(){r.closeTimer&&(clearTimeout(r.closeTimer),r.closeTimer=null)},o=n,g()(r,o)}return w()(e,t),m()(e,[{key:"componentDidMount",value:function(){this.startCloseTimer()}},{key:"componentWillUnmount",value:function(){this.clearCloseTimer()}},{key:"render",value:function(){var t,e=this.props,n=e.prefixCls+"-notice",r=(t={},o()(t,""+n,1),o()(t,n+"-closable",e.closable),o()(t,e.className,!!e.className),t);return c.a.createElement("div",{className:a()(r),style:e.style},c.a.createElement("div",{className:n+"-content"},e.children),e.closable?c.a.createElement("a",{tabIndex:"0",onClick:this.close,className:n+"-close"},c.a.createElement("span",{className:n+"-close-x"})):null)}}]),e}(s.Component);k.propTypes={duration:E.a.number,onClose:E.a.func,children:E.a.any},k.defaultProps={onEnd:function(){},onClose:function(){},duration:1.5,style:{right:"50%"}};var x=k,O=0,T=Date.now();var P=function(t){function e(){var t,n,r,o;d()(this,e);for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];return n=r=g()(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(a))),r.state={notices:[]},r.add=function(t){var e=t.key=t.key||"rcNotification_"+T+"_"+O++;r.setState(function(n){var r=n.notices;if(!r.filter(function(t){return t.key===e}).length)return{notices:r.concat(t)}})},r.remove=function(t){r.setState(function(e){return{notices:e.notices.filter(function(e){return e.key!==t})}})},o=n,g()(r,o)}return w()(e,t),m()(e,[{key:"getTransitionName",value:function(){var t=this.props,e=t.transitionName;return!e&&t.animation&&(e=t.prefixCls+"-"+t.animation),e}},{key:"render",value:function(){var t,e=this,n=this.props,r=this.state.notices.map(function(t){var r=function(){var t=[].slice.call(arguments,0);return 1===t.length?t[0]:function(){for(var e=0;e<t.length;e++)t[e]&&t[e].apply&&t[e].apply(this,arguments)}}(e.remove.bind(e,t.key),t.onClose);return c.a.createElement(x,h()({prefixCls:n.prefixCls},t,{onClose:r}),t.content)}),i=(t={},o()(t,n.prefixCls,1),o()(t,n.className,!!n.className),t);return c.a.createElement("div",{className:a()(i),style:n.style},c.a.createElement(S.a,{transitionName:this.getTransitionName()},r))}}]),e}(s.Component);P.propTypes={prefixCls:E.a.string,transitionName:E.a.string,animation:E.a.oneOfType([E.a.string,E.a.object]),style:E.a.object},P.defaultProps={prefixCls:"rmc-notification",animation:"fade",style:{top:65,left:"50%"}},P.newInstance=function(t,e){var n=t||{},r=n.getContainer,o=l()(n,["getContainer"]),i=void 0;r?i=r():(i=document.createElement("div"),document.body.appendChild(i));var a=!1;_.a.render(c.a.createElement(P,h()({},o,{ref:function(t){a||(a=!0,e({notice:function(e){t.add(e)},removeNotice:function(e){t.remove(e)},component:t,destroy:function(){_.a.unmountComponentAtNode(i),r||document.body.removeChild(i)}}))}})),i)};var M=P,F=n(74),N=void 0,R="am-toast";function j(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=arguments[3],i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],s={info:"",success:"success",fail:"fail",offline:"dislike",loading:"loading"}[e];!function(t,e){var n;N&&(N.destroy(),N=null),M.newInstance({prefixCls:R,style:{},transitionName:"am-fade",className:a()((n={},o()(n,R+"-mask",t),o()(n,R+"-nomask",!t),n))},function(t){return e&&e(t)})}(i,function(e){N=e,e.notice({duration:n,style:{},content:s?c.a.createElement("div",{className:R+"-text "+R+"-text-icon",role:"alert","aria-live":"assertive"},c.a.createElement(F.default,{type:s,size:"lg"}),c.a.createElement("div",{className:R+"-text-info"},t)):c.a.createElement("div",{className:R+"-text",role:"alert","aria-live":"assertive"},c.a.createElement("div",null,t)),closable:!0,onClose:function(){r&&r(),e.destroy(),e=null,N=null}})})}e.default={SHORT:3,LONG:8,show:function(t,e,n){return j(t,"info",e,function(){},n)},info:function(t,e,n,r){return j(t,"info",e,n,r)},success:function(t,e,n,r){return j(t,"success",e,n,r)},fail:function(t,e,n,r){return j(t,"fail",e,n,r)},offline:function(t,e,n,r){return j(t,"offline",e,n,r)},loading:function(t,e,n,r){return j(t,"loading",e,n,r)},hide:function(){N&&(N.destroy(),N=null)}}},function(t,e,n){"use strict";e.__esModule=!0;var r=a(n(132)),o=a(n(144)),i="function"==typeof o.default&&"symbol"==typeof r.default?function(t){return typeof t}:function(t){return t&&"function"==typeof o.default&&t.constructor===o.default&&t!==o.default.prototype?"symbol":typeof t};function a(t){return t&&t.__esModule?t:{default:t}}e.default="function"==typeof o.default&&"symbol"===i(r.default)?function(t){return void 0===t?"undefined":i(t)}:function(t){return t&&"function"==typeof o.default&&t.constructor===o.default&&t!==o.default.prototype?"symbol":void 0===t?"undefined":i(t)}},function(t,e,n){"use strict";var r=function(){};t.exports=r},function(t,e,n){var r=n(115);t.exports=d,t.exports.parse=i,t.exports.compile=function(t,e){return c(i(t,e))},t.exports.tokensToFunction=c,t.exports.tokensToRegExp=p;var o=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function i(t,e){for(var n,r=[],i=0,a=0,s="",c=e&&e.delimiter||"/";null!=(n=o.exec(t));){var f=n[0],h=n[1],p=n.index;if(s+=t.slice(a,p),a=p+f.length,h)s+=h[1];else{var d=t[a],y=n[2],m=n[3],v=n[4],g=n[5],b=n[6],w=n[7];s&&(r.push(s),s="");var C=null!=y&&null!=d&&d!==y,E="+"===b||"*"===b,A="?"===b||"*"===b,_=n[2]||c,S=v||g;r.push({name:m||i++,prefix:y||"",delimiter:_,optional:A,repeat:E,partial:C,asterisk:!!w,pattern:S?l(S):w?".*":"[^"+u(_)+"]+?"})}}return a<t.length&&(s+=t.substr(a)),s&&r.push(s),r}function a(t){return encodeURI(t).replace(/[\/?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function s(t){return encodeURI(t).replace(/[?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function c(t){for(var e=new Array(t.length),n=0;n<t.length;n++)"object"==typeof t[n]&&(e[n]=new RegExp("^(?:"+t[n].pattern+")$"));return function(n,o){for(var i="",c=n||{},u=(o||{}).pretty?a:encodeURIComponent,l=0;l<t.length;l++){var f=t[l];if("string"!=typeof f){var h,p=c[f.name];if(null==p){if(f.optional){f.partial&&(i+=f.prefix);continue}throw new TypeError('Expected "'+f.name+'" to be defined')}if(r(p)){if(!f.repeat)throw new TypeError('Expected "'+f.name+'" to not repeat, but received `'+JSON.stringify(p)+"`");if(0===p.length){if(f.optional)continue;throw new TypeError('Expected "'+f.name+'" to not be empty')}for(var d=0;d<p.length;d++){if(h=u(p[d]),!e[l].test(h))throw new TypeError('Expected all "'+f.name+'" to match "'+f.pattern+'", but received `'+JSON.stringify(h)+"`");i+=(0===d?f.prefix:f.delimiter)+h}}else{if(h=f.asterisk?s(p):u(p),!e[l].test(h))throw new TypeError('Expected "'+f.name+'" to match "'+f.pattern+'", but received "'+h+'"');i+=f.prefix+h}}else i+=f}return i}}function u(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function l(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function f(t,e){return t.keys=e,t}function h(t){return t.sensitive?"":"i"}function p(t,e,n){r(e)||(n=e||n,e=[]);for(var o=(n=n||{}).strict,i=!1!==n.end,a="",s=0;s<t.length;s++){var c=t[s];if("string"==typeof c)a+=u(c);else{var l=u(c.prefix),p="(?:"+c.pattern+")";e.push(c),c.repeat&&(p+="(?:"+l+p+")*"),a+=p=c.optional?c.partial?l+"("+p+")?":"(?:"+l+"("+p+"))?":l+"("+p+")"}}var d=u(n.delimiter||"/"),y=a.slice(-d.length)===d;return o||(a=(y?a.slice(0,-d.length):a)+"(?:"+d+"(?=$))?"),a+=i?"$":o&&y?"":"(?="+d+"|$)",f(new RegExp("^"+a,h(n)),e)}function d(t,e,n){return r(e)||(n=e||n,e=[]),n=n||{},t instanceof RegExp?function(t,e){var n=t.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)e.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return f(t,e)}(t,e):r(t)?function(t,e,n){for(var r=[],o=0;o<t.length;o++)r.push(d(t[o],e,n).source);return f(new RegExp("(?:"+r.join("|")+")",h(n)),e)}(t,e,n):function(t,e,n){return p(i(t,n),e,n)}(t,e,n)}},function(t,e,n){var r=n(24);t.exports=function(t,e){if(!r(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!r(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){var r=n(54)("keys"),o=n(39);t.exports=function(t){return r[t]||(r[t]=o(t))}},function(t,e,n){var r=n(18),o=n(17),i=o["__core-js_shared__"]||(o["__core-js_shared__"]={});(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:n(38)?"pure":"global",copyright:" 2018 Denis Pushkarev (zloirock.ru)"})},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e){t.exports={}},function(t,e,n){var r=n(31),o=n(137),i=n(55),a=n(53)("IE_PROTO"),s=function(){},c=function(){var t,e=n(80)("iframe"),r=i.length;for(e.style.display="none",n(138).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),c=t.F;r--;)delete c.prototype[i[r]];return c()};t.exports=Object.create||function(t,e){var n;return null!==t?(s.prototype=r(t),n=new s,s.prototype=null,n[a]=t):n=c(),void 0===e?n:o(n,e)}},function(t,e,n){var r=n(19).f,o=n(21),i=n(26)("toStringTag");t.exports=function(t,e,n){t&&!o(t=n?t:t.prototype,i)&&r(t,i,{configurable:!0,value:e})}},function(t,e,n){e.f=n(26)},function(t,e,n){var r=n(17),o=n(18),i=n(38),a=n(60),s=n(19).f;t.exports=function(t){var e=o.Symbol||(o.Symbol=i?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:a.f(t)})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(90);function o(t){return{type:e.INIT_FRIEND_LIST,payload:t}}function i(t){return{type:e.NEW_MSG_UPDATE,payload:t}}e.INIT_FRIEND_LIST="init_friend_list",e.NEW_MSG_UPDATE="new_msg_update",e.createInitFriendList=o,e.createNewMsgFriendAction=i;r.default(o),r.default(i)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(90);function o(t){return{type:e.INIT_MSG_LIST,messages:t}}function i(t){return{type:e.RECEIVE_NEW_MSG,message:t}}function a(t,n){return{type:e.UPDATE_MSG,index:t,msg:n}}e.INIT_MSG_LIST="init_msg_list",e.RECEIVE_NEW_MSG="receive_new_msg",e.UPDATE_MSG="update_msg",e.createInitMsgListAction=o,e.createNewMsgAction=i,e.updateMsgAction=a;r.default(o),r.default(i),r.default(a)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CHANGE_AVATOR_ACTION="change_avator_action",e.CHANGE_NAME_ACTION="change_name_action",e.INIT_CURRENT_USER="init_current_user",e.changeAvatorActionCreator=function(t){return{type:e.CHANGE_AVATOR_ACTION,payload:t}},e.changeNameActionCreator=function(t){return{type:e.CHANGE_NAME_ACTION,payload:t}},e.initCurrentUserActionCreate=function(t){return{type:e.INIT_CURRENT_USER,payload:t}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1);n(167);var o=n(168);e.default=function(t){var e=t.className,n=t.imgUrl,i=t.isRadius;return r.createElement("i",{className:"avator "+(e||""),style:{backgroundImage:"url("+(n||o)+")",borderRadius:i?"5px":0}})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.timeFormatter=function(t){var e=new Date(1e3*t);return e.getDate()+"/"+e.getMonth()+"/"+e.getFullYear()},e.getUTCTimeStamp=function(){var t=new Date;return new Date(t.getUTCFullYear()+"/"+(t.getUTCMonth()+1)+"/"+t.getUTCDate()+" "+t.getUTCHours()+":"+t.getUTCMinutes()+":"+t.getUTCSeconds()).getTime()/1e3},e.disableOverBounce=function(t){t.addEventListener("touchstart",function(){var e=t.scrollTop,n=t.scrollHeight,r=e+t.offsetHeight;0===e?t.scrollTop=1:r===n&&(t.scrollTop=e-1)},{passive:!1}),t.addEventListener("touchmove",function(e){t.offsetHeight<t.scrollHeight&&(e._isScroller=!0)},{passive:!0})},e.isIos=function(){var t=navigator.userAgent;return/iPhone/.test(t)}},function(t,e){var n=1e3,r=60*n,o=60*r,i=24*o,a=365.25*i;function s(t,e,n){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}t.exports=function(t,e){e=e||{};var c=typeof t;if("string"===c&&t.length>0)return function(t){if((t=String(t)).length>100)return;var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(!e)return;var s=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return s*a;case"days":case"day":case"d":return s*i;case"hours":case"hour":case"hrs":case"hr":case"h":return s*o;case"minutes":case"minute":case"mins":case"min":case"m":return s*r;case"seconds":case"second":case"secs":case"sec":case"s":return s*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}(t);if("number"===c&&!1===isNaN(t))return e.long?function(t){return s(t,i,"day")||s(t,o,"hour")||s(t,r,"minute")||s(t,n,"second")||t+" ms"}(t):function(t){if(t>=i)return Math.round(t/i)+"d";if(t>=o)return Math.round(t/o)+"h";if(t>=r)return Math.round(t/r)+"m";if(t>=n)return Math.round(t/n)+"s";return t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},function(t,e,n){var r=n(174)("socket.io-parser"),o=n(29),i=n(176),a=n(92),s=n(93);function c(){}e.protocol=4,e.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],e.CONNECT=0,e.DISCONNECT=1,e.EVENT=2,e.ACK=3,e.ERROR=4,e.BINARY_EVENT=5,e.BINARY_ACK=6,e.Encoder=c,e.Decoder=f;var u=e.ERROR+'"encode error"';function l(t){var n=""+t.type;if(e.BINARY_EVENT!==t.type&&e.BINARY_ACK!==t.type||(n+=t.attachments+"-"),t.nsp&&"/"!==t.nsp&&(n+=t.nsp+","),null!=t.id&&(n+=t.id),null!=t.data){var o=function(t){try{return JSON.stringify(t)}catch(t){return!1}}(t.data);if(!1===o)return u;n+=o}return r("encoded %j as %s",t,n),n}function f(){this.reconstructor=null}function h(t){this.reconPack=t,this.buffers=[]}function p(t){return{type:e.ERROR,data:"parser error: "+t}}c.prototype.encode=function(t,n){(r("encoding packet %j",t),e.BINARY_EVENT===t.type||e.BINARY_ACK===t.type)?function(t,e){i.removeBlobs(t,function(t){var n=i.deconstructPacket(t),r=l(n.packet),o=n.buffers;o.unshift(r),e(o)})}(t,n):n([l(t)])},o(f.prototype),f.prototype.add=function(t){var n;if("string"==typeof t)n=function(t){var n=0,o={type:Number(t.charAt(0))};if(null==e.types[o.type])return p("unknown packet type "+o.type);if(e.BINARY_EVENT===o.type||e.BINARY_ACK===o.type){for(var i="";"-"!==t.charAt(++n)&&(i+=t.charAt(n),n!=t.length););if(i!=Number(i)||"-"!==t.charAt(n))throw new Error("Illegal attachments");o.attachments=Number(i)}if("/"===t.charAt(n+1))for(o.nsp="";++n;){var s=t.charAt(n);if(","===s)break;if(o.nsp+=s,n===t.length)break}else o.nsp="/";var c=t.charAt(n+1);if(""!==c&&Number(c)==c){for(o.id="";++n;){var s=t.charAt(n);if(null==s||Number(s)!=s){--n;break}if(o.id+=t.charAt(n),n===t.length)break}o.id=Number(o.id)}if(t.charAt(++n)){var u=function(t){try{return JSON.parse(t)}catch(t){return!1}}(t.substr(n)),l=!1!==u&&(o.type===e.ERROR||a(u));if(!l)return p("invalid payload");o.data=u}return r("decoded %s as %j",t,o),o}(t),e.BINARY_EVENT===n.type||e.BINARY_ACK===n.type?(this.reconstructor=new h(n),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",n)):this.emit("decoded",n);else{if(!s(t)&&!t.base64)throw new Error("Unknown type: "+t);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(n=this.reconstructor.takeBinaryData(t))&&(this.reconstructor=null,this.emit("decoded",n))}},f.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},h.prototype.takeBinaryData=function(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){var e=i.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null},h.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},function(t,e,n){(function(e){var r=n(179);t.exports=function(t){var n=t.xdomain,o=t.xscheme,i=t.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!n||r))return new XMLHttpRequest}catch(t){}try{if("undefined"!=typeof XDomainRequest&&!o&&i)return new XDomainRequest}catch(t){}if(!n)try{return new(e[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(t){}}}).call(this,n(12))},function(t,e,n){var r=n(30),o=n(29);function i(t){this.path=t.path,this.hostname=t.hostname,this.port=t.port,this.secure=t.secure,this.query=t.query,this.timestampParam=t.timestampParam,this.timestampRequests=t.timestampRequests,this.readyState="",this.agent=t.agent||!1,this.socket=t.socket,this.enablesXDR=t.enablesXDR,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.forceNode=t.forceNode,this.extraHeaders=t.extraHeaders,this.localAddress=t.localAddress}t.exports=i,o(i.prototype),i.prototype.onError=function(t,e){var n=new Error(t);return n.type="TransportError",n.description=e,this.emit("error",n),this},i.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},i.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},i.prototype.send=function(t){if("open"!==this.readyState)throw new Error("Transport not open");this.write(t)},i.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},i.prototype.onData=function(t){var e=r.decodePacket(t,this.socket.binaryType);this.onPacket(e)},i.prototype.onPacket=function(t){this.emit("packet",t)},i.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=location.origin+"/static/msg_notify.mp3",o=location.origin+"/static/video_notify.mp3",i=location.origin+"/static/video_down_notify.mp3",a=function(){function t(){this.isVibrateSupport=!1,this.notifySetting=t.getNotifySetting();var e=document.querySelector("#notice_audio");e&&e instanceof HTMLAudioElement&&(this.audioEle=e),this.audioEle.autoplay=!0,"vibrate"in navigator&&(this.isVibrateSupport=!0)}return t.getInstance=function(){return t._inst||(t._inst=new t),t._inst},t.getNotifySetting=function(){var e,n=localStorage.getItem(t.settingKey);if(n)try{e=JSON.parse(n)}catch(t){e={isSound:!0,isVibrate:!0}}else e={isSound:!0,isVibrate:!0};return e},t.prototype.playMsgNotice=function(){this.stopNotify(),this.notifySetting.isSound&&this.playMsgSound(),this.notifySetting.isVibrate&&this.playMsgVibrate([150,50,150,200])},t.prototype.playMsgSound=function(){this.audioEle.src!==r&&(this.audioEle.src=r),this.audioEle.loop&&(this.audioEle.loop=!1),this.audioEle.play()},t.prototype.playMsgVibrate=function(t,e){void 0===e&&(e=0),this.isVibrateSupport&&(navigator.vibrate(t),e&&(this.timer=setInterval(function(){navigator.vibrate(t)},e)))},t.prototype.playVideoNotice=function(){this.stopNotify(),this.audioEle.src!==o&&(this.audioEle.src=o),this.audioEle.loop||(this.audioEle.loop=!0),this.audioEle.play(),this.playMsgVibrate([500,1300,500,1300],3600)},t.prototype.stopNotify=function(){this.audioEle.paused||this.audioEle.pause(),this.timer&&clearTimeout(this.timer);try{this.isVibrateSupport&&navigator.vibrate(0)}catch(t){}},t.prototype.playVideoDownNotify=function(){this.stopNotify(),this.audioEle.src!==i&&(this.audioEle.src=i),this.audioEle.loop&&(this.audioEle.loop=!1),this.audioEle.play()},t.settingKey="WECHAT_NOTIFY_SETTING",t}();e.default=a},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,s)}c((r=r.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},i=this&&this.__values||function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}};Object.defineProperty(e,"__esModule",{value:!0});var a=n(105),s=n(28),c=n(16),u=n(250),l=n(46);n(213),n(41);var f=function(){function t(t,e){this.isChannelOpen=!1,this.mss=65535,this.maxBuffered=150*this.mss,this.bufferedAlertSize=50*this.mss;var n=s.default.getInstance(c.socketUrl);this.socket=n,this.to=t,this.from=e,this.peer=new a.default(t,e,n),this.createChannel=this.createChannel.bind(this),this.receiveFile=this.receiveFile.bind(this),this.rejectFile=this.rejectFile.bind(this),this.receiveFileData=this.receiveFileData.bind(this),this.channelCloseHandle=this.channelCloseHandle.bind(this),this.peer.on("datachannel",this.createChannel),this.peer.on("disconnect",this.channelCloseHandle),this.fileToSend=[]}return t.prototype.readFile=function(t){return new Promise(function(e,n){var r=new FileReader;r.addEventListener("load",function(t){var n=t.target.result;e(n)}),r.addEventListener("error",function(t){console.log("file reader error"),n(t)}),r.readAsArrayBuffer(t)})},t.prototype.sendFile=function(t){if(this.dataChannel||this.createChannel(),this.fileToSend.push(t),!this.isSending){this.isSending=!0;try{this.isChannelOpen?this.sendFileData():this.peer.createConnection("file_translate")}catch(t){console.log(t)}}},t.prototype.sendFileData=function(){return r(this,void 0,void 0,function(){var t,e,n,r,i,a,s,c,u,l,f=this;return o(this,function(o){switch(o.label){case 0:if(!(t=this.fileToSend.shift()))return this.isSending=!1,[2];e=t.name,n=t.size,r={name:e,size:n},this.sendFileName=e,this.ssize=n,this.dataChannel.send(JSON.stringify(r)),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.readFile(t)];case 2:for(i=o.sent(),a=0,s=this.maxBuffered-this.dataChannel.bufferedAmount,c=s<n?s:n;a<c;a+=this.mss)u=i.slice(a,a+this.mss),this.dataChannel.send(u);return c<n?(this.sendProcessHandler(a/n),this.dataChannel.onbufferedamountlow=function(){for(var t=0;t<100&&a<n;t++){var e=i.slice(a,a+f.mss);f.dataChannel.send(e),a+=f.mss}t<100?(f.sendProcessHandler(n),f.dataChannel.send("end"),f.dataChannel.onbufferedamountlow=null,f.sendFileData()):f.sendProcessHandler(a)}):(this.sendProcessHandler(n),this.dataChannel.send("end"),this.sendFileData()),[3,4];case 3:return l=o.sent(),console.error(l),[3,4];case 4:return[2]}})})},t.prototype.receiveFileData=function(t){var e=t.data;if("string"==typeof e)if("end"!==e){this.isReceiving=!0;try{var n=JSON.parse(e);this.receiveFileBuffer=new Uint8Array(n.size),this.receiveFileName=n.name,this.rsize=n.size,this.receiveSize=0}catch(t){}}else this.isReceiving=!1,this.downloadFile();else if(e instanceof ArrayBuffer){var r=new Uint8Array(e,0);this.receiveFileBuffer.set(r,this.receiveSize),this.receiveSize+=r.byteLength,this.receiveProcessHandler(this.receiveSize)}},t.prototype.downloadFile=function(){if(this.downloadEle||(this.downloadEle=document.querySelector(".file-download")),this.downloadEle){var t=new Blob([this.receiveFileBuffer.buffer],{type:"application/octet-stream"}),e=URL.createObjectURL(t);this.downloadEle.href=e,this.downloadEle.download=this.receiveFileName,this.downloadEle.click(),URL.revokeObjectURL(e)}},t.prototype.createChannel=function(t){var e=this;this.dataChannel||(this.dataChannel=t?t.channel:this.peer.createChannel(),this.dataChannel.bufferedAmountLowThreshold=this.bufferedAlertSize,this.dataChannel.addEventListener("message",this.receiveFileData),this.dataChannel.addEventListener("open",function(){e.isChannelOpen=!0,e.sendFileData()}),this.dataChannel.addEventListener("close",this.channelCloseHandle))},t.prototype.receiveFile=function(){this.isChannelOpen||this.peer.receiveCall()},t.prototype.rejectFile=function(){var t={to:this.to,from:this.from,data:"denyFile"};this.socket.sendSignalMsg(t)},t.prototype.showConfirm=function(t){u.default.alert(t,"Do you want to receive file?",[{text:"OK",onPress:this.receiveFile},{text:"Cancel",onPress:this.rejectFile}])},t.prototype.handleReject=function(){l.default.fail("File send rejected")},t.prototype.onProcessing=function(t,e){this.processCallBack||(this.processCallBack=new Map),this.processCallBack.set(t,e)},t.prototype.offProcessing=function(t){if(this.processCallBack){var e=this.processCallBack.get(t);e&&(e===this.receiveCallBack&&(this.receiveCallBack=void 0),e===this.sendCallBack&&(this.sendCallBack=void 0),this.processCallBack.delete(t))}},t.prototype.sendProcessHandler=function(t){if(!this.sendCallBack){var e=""+this.to+this.from+this.sendFileName;this.processCallBack&&(this.sendCallBack=this.processCallBack.get(e))}this.sendCallBack&&(this.sendCallBack(t),t===this.ssize&&(this.sendCallBack=void 0))},t.prototype.receiveProcessHandler=function(t){if(!this.receiveCallBack){var e=""+this.from+this.to+this.receiveFileName;this.processCallBack&&(this.receiveCallBack=this.processCallBack.get(e))}this.receiveCallBack&&(this.receiveCallBack(t),t===this.rsize&&(this.receiveCallBack=void 0))},t.prototype.channelCloseHandle=function(){this.isChannelOpen=!1,this.isReceiving&&this.receiveProcessHandler(0),this.isSending&&this.sendProcessHandler(0)},t}();e.FileSender=f;var h=function(){function t(){}return t.getInstance=function(t,e){var n;return void 0!==(n=this.getFileSender(t,e))?n:(this.senders||(this.senders=new Map),n=new f(t,e),this.senders.set(""+t+e,n),n)},t.getKey=function(t,e){return""+t+e},t.getFileSender=function(t,e){var n=this.getKey(t,e);if(this.senders)return this.senders.get(n)},t.isFileTranstion=function(){var t,e,n=!1;try{for(var r=i(this.senders.values()),o=r.next();!o.done;o=r.next()){var a=o.value;a.isReceiving&&a.isSending&&(n=!0)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n},t}();e.default=h},function(t,e,n){"use strict";n.r(e);var r=n(48),o=n.n(r),i=n(1),a=n.n(i),s=n(0),c=n.n(s),u=n(13),l=n.n(u),f=n(11),h=n.n(f);function p(t){return"/"===t.charAt(0)}function d(t,e){for(var n=e,r=n+1,o=t.length;r<o;n+=1,r+=1)t[n]=t[r];t.pop()}var y=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=t&&t.split("/")||[],r=e&&e.split("/")||[],o=t&&p(t),i=e&&p(e),a=o||i;if(t&&p(t)?r=n:n.length&&(r.pop(),r=r.concat(n)),!r.length)return"/";var s=void 0;if(r.length){var c=r[r.length-1];s="."===c||".."===c||""===c}else s=!1;for(var u=0,l=r.length;l>=0;l--){var f=r[l];"."===f?d(r,l):".."===f?(d(r,l),u++):u&&(d(r,l),u--)}if(!a)for(;u--;u)r.unshift("..");!a||""===r[0]||r[0]&&p(r[0])||r.unshift("");var h=r.join("/");return s&&"/"!==h.substr(-1)&&(h+="/"),h},m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var v=function t(e,n){if(e===n)return!0;if(null==e||null==n)return!1;if(Array.isArray(e))return Array.isArray(n)&&e.length===n.length&&e.every(function(e,r){return t(e,n[r])});var r=void 0===e?"undefined":m(e);if(r!==(void 0===n?"undefined":m(n)))return!1;if("object"===r){var o=e.valueOf(),i=n.valueOf();if(o!==e||i!==n)return t(o,i);var a=Object.keys(e),s=Object.keys(n);return a.length===s.length&&a.every(function(r){return t(e[r],n[r])})}return!1},g=function(t){return"/"===t.charAt(0)?t:"/"+t},b=function(t){return"/"===t.charAt(0)?t.substr(1):t},w=function(t,e){return new RegExp("^"+e+"(\\/|\\?|#|$)","i").test(t)},C=function(t,e){return w(t,e)?t.substr(e.length):t},E=function(t){return"/"===t.charAt(t.length-1)?t.slice(0,-1):t},A=function(t){var e=t.pathname,n=t.search,r=t.hash,o=e||"/";return n&&"?"!==n&&(o+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(o+="#"===r.charAt(0)?r:"#"+r),o},_=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},S=function(t,e,n,r){var o=void 0;"string"==typeof t?(o=function(t){var e=t||"/",n="",r="",o=e.indexOf("#");-1!==o&&(r=e.substr(o),e=e.substr(0,o));var i=e.indexOf("?");return-1!==i&&(n=e.substr(i),e=e.substr(0,i)),{pathname:e,search:"?"===n?"":n,hash:"#"===r?"":r}}(t)).state=e:(void 0===(o=_({},t)).pathname&&(o.pathname=""),o.search?"?"!==o.search.charAt(0)&&(o.search="?"+o.search):o.search="",o.hash?"#"!==o.hash.charAt(0)&&(o.hash="#"+o.hash):o.hash="",void 0!==e&&void 0===o.state&&(o.state=e));try{o.pathname=decodeURI(o.pathname)}catch(t){throw t instanceof URIError?new URIError('Pathname "'+o.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):t}return n&&(o.key=n),r?o.pathname?"/"!==o.pathname.charAt(0)&&(o.pathname=y(o.pathname,r.pathname)):o.pathname=r.pathname:o.pathname||(o.pathname="/"),o},k=function(t,e){return t.pathname===e.pathname&&t.search===e.search&&t.hash===e.hash&&t.key===e.key&&v(t.state,e.state)},x=function(){var t=null,e=[];return{setPrompt:function(e){return l()(null==t,"A history supports only one prompt at a time"),t=e,function(){t===e&&(t=null)}},confirmTransitionTo:function(e,n,r,o){if(null!=t){var i="function"==typeof t?t(e,n):t;"string"==typeof i?"function"==typeof r?r(i,o):(l()(!1,"A history needs a getUserConfirmation function in order to use a prompt message"),o(!0)):o(!1!==i)}else o(!0)},appendListener:function(t){var n=!0,r=function(){n&&t.apply(void 0,arguments)};return e.push(r),function(){n=!1,e=e.filter(function(t){return t!==r})}},notifyListeners:function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];e.forEach(function(t){return t.apply(void 0,n)})}}},O=!("undefined"==typeof window||!window.document||!window.document.createElement),T=function(t,e,n){return t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent("on"+e,n)},P=function(t,e,n){return t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent("on"+e,n)},M=function(t,e){return e(window.confirm(t))},F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},N=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},R=function(){try{return window.history.state||{}}catch(t){return{}}},j=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};h()(O,"Browser history needs a DOM");var e=window.history,n=function(){var t=window.navigator.userAgent;return(-1===t.indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),r=!(-1===window.navigator.userAgent.indexOf("Trident")),o=t.forceRefresh,i=void 0!==o&&o,a=t.getUserConfirmation,s=void 0===a?M:a,c=t.keyLength,u=void 0===c?6:c,f=t.basename?E(g(t.basename)):"",p=function(t){var e=t||{},n=e.key,r=e.state,o=window.location,i=o.pathname+o.search+o.hash;return l()(!f||w(i,f),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+i+'" to begin with "'+f+'".'),f&&(i=C(i,f)),S(i,r,n)},d=function(){return Math.random().toString(36).substr(2,u)},y=x(),m=function(t){N(V,t),V.length=e.length,y.notifyListeners(V.location,V.action)},v=function(t){(function(t){return void 0===t.state&&-1===navigator.userAgent.indexOf("CriOS")})(t)||k(p(t.state))},b=function(){k(p(R()))},_=!1,k=function(t){_?(_=!1,m()):y.confirmTransitionTo(t,"POP",s,function(e){e?m({action:"POP",location:t}):j(t)})},j=function(t){var e=V.location,n=I.indexOf(e.key);-1===n&&(n=0);var r=I.indexOf(t.key);-1===r&&(r=0);var o=n-r;o&&(_=!0,D(o))},B=p(R()),I=[B.key],L=function(t){return f+A(t)},D=function(t){e.go(t)},U=0,z=function(t){1===(U+=t)?(T(window,"popstate",v),r&&T(window,"hashchange",b)):0===U&&(P(window,"popstate",v),r&&P(window,"hashchange",b))},W=!1,V={length:e.length,action:"POP",location:B,createHref:L,push:function(t,r){l()(!("object"===(void 0===t?"undefined":F(t))&&void 0!==t.state&&void 0!==r),"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored");var o=S(t,r,d(),V.location);y.confirmTransitionTo(o,"PUSH",s,function(t){if(t){var r=L(o),a=o.key,s=o.state;if(n)if(e.pushState({key:a,state:s},null,r),i)window.location.href=r;else{var c=I.indexOf(V.location.key),u=I.slice(0,-1===c?0:c+1);u.push(o.key),I=u,m({action:"PUSH",location:o})}else l()(void 0===s,"Browser history cannot push state in browsers that do not support HTML5 history"),window.location.href=r}})},replace:function(t,r){l()(!("object"===(void 0===t?"undefined":F(t))&&void 0!==t.state&&void 0!==r),"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored");var o=S(t,r,d(),V.location);y.confirmTransitionTo(o,"REPLACE",s,function(t){if(t){var r=L(o),a=o.key,s=o.state;if(n)if(e.replaceState({key:a,state:s},null,r),i)window.location.replace(r);else{var c=I.indexOf(V.location.key);-1!==c&&(I[c]=o.key),m({action:"REPLACE",location:o})}else l()(void 0===s,"Browser history cannot replace state in browsers that do not support HTML5 history"),window.location.replace(r)}})},go:D,goBack:function(){return D(-1)},goForward:function(){return D(1)},block:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=y.setPrompt(t);return W||(z(1),W=!0),function(){return W&&(W=!1,z(-1)),e()}},listen:function(t){var e=y.appendListener(t);return z(1),function(){z(-1),e()}}};return V},B=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},I={hashbang:{encodePath:function(t){return"!"===t.charAt(0)?t:"!/"+b(t)},decodePath:function(t){return"!"===t.charAt(0)?t.substr(1):t}},noslash:{encodePath:b,decodePath:g},slash:{encodePath:g,decodePath:g}},L=function(){var t=window.location.href,e=t.indexOf("#");return-1===e?"":t.substring(e+1)},D=function(t){var e=window.location.href.indexOf("#");window.location.replace(window.location.href.slice(0,e>=0?e:0)+"#"+t)},U=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};h()(O,"Hash history needs a DOM");var e=window.history,n=-1===window.navigator.userAgent.indexOf("Firefox"),r=t.getUserConfirmation,o=void 0===r?M:r,i=t.hashType,a=void 0===i?"slash":i,s=t.basename?E(g(t.basename)):"",c=I[a],u=c.encodePath,f=c.decodePath,p=function(){var t=f(L());return l()(!s||w(t,s),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+t+'" to begin with "'+s+'".'),s&&(t=C(t,s)),S(t)},d=x(),y=function(t){B(H,t),H.length=e.length,d.notifyListeners(H.location,H.action)},m=!1,v=null,b=function(){var t=L(),e=u(t);if(t!==e)D(e);else{var n=p(),r=H.location;if(!m&&k(r,n))return;if(v===A(n))return;v=null,_(n)}},_=function(t){m?(m=!1,y()):d.confirmTransitionTo(t,"POP",o,function(e){e?y({action:"POP",location:t}):F(t)})},F=function(t){var e=H.location,n=U.lastIndexOf(A(e));-1===n&&(n=0);var r=U.lastIndexOf(A(t));-1===r&&(r=0);var o=n-r;o&&(m=!0,z(o))},N=L(),R=u(N);N!==R&&D(R);var j=p(),U=[A(j)],z=function(t){l()(n,"Hash history go(n) causes a full page reload in this browser"),e.go(t)},W=0,V=function(t){1===(W+=t)?T(window,"hashchange",b):0===W&&P(window,"hashchange",b)},q=!1,H={length:e.length,action:"POP",location:j,createHref:function(t){return"#"+u(s+A(t))},push:function(t,e){l()(void 0===e,"Hash history cannot push state; it is ignored");var n=S(t,void 0,void 0,H.location);d.confirmTransitionTo(n,"PUSH",o,function(t){if(t){var e=A(n),r=u(s+e);if(L()!==r){v=e,function(t){window.location.hash=t}(r);var o=U.lastIndexOf(A(H.location)),i=U.slice(0,-1===o?0:o+1);i.push(e),U=i,y({action:"PUSH",location:n})}else l()(!1,"Hash history cannot PUSH the same path; a new entry will not be added to the history stack"),y()}})},replace:function(t,e){l()(void 0===e,"Hash history cannot replace state; it is ignored");var n=S(t,void 0,void 0,H.location);d.confirmTransitionTo(n,"REPLACE",o,function(t){if(t){var e=A(n),r=u(s+e);L()!==r&&(v=e,D(r));var o=U.indexOf(A(H.location));-1!==o&&(U[o]=e),y({action:"REPLACE",location:n})}})},go:z,goBack:function(){return z(-1)},goForward:function(){return z(1)},block:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=d.setPrompt(t);return q||(V(1),q=!0),function(){return q&&(q=!1,V(-1)),e()}},listen:function(t){var e=d.appendListener(t);return V(1),function(){V(-1),e()}}};return H},z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},W=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},V=function(t,e,n){return Math.min(Math.max(t,e),n)},q=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.getUserConfirmation,n=t.initialEntries,r=void 0===n?["/"]:n,o=t.initialIndex,i=void 0===o?0:o,a=t.keyLength,s=void 0===a?6:a,c=x(),u=function(t){W(m,t),m.length=m.entries.length,c.notifyListeners(m.location,m.action)},f=function(){return Math.random().toString(36).substr(2,s)},h=V(i,0,r.length-1),p=r.map(function(t){return S(t,void 0,"string"==typeof t?f():t.key||f())}),d=A,y=function(t){var n=V(m.index+t,0,m.entries.length-1),r=m.entries[n];c.confirmTransitionTo(r,"POP",e,function(t){t?u({action:"POP",location:r,index:n}):u()})},m={length:p.length,action:"POP",location:p[h],index:h,entries:p,createHref:d,push:function(t,n){l()(!("object"===(void 0===t?"undefined":z(t))&&void 0!==t.state&&void 0!==n),"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored");var r=S(t,n,f(),m.location);c.confirmTransitionTo(r,"PUSH",e,function(t){if(t){var e=m.index+1,n=m.entries.slice(0);n.length>e?n.splice(e,n.length-e,r):n.push(r),u({action:"PUSH",location:r,index:e,entries:n})}})},replace:function(t,n){l()(!("object"===(void 0===t?"undefined":z(t))&&void 0!==t.state&&void 0!==n),"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored");var r=S(t,n,f(),m.location);c.confirmTransitionTo(r,"REPLACE",e,function(t){t&&(m.entries[m.index]=r,u({action:"REPLACE",location:r}))})},go:y,goBack:function(){return y(-1)},goForward:function(){return y(1)},canGo:function(t){var e=m.index+t;return e>=0&&e<m.entries.length},block:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return c.setPrompt(t)},listen:function(t){return c.appendListener(t)}};return m},H=n(14),Y=n.n(H),G=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function K(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var J=function(t){function e(){var n,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=K(this,t.call.apply(t,[this].concat(i))),r.state={match:r.computeMatch(r.props.history.location.pathname)},K(r,n)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.getChildContext=function(){return{router:G({},this.context.router,{history:this.props.history,route:{location:this.props.history.location,match:this.state.match}})}},e.prototype.computeMatch=function(t){return{path:"/",url:"/",params:{},isExact:"/"===t}},e.prototype.componentWillMount=function(){var t=this,e=this.props,n=e.children,r=e.history;h()(null==n||1===a.a.Children.count(n),"A <Router> may have only one child element"),this.unlisten=r.listen(function(){t.setState({match:t.computeMatch(r.location.pathname)})})},e.prototype.componentWillReceiveProps=function(t){Y()(this.props.history===t.history,"You cannot change <Router history>")},e.prototype.componentWillUnmount=function(){this.unlisten()},e.prototype.render=function(){var t=this.props.children;return t?a.a.Children.only(t):null},e}(a.a.Component);J.propTypes={history:c.a.object.isRequired,children:c.a.node},J.contextTypes={router:c.a.object},J.childContextTypes={router:c.a.object.isRequired};var X=J,Q=X;function Z(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var $=function(t){function e(){var n,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=Z(this,t.call.apply(t,[this].concat(i))),r.history=j(r.props),Z(r,n)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.componentWillMount=function(){o()(!this.props.history,"<BrowserRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { BrowserRouter as Router }`.")},e.prototype.render=function(){return a.a.createElement(Q,{history:this.history,children:this.props.children})},e}(a.a.Component);$.propTypes={basename:c.a.string,forceRefresh:c.a.bool,getUserConfirmation:c.a.func,keyLength:c.a.number,children:c.a.node};var tt=$;function et(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var nt=function(t){function e(){var n,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=et(this,t.call.apply(t,[this].concat(i))),r.history=U(r.props),et(r,n)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.componentWillMount=function(){o()(!this.props.history,"<HashRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { HashRouter as Router }`.")},e.prototype.render=function(){return a.a.createElement(Q,{history:this.history,children:this.props.children})},e}(a.a.Component);nt.propTypes={basename:c.a.string,getUserConfirmation:c.a.func,hashType:c.a.oneOf(["hashbang","noslash","slash"]),children:c.a.node};var rt=nt,ot=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function it(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var at=function(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)},st=function(t){function e(){var n,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=it(this,t.call.apply(t,[this].concat(i))),r.handleClick=function(t){if(r.props.onClick&&r.props.onClick(t),!t.defaultPrevented&&0===t.button&&!r.props.target&&!at(t)){t.preventDefault();var e=r.context.router.history,n=r.props,o=n.replace,i=n.to;o?e.replace(i):e.push(i)}},it(r,n)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.render=function(){var t=this.props,e=(t.replace,t.to),n=t.innerRef,r=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}(t,["replace","to","innerRef"]);h()(this.context.router,"You should not use <Link> outside a <Router>"),h()(void 0!==e,'You must specify the "to" property');var o=this.context.router.history,i="string"==typeof e?S(e,null,null,o.location):e,s=o.createHref(i);return a.a.createElement("a",ot({},r,{onClick:this.handleClick,href:s,ref:n}))},e}(a.a.Component);st.propTypes={onClick:c.a.func,target:c.a.string,replace:c.a.bool,to:c.a.oneOfType([c.a.string,c.a.object]).isRequired,innerRef:c.a.oneOfType([c.a.string,c.a.func])},st.defaultProps={replace:!1},st.contextTypes={router:c.a.shape({history:c.a.shape({push:c.a.func.isRequired,replace:c.a.func.isRequired,createHref:c.a.func.isRequired}).isRequired}).isRequired};var ct=st;function ut(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var lt=function(t){function e(){var n,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=ut(this,t.call.apply(t,[this].concat(i))),r.history=q(r.props),ut(r,n)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.componentWillMount=function(){Y()(!this.props.history,"<MemoryRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { MemoryRouter as Router }`.")},e.prototype.render=function(){return a.a.createElement(X,{history:this.history,children:this.props.children})},e}(a.a.Component);lt.propTypes={initialEntries:c.a.array,initialIndex:c.a.number,getUserConfirmation:c.a.func,keyLength:c.a.number,children:c.a.node};var ft=lt,ht=n(49),pt=n.n(ht),dt={},yt=0,mt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2];"string"==typeof e&&(e={path:e});var r=e,o=r.path,i=r.exact,a=void 0!==i&&i,s=r.strict,c=void 0!==s&&s,u=r.sensitive,l=void 0!==u&&u;if(null==o)return n;var f=function(t,e){var n=""+e.end+e.strict+e.sensitive,r=dt[n]||(dt[n]={});if(r[t])return r[t];var o=[],i={re:pt()(t,o,e),keys:o};return yt<1e4&&(r[t]=i,yt++),i}(o,{end:a,strict:c,sensitive:l}),h=f.re,p=f.keys,d=h.exec(t);if(!d)return null;var y=d[0],m=d.slice(1),v=t===y;return a&&!v?null:{path:o,url:"/"===o&&""===y?"/":y,isExact:v,params:p.reduce(function(t,e,n){return t[e.name]=m[n],t},{})}},vt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function gt(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var bt=function(t){return 0===a.a.Children.count(t)},wt=function(t){function e(){var n,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=gt(this,t.call.apply(t,[this].concat(i))),r.state={match:r.computeMatch(r.props,r.context.router)},gt(r,n)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.getChildContext=function(){return{router:vt({},this.context.router,{route:{location:this.props.location||this.context.router.route.location,match:this.state.match}})}},e.prototype.computeMatch=function(t,e){var n=t.computedMatch,r=t.location,o=t.path,i=t.strict,a=t.exact,s=t.sensitive;if(n)return n;h()(e,"You should not use <Route> or withRouter() outside a <Router>");var c=e.route,u=(r||c.location).pathname;return mt(u,{path:o,strict:i,exact:a,sensitive:s},c.match)},e.prototype.componentWillMount=function(){Y()(!(this.props.component&&this.props.render),"You should not use <Route component> and <Route render> in the same route; <Route render> will be ignored"),Y()(!(this.props.component&&this.props.children&&!bt(this.props.children)),"You should not use <Route component> and <Route children> in the same route; <Route children> will be ignored"),Y()(!(this.props.render&&this.props.children&&!bt(this.props.children)),"You should not use <Route render> and <Route children> in the same route; <Route children> will be ignored")},e.prototype.componentWillReceiveProps=function(t,e){Y()(!(t.location&&!this.props.location),'<Route> elements should not change from uncontrolled to controlled (or vice versa). You initially used no "location" prop and then provided one on a subsequent render.'),Y()(!(!t.location&&this.props.location),'<Route> elements should not change from controlled to uncontrolled (or vice versa). You provided a "location" prop initially but omitted it on a subsequent render.'),this.setState({match:this.computeMatch(t,e.router)})},e.prototype.render=function(){var t=this.state.match,e=this.props,n=e.children,r=e.component,o=e.render,i=this.context.router,s=i.history,c=i.route,u=i.staticContext,l={match:t,location:this.props.location||c.location,history:s,staticContext:u};return r?t?a.a.createElement(r,l):null:o?t?o(l):null:"function"==typeof n?n(l):n&&!bt(n)?a.a.Children.only(n):null},e}(a.a.Component);wt.propTypes={computedMatch:c.a.object,path:c.a.string,exact:c.a.bool,strict:c.a.bool,sensitive:c.a.bool,component:c.a.func,render:c.a.func,children:c.a.oneOfType([c.a.func,c.a.node]),location:c.a.object},wt.contextTypes={router:c.a.shape({history:c.a.object.isRequired,route:c.a.object.isRequired,staticContext:c.a.object})},wt.childContextTypes={router:c.a.object.isRequired};var Ct=wt,Et=Ct,At=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var St=function(t){var e=t.to,n=t.exact,r=t.strict,o=t.location,i=t.activeClassName,s=t.className,c=t.activeStyle,u=t.style,l=t.isActive,f=t["aria-current"],h=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}(t,["to","exact","strict","location","activeClassName","className","activeStyle","style","isActive","aria-current"]),p="object"===(void 0===e?"undefined":_t(e))?e.pathname:e,d=p&&p.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1");return a.a.createElement(Et,{path:d,exact:n,strict:r,location:o,children:function(t){var n=t.location,r=t.match,o=!!(l?l(r,n):r);return a.a.createElement(ct,At({to:e,className:o?[s,i].filter(function(t){return t}).join(" "):s,style:o?At({},u,c):u,"aria-current":o&&f||null},h))}})};St.propTypes={to:ct.propTypes.to,exact:c.a.bool,strict:c.a.bool,location:c.a.object,activeClassName:c.a.string,className:c.a.string,activeStyle:c.a.object,style:c.a.object,isActive:c.a.func,"aria-current":c.a.oneOf(["page","step","location","date","time","true"])},St.defaultProps={activeClassName:"active","aria-current":"page"};var kt=St;var xt=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.enable=function(t){this.unblock&&this.unblock(),this.unblock=this.context.router.history.block(t)},e.prototype.disable=function(){this.unblock&&(this.unblock(),this.unblock=null)},e.prototype.componentWillMount=function(){h()(this.context.router,"You should not use <Prompt> outside a <Router>"),this.props.when&&this.enable(this.props.message)},e.prototype.componentWillReceiveProps=function(t){t.when?this.props.when&&this.props.message===t.message||this.enable(t.message):this.disable()},e.prototype.componentWillUnmount=function(){this.disable()},e.prototype.render=function(){return null},e}(a.a.Component);xt.propTypes={when:c.a.bool,message:c.a.oneOfType([c.a.func,c.a.string]).isRequired},xt.defaultProps={when:!0},xt.contextTypes={router:c.a.shape({history:c.a.shape({block:c.a.func.isRequired}).isRequired}).isRequired};var Ot=xt,Tt={},Pt=0,Mt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"/"===t?t:function(t){var e=t,n=Tt[e]||(Tt[e]={});if(n[t])return n[t];var r=pt.a.compile(t);return Pt<1e4&&(n[t]=r,Pt++),r}(t)(e,{pretty:!0})},Ft=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};var Nt=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.isStatic=function(){return this.context.router&&this.context.router.staticContext},e.prototype.componentWillMount=function(){h()(this.context.router,"You should not use <Redirect> outside a <Router>"),this.isStatic()&&this.perform()},e.prototype.componentDidMount=function(){this.isStatic()||this.perform()},e.prototype.componentDidUpdate=function(t){var e=S(t.to),n=S(this.props.to);k(e,n)?Y()(!1,"You tried to redirect to the same route you're currently on: \""+n.pathname+n.search+'"'):this.perform()},e.prototype.computeTo=function(t){var e=t.computedMatch,n=t.to;return e?"string"==typeof n?Mt(n,e.params):Ft({},n,{pathname:Mt(n.pathname,e.params)}):n},e.prototype.perform=function(){var t=this.context.router.history,e=this.props.push,n=this.computeTo(this.props);e?t.push(n):t.replace(n)},e.prototype.render=function(){return null},e}(a.a.Component);Nt.propTypes={computedMatch:c.a.object,push:c.a.bool,from:c.a.string,to:c.a.oneOfType([c.a.string,c.a.object]).isRequired},Nt.defaultProps={push:!1},Nt.contextTypes={router:c.a.shape({history:c.a.shape({push:c.a.func.isRequired,replace:c.a.func.isRequired}).isRequired,staticContext:c.a.object}).isRequired};var Rt=Nt,jt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function Bt(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var It=function(t){return"/"===t.charAt(0)?t:"/"+t},Lt=function(t,e){return t?jt({},e,{pathname:It(t)+e.pathname}):e},Dt=function(t){return"string"==typeof t?t:A(t)},Ut=function(t){return function(){h()(!1,"You cannot %s with <StaticRouter>",t)}},zt=function(){},Wt=function(t){function e(){var n,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=Bt(this,t.call.apply(t,[this].concat(i))),r.createHref=function(t){return It(r.props.basename+Dt(t))},r.handlePush=function(t){var e=r.props,n=e.basename,o=e.context;o.action="PUSH",o.location=Lt(n,S(t)),o.url=Dt(o.location)},r.handleReplace=function(t){var e=r.props,n=e.basename,o=e.context;o.action="REPLACE",o.location=Lt(n,S(t)),o.url=Dt(o.location)},r.handleListen=function(){return zt},r.handleBlock=function(){return zt},Bt(r,n)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.getChildContext=function(){return{router:{staticContext:this.props.context}}},e.prototype.componentWillMount=function(){Y()(!this.props.history,"<StaticRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { StaticRouter as Router }`.")},e.prototype.render=function(){var t=this.props,e=t.basename,n=(t.context,t.location),r=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}(t,["basename","context","location"]),o={createHref:this.createHref,action:"POP",location:function(t,e){if(!t)return e;var n=It(t);return 0!==e.pathname.indexOf(n)?e:jt({},e,{pathname:e.pathname.substr(n.length)})}(e,S(n)),push:this.handlePush,replace:this.handleReplace,go:Ut("go"),goBack:Ut("goBack"),goForward:Ut("goForward"),listen:this.handleListen,block:this.handleBlock};return a.a.createElement(X,jt({},r,{history:o}))},e}(a.a.Component);Wt.propTypes={basename:c.a.string,context:c.a.object.isRequired,location:c.a.oneOfType([c.a.string,c.a.object])},Wt.defaultProps={basename:"",location:"/"},Wt.childContextTypes={router:c.a.object.isRequired};var Vt=Wt;var qt=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.componentWillMount=function(){h()(this.context.router,"You should not use <Switch> outside a <Router>")},e.prototype.componentWillReceiveProps=function(t){Y()(!(t.location&&!this.props.location),'<Switch> elements should not change from uncontrolled to controlled (or vice versa). You initially used no "location" prop and then provided one on a subsequent render.'),Y()(!(!t.location&&this.props.location),'<Switch> elements should not change from controlled to uncontrolled (or vice versa). You provided a "location" prop initially but omitted it on a subsequent render.')},e.prototype.render=function(){var t=this.context.router.route,e=this.props.children,n=this.props.location||t.location,r=void 0,o=void 0;return a.a.Children.forEach(e,function(e){if(null==r&&a.a.isValidElement(e)){var i=e.props,s=i.path,c=i.exact,u=i.strict,l=i.sensitive,f=i.from,h=s||f;o=e,r=mt(n.pathname,{path:h,exact:c,strict:u,sensitive:l},t.match)}}),r?a.a.cloneElement(o,{location:n,computedMatch:r}):null},e}(a.a.Component);qt.contextTypes={router:c.a.shape({route:c.a.object.isRequired}).isRequired},qt.propTypes={children:c.a.node,location:c.a.object};var Ht=qt,Yt=Mt,Gt=mt,Kt=n(108),Jt=n.n(Kt),Xt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};var Qt=function(t){var e=function(e){var n=e.wrappedComponentRef,r=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}(e,["wrappedComponentRef"]);return a.a.createElement(Ct,{children:function(e){return a.a.createElement(t,Xt({},r,e,{ref:n}))}})};return e.displayName="withRouter("+(t.displayName||t.name)+")",e.WrappedComponent=t,e.propTypes={wrappedComponentRef:c.a.func},Jt()(e,t)};n.d(e,"BrowserRouter",function(){return tt}),n.d(e,"HashRouter",function(){return rt}),n.d(e,"Link",function(){return ct}),n.d(e,"MemoryRouter",function(){return ft}),n.d(e,"NavLink",function(){return kt}),n.d(e,"Prompt",function(){return Ot}),n.d(e,"Redirect",function(){return Rt}),n.d(e,"Route",function(){return Et}),n.d(e,"Router",function(){return Q}),n.d(e,"StaticRouter",function(){return Vt}),n.d(e,"Switch",function(){return Ht}),n.d(e,"generatePath",function(){return Yt}),n.d(e,"matchPath",function(){return Gt}),n.d(e,"withRouter",function(){return Qt})},function(t,e,n){"use strict";n.r(e);var r=n(5),o=n.n(r),i=n(7),a=n.n(i),s=n(9),c=n.n(s),u=n(4),l=n.n(u),f=n(8),h=n.n(f),p=n(15),d=n.n(p),y=n(1),m=n.n(y),v={check:'<svg viewBox="0 0 44 44"><path fill-rule="evenodd" d="M34.538 8L38 11.518 17.808 32 8 22.033l3.462-3.518 6.346 6.45z"/></svg>',"check-circle":'<svg viewBox="0 0 48 48"><path d="M24 48c13.255 0 24-10.745 24-24S37.255 0 24 0 0 10.745 0 24s10.745 24 24 24zM13.1 23.2l-2.2 2.1 10 9.9L38.1 15l-2.2-2-15.2 17.8-7.6-7.6z" fill-rule="evenodd"/></svg>',"check-circle-o":'<svg viewBox="0 0 48 48"><g fill-rule="evenodd"><path d="M24 48c13.255 0 24-10.745 24-24S37.255 0 24 0 0 10.745 0 24s10.745 24 24 24zm0-3c11.598 0 21-9.402 21-21S35.598 3 24 3 3 12.402 3 24s9.402 21 21 21z"/><path d="M12.2 23.2L10 25.3l10 9.9L37.2 15 35 13 19.8 30.8z"/></g></svg>',cross:'<svg viewBox="0 0 44 44"><path fill-rule="evenodd" d="M24.008 21.852l8.97-8.968L31.092 11l-8.97 8.968L13.157 11l-1.884 1.884 8.968 8.968-9.24 9.24 1.884 1.885 9.24-9.24 9.24 9.24 1.885-1.884-9.24-9.24z"/></svg>',"cross-circle":'<svg viewBox="0 0 48 48"><g fill-rule="evenodd"><path d="M24 48c13.255 0 24-10.745 24-24S37.255 0 24 0 0 10.745 0 24s10.745 24 24 24zm0-3c11.598 0 21-9.402 21-21S35.598 3 24 3 3 12.402 3 24s9.402 21 21 21z"/><path d="M24.34 22.22l-7.775-7.775a1.5 1.5 0 1 0-2.12 2.12l7.773 7.775-7.774 7.775a1.5 1.5 0 1 0 2.12 2.12l7.775-7.773 7.774 7.774a1.5 1.5 0 1 0 2.12-2.12L26.46 24.34l7.774-7.774a1.5 1.5 0 1 0-2.12-2.12l-7.776 7.773z"/></g></svg>',"cross-circle-o":'<svg viewBox="0 0 48 48"><path d="M24 48c13.255 0 24-10.745 24-24S37.255 0 24 0 0 10.745 0 24s10.745 24 24 24zm.353-25.77l-7.593-7.593c-.797-.8-1.538-.822-2.263-.207-.724.614-.56 1.617-.124 2.067l7.852 7.847-7.72 7.723c-.727.728-.56 1.646-.066 2.177.493.532 1.553.683 2.31-.174l7.588-7.584 7.644 7.623c.796.798 1.608.724 2.21.145.605-.58.72-1.442-.074-2.24l-7.657-7.67 7.545-7.52c.81-.697.9-1.76.297-2.34-.92-.885-1.85-.338-2.264.078l-7.685 7.667z" fill-rule="evenodd"/></svg>',left:'<svg viewBox="0 0 44 44"><defs><path id="a" d="M-129-845h24v24h-24z"/></defs><clipPath id="b"><use xlink:href="#a" overflow="visible"/></clipPath><g clip-path="url(#b)"><defs><path id="c" d="M-903-949H947V996H-903z"/></defs></g><path d="M16.247 21.4L28.48 9.165l2.12 2.12-10.117 10.12L30.6 31.524l-2.12 2.12-12.233-12.232.007-.006z"/></svg>',right:'<svg viewBox="0 0 44 44"><defs><path id="a" d="M-129-845h24v24h-24z"/></defs><clipPath id="b"><use xlink:href="#a" overflow="visible"/></clipPath><g clip-path="url(#b)"><defs><path id="c" d="M-903-949H947V996H-903z"/></defs></g><path d="M30.6 21.4L18.37 9.165l-2.12 2.12 10.117 10.12-10.118 10.118 2.12 2.12 12.234-12.232-.005-.006z"/></svg>',down:'<svg viewBox="0 0 44 44"><path d="M22.355 28.237l-11.483-10.9c-.607-.576-1.714-.396-2.48.41l.674-.71c-.763.802-.73 2.07-.282 2.496l11.37 10.793-.04.04 2.088 2.195L23.3 31.52l12.308-11.682c.447-.425.48-1.694-.282-2.496l.674.71c-.766-.806-1.873-.986-2.48-.41L22.355 28.237z" fill-rule="evenodd"/></svg>',up:'<svg viewBox="0 0 44 44"><path fill="none" d="M-1-1h46v46H-1z"/><defs><path id="a" d="M-129-845h24v24h-24z"/></defs><clipPath id="b"><use xlink:href="#a"/></clipPath><g clip-path="url(#b)"><defs><path id="c" d="M-903-949H947V996H-903z"/></defs></g><path d="M23.417 14.23L11.184 26.46l2.12 2.12 10.12-10.117 10.118 10.118 2.12-2.12L23.43 14.228l-.006.005z"/></svg>',loading:'<svg viewBox="0 -2 59.75 60.25"><path fill="#ccc" d="M29.69-.527C14.044-.527 1.36 12.158 1.36 27.806S14.043 56.14 29.69 56.14c15.65 0 28.334-12.686 28.334-28.334S45.34-.527 29.69-.527zm.185 53.75c-14.037 0-25.417-11.38-25.417-25.417S15.838 2.39 29.875 2.39s25.417 11.38 25.417 25.417-11.38 25.416-25.417 25.416z"/><path fill="none" stroke="#108ee9" stroke-width="3" stroke-linecap="round" stroke-miterlimit="10" d="M56.587 29.766c.37-7.438-1.658-14.7-6.393-19.552"/></svg>',search:'<svg viewBox="0 0 44 44"><path d="M32.98 29.255l8.915 8.293L39.603 40l-8.86-8.242a15.952 15.952 0 0 1-10.753 4.147C11.16 35.905 4 28.763 4 19.952 4 11.142 11.16 4 19.99 4s15.99 7.142 15.99 15.952c0 3.472-1.112 6.685-3 9.303zm.05-9.21c0 7.123-5.7 12.918-12.88 12.918-7.176 0-13.015-5.795-13.015-12.918 0-7.12 5.84-12.917 13.017-12.917 7.178 0 12.88 5.797 12.88 12.917z" fill-rule="evenodd"/></svg>',ellipsis:'<svg viewBox="0 0 44 44"><circle cx="21.888" cy="22" r="4.045"/><circle cx="5.913" cy="22" r="4.045"/><circle cx="37.863" cy="22" r="4.045"/></svg>',"ellipsis-circle":'<svg viewBox="0 0 44 44"><g fill-rule="evenodd"><path d="M22.13.11C10.05.11.255 9.902.255 21.983S10.05 43.86 22.13 43.86s21.875-9.795 21.875-21.876S34.21.11 22.13.11zm0 40.7c-10.396 0-18.825-8.43-18.825-18.826S11.735 3.16 22.13 3.16c10.396 0 18.825 8.428 18.825 18.824S32.525 40.81 22.13 40.81z"/><circle cx="21.888" cy="22.701" r="2.445"/><circle cx="12.23" cy="22.701" r="2.445"/><circle cx="31.546" cy="22.701" r="2.445"/></g></svg>',"exclamation-circle":'<svg viewBox="0 0 64 64"><path d="M59.58 40.89L41.193 9.11C39.135 5.382 35.723 3 31.387 3c-3.11 0-6.52 2.382-8.58 6.11L4.42 40.89c-2.788 4.635-3.126 8.81-1.225 12.22C5.015 56.208 7.572 58 13 58h36.773c5.428 0 9.21-1.792 11.03-4.89 1.9-3.41 1.565-7.583-1.224-12.22zm-2.452 11c-.635 1.694-3.802 2.443-7.354 2.443H13c-3.59 0-5.493-.75-6.13-2.444-1.71-2.41-1.374-5.263 0-8.557l18.387-31.777c2.116-3.168 4.394-4.89 6.13-4.89 2.96 0 5.238 1.722 7.354 4.89l18.387 31.777c1.374 3.294 1.713 6.146 0 8.556zm-25.74-33c-.405 0-1.227.835-1.227 2.443v15.89c0 1.608.823 2.444 1.227 2.444 1.628 0 2.452-.836 2.452-2.445v-15.89c0-1.607-.825-2.443-2.453-2.443zm0 23.22c-.405 0-1.227.79-1.227 1.223v2.445c0 .434.823 1.222 1.227 1.222 1.628 0 2.452-.788 2.452-1.222v-2.445c0-.434-.825-1.222-2.453-1.222z" fill-rule="evenodd"/></svg>',"info-circle":'<svg viewBox="0 0 44 44"><circle cx="13.828" cy="19.63" r="1.938"/><circle cx="21.767" cy="19.63" r="1.938"/><circle cx="29.767" cy="19.63" r="1.938"/><path d="M22.102 4.16c-9.918 0-17.958 7.147-17.958 15.962 0 4.935 2.522 9.345 6.48 12.273v5.667l.04.012a2.627 2.627 0 1 0 4.5 1.455h.002l5.026-3.54c.628.06 1.265.094 1.91.094 9.92 0 17.96-7.146 17.96-15.96C40.06 11.306 32.02 4.16 22.1 4.16zm-.04 29.902c-.902 0-1.78-.08-2.642-.207l-5.882 4.234c-.024.024-.055.04-.083.06l-.008.005a.51.51 0 0 1-.284.095.525.525 0 0 1-.525-.525l.005-6.375c-3.91-2.516-6.456-6.544-6.456-11.1 0-7.628 7.107-13.812 15.875-13.812s15.875 6.184 15.875 13.812-7.107 13.812-15.875 13.812z"/></svg>',"question-circle":'<svg viewBox="0 0 44 44"><g fill-rule="evenodd"><path d="M21.186 3c-10.853 0-19.36 8.506-19.36 19.358C1.827 32.494 10.334 41 21.187 41c10.133 0 18.64-8.506 18.64-18.642C39.827 11.506 31.32 3 21.187 3m15.64 19c0 8.823-7.178 16-16 16s-16-7.177-16-16 7.178-16 16-16 16 7.177 16 16z"/><path d="M22.827 31.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0m4-15.48c0 .957-.203 1.822-.61 2.593-.427.792-1.117 1.612-2.073 2.457-.867.734-1.453 1.435-1.754 2.096-.302.7-.453 1.693-.453 2.98a.828.828 0 0 1-.823.854.828.828 0 0 1-.584-.22.877.877 0 0 1-.24-.635c0-1.305.168-2.38.506-3.227.336-.883.93-1.682 1.78-2.4 1.01-.883 1.71-1.692 2.1-2.428.336-.645.503-1.38.503-2.21-.02-.935-.3-1.7-.85-2.288-.655-.717-1.62-1.075-2.897-1.075-1.506 0-2.596.535-3.27 1.6-.46.754-.688 1.645-.688 2.677a.92.92 0 0 1-.266.66.747.747 0 0 1-.56.25.73.73 0 0 1-.584-.194c-.16-.164-.24-.393-.24-.69 0-1.82.585-3.272 1.755-4.357C18.645 11.486 19.928 11 21.434 11h.293c1.452 0 2.638.414 3.56 1.24 1.028.903 1.54 2.163 1.54 3.78z"/></g></svg>',voice:'<svg viewBox="0 0 38 33"><g fill-rule="evenodd"><path d="M17.838 28.8c-.564-.468-1.192-.983-1.836-1.496-4.244-3.385-5.294-3.67-6.006-3.67-.014 0-.027.005-.04.005-.015 0-.028-.006-.042-.006H3.562c-.734 0-.903-.203-.903-.928v-12.62c0-.49.057-.8.66-.8H9.1c.694 0 1.76-.28 6.4-3.63.83-.596 1.638-1.196 2.337-1.722V28.8zM19.682.19c-.463-.22-1.014-.158-1.417.157-.02.016-1.983 1.552-4.152 3.125C10.34 6.21 9.243 6.664 9.02 6.737H3.676c-.027 0-.053.003-.08.004H1.183c-.608 0-1.1.487-1.1 1.086V25.14c0 .598.492 1.084 1.1 1.084h8.71c.22.08 1.257.55 4.605 3.24 1.947 1.562 3.694 3.088 3.712 3.103.25.22.568.333.89.333.186 0 .373-.038.55-.116.48-.213.79-.684.79-1.204V1.38c0-.506-.294-.968-.758-1.19z" mask="url(#mask-2)"/><path d="M31.42 16.475c0-3.363-1.854-6.297-4.606-7.876-.125-.067-.42-.193-.625-.193-.613 0-1.11.488-1.11 1.09 0 .404.22.764.55.952 2.13 1.19 3.566 3.44 3.566 6.024 0 2.627-1.486 4.913-3.677 6.087-.32.19-.53.54-.53.935 0 .602.495 1.09 1.106 1.09.26.002.568-.15.568-.15 2.835-1.556 4.754-4.538 4.754-7.96" mask="url(#mask-4)"/><path d="M30.14 3.057c-.205-.122-.41-.22-.658-.22-.608 0-1.1.485-1.1 1.084 0 .434.26.78.627.978 4.042 2.323 6.76 6.636 6.76 11.578 0 4.938-2.715 9.248-6.754 11.572-.354.19-.66.55-.66.993 0 .6.494 1.085 1.102 1.085.243 0 .438-.092.65-.213 4.692-2.695 7.848-7.7 7.848-13.435 0-5.723-3.142-10.718-7.817-13.418" mask="url(#mask-6)"/></g></svg>',plus:'<svg viewBox="0 0 30 30"><path d="M14 14H0v2h14v14h2V16h14v-2H16V0h-2v14z" fill-rule="evenodd"/></svg>',minus:'<svg viewBox="0 0 30 2"><path d="M0 0h30v2H0z" fill-rule="evenodd"/></svg>',dislike:'<svg viewBox="0 0 72 72"><g fill="none" fill-rule="evenodd"><path d="M36 72c19.882 0 36-16.118 36-36S55.882 0 36 0 0 16.118 0 36s16.118 36 36 36zm0-2c18.778 0 34-15.222 34-34S54.778 2 36 2 2 17.222 2 36s15.222 34 34 34z" fill="#FFF"/><path fill="#FFF" d="M47 22h2v6h-2zm-24 0h2v6h-2z"/><path d="M21 51s4.6-7 15-7 15 7 15 7" stroke="#FFF" stroke-width="2"/></g></svg>',fail:'<svg viewBox="0 0 72 72"><g fill="none" fill-rule="evenodd"><path d="M36 72c19.882 0 36-16.118 36-36S55.882 0 36 0 0 16.118 0 36s16.118 36 36 36zm0-2c18.778 0 34-15.222 34-34S54.778 2 36 2 2 17.222 2 36s15.222 34 34 34z" fill="#FFF"/><path d="M22 22l28.304 28.304m-28.304 0L50.304 22" stroke="#FFF" stroke-width="2"/></g></svg>',success:'<svg viewBox="0 0 72 72"><g fill="none" fill-rule="evenodd"><path d="M36 72c19.882 0 36-16.118 36-36S55.882 0 36 0 0 16.118 0 36s16.118 36 36 36zm0-2c18.778 0 34-15.222 34-34S54.778 2 36 2 2 17.222 2 36s15.222 34 34 34z" fill="#FFF"/><path stroke="#FFF" stroke-width="2" d="M19 34.54l11.545 11.923L52.815 24"/></g></svg>'},g=function(){if(document){var t=document.getElementById("__ANTD_MOBILE_SVG_SPRITE_NODE__"),e=document.body;t||e.insertAdjacentHTML("afterbegin",function(t){return'\n  <svg\n    xmlns="http://www.w3.org/2000/svg"\n    xmlns:xlink="http://www.w3.org/1999/xlink"\n    id="__ANTD_MOBILE_SVG_SPRITE_NODE__"\n    style="position:absolute;width:0;height:0"\n  >\n    <defs>\n      '+t+"\n    </defs>\n  </svg>\n"}(Object.keys(v).map(function(t){return"<symbol id="+t+v[t].split("svg")[1]+"symbol>"}).join("")))}},b=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},w=function(t){function e(){return a()(this,e),l()(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return h()(e,t),c()(e,[{key:"componentDidMount",value:function(){g()}},{key:"render",value:function(){var t=this.props,e=t.type,n=t.className,r=t.size,i=b(t,["type","className","size"]),a=d()(n,"am-icon","am-icon-"+e,"am-icon-"+r);return m.a.createElement("svg",o()({className:a},i),m.a.createElement("use",{xlinkHref:"#"+e}))}}]),e}(m.a.Component);e.default=w;w.defaultProps={size:"md"}},function(t,e,n){(function(e){for(var r=n(161),o="undefined"==typeof window?e:window,i=["moz","webkit"],a="AnimationFrame",s=o["request"+a],c=o["cancel"+a]||o["cancelRequest"+a],u=0;!s&&u<i.length;u++)s=o[i[u]+"Request"+a],c=o[i[u]+"Cancel"+a]||o[i[u]+"CancelRequest"+a];if(!s||!c){var l=0,f=0,h=[];s=function(t){if(0===h.length){var e=r(),n=Math.max(0,1e3/60-(e-l));l=n+e,setTimeout(function(){var t=h.slice(0);h.length=0;for(var e=0;e<t.length;e++)if(!t[e].cancelled)try{t[e].callback(l)}catch(t){setTimeout(function(){throw t},0)}},Math.round(n))}return h.push({handle:++f,callback:t,cancelled:!1}),f},c=function(t){for(var e=0;e<h.length;e++)h[e].handle===t&&(h[e].cancelled=!0)}}t.exports=function(t){return s.call(o,t)},t.exports.cancel=function(){c.apply(o,arguments)},t.exports.polyfill=function(t){t||(t=o),t.requestAnimationFrame=s,t.cancelAnimationFrame=c}}).call(this,n(12))},function(t,e,n){"use strict";(function(t,r){var o,i=n(111);o="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t?t:r;var a=Object(i.a)(o);e.a=a}).call(this,n(12),n(226)(t))},function(t,e,n){t.exports={default:n(122),__esModule:!0}},function(t,e,n){var r=n(124);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){t.exports=!n(20)&&!n(32)(function(){return 7!=Object.defineProperty(n(80)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){var r=n(24),o=n(17).document,i=r(o)&&r(o.createElement);t.exports=function(t){return i?o.createElement(t):{}}},function(t,e,n){var r=n(21),o=n(25),i=n(129)(!1),a=n(53)("IE_PROTO");t.exports=function(t,e){var n,s=o(t),c=0,u=[];for(n in s)n!=a&&r(s,n)&&u.push(n);for(;e.length>c;)r(s,n=e[c++])&&(~i(u,n)||u.push(n));return u}},function(t,e,n){var r=n(83);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var r=n(51);t.exports=function(t){return Object(r(t))}},function(t,e,n){"use strict";var r=n(38),o=n(22),i=n(86),a=n(23),s=n(57),c=n(136),u=n(59),l=n(139),f=n(26)("iterator"),h=!([].keys&&"next"in[].keys()),p=function(){return this};t.exports=function(t,e,n,d,y,m,v){c(n,e,d);var g,b,w,C=function(t){if(!h&&t in S)return S[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},E=e+" Iterator",A="values"==y,_=!1,S=t.prototype,k=S[f]||S["@@iterator"]||y&&S[y],x=k||C(y),O=y?A?C("entries"):x:void 0,T="Array"==e&&S.entries||k;if(T&&(w=l(T.call(new t)))!==Object.prototype&&w.next&&(u(w,E,!0),r||"function"==typeof w[f]||a(w,f,p)),A&&k&&"values"!==k.name&&(_=!0,x=function(){return k.call(this)}),r&&!v||!h&&!_&&S[f]||a(S,f,x),s[e]=x,s[E]=p,y)if(g={values:A?x:C("values"),keys:m?x:C("keys"),entries:O},v)for(b in g)b in S||i(S,b,g[b]);else o(o.P+o.F*(h||_),e,g);return g}},function(t,e,n){t.exports=n(23)},function(t,e,n){var r=n(81),o=n(55).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,o)}},function(t,e,n){var r=n(40),o=n(36),i=n(25),a=n(50),s=n(21),c=n(79),u=Object.getOwnPropertyDescriptor;e.f=n(20)?u:function(t,e){if(t=i(t),e=a(e,!0),c)try{return u(t,e)}catch(t){}if(s(t,e))return o(!r.f.call(t,e),t[e])}},function(t,e){t.exports=function(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0;n<t.length;++n)if(t[n]===e)return n;return-1}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function(t){return null}},function(t,e){var n=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,r=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];t.exports=function(t){var e=t,o=t.indexOf("["),i=t.indexOf("]");-1!=o&&-1!=i&&(t=t.substring(0,o)+t.substring(o,i).replace(/:/g,";")+t.substring(i,t.length));for(var a=n.exec(t||""),s={},c=14;c--;)s[r[c]]=a[c]||"";return-1!=o&&-1!=i&&(s.source=e,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){(function(e){t.exports=function(t){return n&&e.Buffer.isBuffer(t)||r&&(t instanceof e.ArrayBuffer||o(t))};var n="function"==typeof e.Buffer&&"function"==typeof e.Buffer.isBuffer,r="function"==typeof e.ArrayBuffer,o=r&&"function"==typeof e.ArrayBuffer.isView?e.ArrayBuffer.isView:function(t){return t.buffer instanceof e.ArrayBuffer}}).call(this,n(12))},function(t,e,n){var r=n(177),o=n(100),i=n(29),a=n(68),s=n(101),c=n(102),u=n(42)("socket.io-client:manager"),l=n(99),f=n(198),h=Object.prototype.hasOwnProperty;function p(t,e){if(!(this instanceof p))return new p(t,e);t&&"object"==typeof t&&(e=t,t=void 0),(e=e||{}).path=e.path||"/socket.io",this.nsps={},this.subs=[],this.opts=e,this.reconnection(!1!==e.reconnection),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor(e.randomizationFactor||.5),this.backoff=new f({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==e.timeout?2e4:e.timeout),this.readyState="closed",this.uri=t,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var n=e.parser||a;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this.autoConnect=!1!==e.autoConnect,this.autoConnect&&this.open()}t.exports=p,p.prototype.emitAll=function(){for(var t in this.emit.apply(this,arguments),this.nsps)h.call(this.nsps,t)&&this.nsps[t].emit.apply(this.nsps[t],arguments)},p.prototype.updateSocketIds=function(){for(var t in this.nsps)h.call(this.nsps,t)&&(this.nsps[t].id=this.generateId(t))},p.prototype.generateId=function(t){return("/"===t?"":t+"#")+this.engine.id},i(p.prototype),p.prototype.reconnection=function(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection},p.prototype.reconnectionAttempts=function(t){return arguments.length?(this._reconnectionAttempts=t,this):this._reconnectionAttempts},p.prototype.reconnectionDelay=function(t){return arguments.length?(this._reconnectionDelay=t,this.backoff&&this.backoff.setMin(t),this):this._reconnectionDelay},p.prototype.randomizationFactor=function(t){return arguments.length?(this._randomizationFactor=t,this.backoff&&this.backoff.setJitter(t),this):this._randomizationFactor},p.prototype.reconnectionDelayMax=function(t){return arguments.length?(this._reconnectionDelayMax=t,this.backoff&&this.backoff.setMax(t),this):this._reconnectionDelayMax},p.prototype.timeout=function(t){return arguments.length?(this._timeout=t,this):this._timeout},p.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},p.prototype.open=p.prototype.connect=function(t,e){if(u("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;u("opening %s",this.uri),this.engine=r(this.uri,this.opts);var n=this.engine,o=this;this.readyState="opening",this.skipReconnect=!1;var i=s(n,"open",function(){o.onopen(),t&&t()}),a=s(n,"error",function(e){if(u("connect_error"),o.cleanup(),o.readyState="closed",o.emitAll("connect_error",e),t){var n=new Error("Connection error");n.data=e,t(n)}else o.maybeReconnectOnOpen()});if(!1!==this._timeout){var c=this._timeout;u("connect attempt will timeout after %d",c);var l=setTimeout(function(){u("connect attempt timed out after %d",c),i.destroy(),n.close(),n.emit("error","timeout"),o.emitAll("connect_timeout",c)},c);this.subs.push({destroy:function(){clearTimeout(l)}})}return this.subs.push(i),this.subs.push(a),this},p.prototype.onopen=function(){u("open"),this.cleanup(),this.readyState="open",this.emit("open");var t=this.engine;this.subs.push(s(t,"data",c(this,"ondata"))),this.subs.push(s(t,"ping",c(this,"onping"))),this.subs.push(s(t,"pong",c(this,"onpong"))),this.subs.push(s(t,"error",c(this,"onerror"))),this.subs.push(s(t,"close",c(this,"onclose"))),this.subs.push(s(this.decoder,"decoded",c(this,"ondecoded")))},p.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},p.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},p.prototype.ondata=function(t){this.decoder.add(t)},p.prototype.ondecoded=function(t){this.emit("packet",t)},p.prototype.onerror=function(t){u("error",t),this.emitAll("error",t)},p.prototype.socket=function(t,e){var n=this.nsps[t];if(!n){n=new o(this,t,e),this.nsps[t]=n;var r=this;n.on("connecting",i),n.on("connect",function(){n.id=r.generateId(t)}),this.autoConnect&&i()}function i(){~l(r.connecting,n)||r.connecting.push(n)}return n},p.prototype.destroy=function(t){var e=l(this.connecting,t);~e&&this.connecting.splice(e,1),this.connecting.length||this.close()},p.prototype.packet=function(t){u("writing packet %j",t);var e=this;t.query&&0===t.type&&(t.nsp+="?"+t.query),e.encoding?e.packetBuffer.push(t):(e.encoding=!0,this.encoder.encode(t,function(n){for(var r=0;r<n.length;r++)e.engine.write(n[r],t.options);e.encoding=!1,e.processPacketQueue()}))},p.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var t=this.packetBuffer.shift();this.packet(t)}},p.prototype.cleanup=function(){u("cleanup");for(var t=this.subs.length,e=0;e<t;e++){this.subs.shift().destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},p.prototype.close=p.prototype.disconnect=function(){u("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},p.prototype.onclose=function(t){u("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",t),this._reconnection&&!this.skipReconnect&&this.reconnect()},p.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var t=this;if(this.backoff.attempts>=this._reconnectionAttempts)u("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var e=this.backoff.duration();u("will wait %dms before reconnect attempt",e),this.reconnecting=!0;var n=setTimeout(function(){t.skipReconnect||(u("attempting reconnect"),t.emitAll("reconnect_attempt",t.backoff.attempts),t.emitAll("reconnecting",t.backoff.attempts),t.skipReconnect||t.open(function(e){e?(u("reconnect attempt error"),t.reconnecting=!1,t.reconnect(),t.emitAll("reconnect_error",e.data)):(u("reconnect success"),t.onreconnect())}))},e);this.subs.push({destroy:function(){clearTimeout(n)}})}},p.prototype.onreconnect=function(){var t=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",t)}},function(t,e,n){(function(t){var r=n(69),o=n(180),i=n(194),a=n(195);e.polling=function(e){var n=!1,a=!1,s=!1!==e.jsonp;if(t.location){var c="https:"===location.protocol,u=location.port;u||(u=c?443:80),n=e.hostname!==location.hostname||u!==e.port,a=e.secure!==c}if(e.xdomain=n,e.xscheme=a,"open"in new r(e)&&!e.forceJSONP)return new o(e);if(!s)throw new Error("JSONP disabled");return new i(e)},e.websocket=a}).call(this,n(12))},function(t,e,n){var r=n(70),o=n(43),i=n(30),a=n(44),s=n(98),c=n(45)("engine.io-client:polling");t.exports=l;var u=null!=new(n(69))({xdomain:!1}).responseType;function l(t){var e=t&&t.forceBase64;u&&!e||(this.supportsBinary=!1),r.call(this,t)}a(l,r),l.prototype.name="polling",l.prototype.doOpen=function(){this.poll()},l.prototype.pause=function(t){var e=this;function n(){c("paused"),e.readyState="paused",t()}if(this.readyState="pausing",this.polling||!this.writable){var r=0;this.polling&&(c("we are currently polling - waiting to pause"),r++,this.once("pollComplete",function(){c("pre-pause polling complete"),--r||n()})),this.writable||(c("we are currently writing - waiting to pause"),r++,this.once("drain",function(){c("pre-pause writing complete"),--r||n()}))}else n()},l.prototype.poll=function(){c("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},l.prototype.onData=function(t){var e=this;c("polling got data %s",t);i.decodePayload(t,this.socket.binaryType,function(t,n,r){if("opening"===e.readyState&&e.onOpen(),"close"===t.type)return e.onClose(),!1;e.onPacket(t)}),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():c('ignoring poll - transport state "%s"',this.readyState))},l.prototype.doClose=function(){var t=this;function e(){c("writing close packet"),t.write([{type:"close"}])}"open"===this.readyState?(c("transport open - closing"),e()):(c("transport not open - deferring close"),this.once("open",e))},l.prototype.write=function(t){var e=this;this.writable=!1;var n=function(){e.writable=!0,e.emit("drain")};i.encodePayload(t,this.supportsBinary,function(t){e.doWrite(t,n)})},l.prototype.uri=function(){var t=this.query||{},e=this.secure?"https":"http",n="";return!1!==this.timestampRequests&&(t[this.timestampParam]=s()),this.supportsBinary||t.sid||(t.b64=1),t=o.encode(t),this.port&&("https"===e&&443!==Number(this.port)||"http"===e&&80!==Number(this.port))&&(n=":"+this.port),t.length&&(t="?"+t),e+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+t}},function(t,e,n){(function(e){var r=n(186),o=Object.prototype.toString,i="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===o.call(Blob),a="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===o.call(File);t.exports=function t(n){if(!n||"object"!=typeof n)return!1;if(r(n)){for(var o=0,s=n.length;o<s;o++)if(t(n[o]))return!0;return!1}if("function"==typeof e&&e.isBuffer&&e.isBuffer(n)||"function"==typeof ArrayBuffer&&n instanceof ArrayBuffer||i&&n instanceof Blob||a&&n instanceof File)return!0;if(n.toJSON&&"function"==typeof n.toJSON&&1===arguments.length)return t(n.toJSON(),!0);for(var c in n)if(Object.prototype.hasOwnProperty.call(n,c)&&t(n[c]))return!0;return!1}}).call(this,n(182).Buffer)},function(t,e,n){"use strict";var r,o="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),i=64,a={},s=0,c=0;function u(t){var e="";do{e=o[t%i]+e,t=Math.floor(t/i)}while(t>0);return e}function l(){var t=u(+new Date);return t!==r?(s=0,r=t):t+"."+u(s++)}for(;c<i;c++)a[o[c]]=c;l.encode=u,l.decode=function(t){var e=0;for(c=0;c<t.length;c++)e=e*i+a[t.charAt(c)];return e},t.exports=l},function(t,e){var n=[].indexOf;t.exports=function(t,e){if(n)return t.indexOf(e);for(var r=0;r<t.length;++r)if(t[r]===e)return r;return-1}},function(t,e,n){var r=n(68),o=n(29),i=n(197),a=n(101),s=n(102),c=n(42)("socket.io-client:socket"),u=n(43),l=n(97);t.exports=p;var f={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},h=o.prototype.emit;function p(t,e,n){this.io=t,this.nsp=e,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},n&&n.query&&(this.query=n.query),this.io.autoConnect&&this.open()}o(p.prototype),p.prototype.subEvents=function(){if(!this.subs){var t=this.io;this.subs=[a(t,"open",s(this,"onopen")),a(t,"packet",s(this,"onpacket")),a(t,"close",s(this,"onclose"))]}},p.prototype.open=p.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting"),this)},p.prototype.send=function(){var t=i(arguments);return t.unshift("message"),this.emit.apply(this,t),this},p.prototype.emit=function(t){if(f.hasOwnProperty(t))return h.apply(this,arguments),this;var e=i(arguments),n={type:(void 0!==this.flags.binary?this.flags.binary:l(e))?r.BINARY_EVENT:r.EVENT,data:e,options:{}};return n.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof e[e.length-1]&&(c("emitting packet with ack id %d",this.ids),this.acks[this.ids]=e.pop(),n.id=this.ids++),this.connected?this.packet(n):this.sendBuffer.push(n),this.flags={},this},p.prototype.packet=function(t){t.nsp=this.nsp,this.io.packet(t)},p.prototype.onopen=function(){if(c("transport is open - connecting"),"/"!==this.nsp)if(this.query){var t="object"==typeof this.query?u.encode(this.query):this.query;c("sending connect packet with query %s",t),this.packet({type:r.CONNECT,query:t})}else this.packet({type:r.CONNECT})},p.prototype.onclose=function(t){c("close (%s)",t),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",t)},p.prototype.onpacket=function(t){var e=t.nsp===this.nsp,n=t.type===r.ERROR&&"/"===t.nsp;if(e||n)switch(t.type){case r.CONNECT:this.onconnect();break;case r.EVENT:case r.BINARY_EVENT:this.onevent(t);break;case r.ACK:case r.BINARY_ACK:this.onack(t);break;case r.DISCONNECT:this.ondisconnect();break;case r.ERROR:this.emit("error",t.data)}},p.prototype.onevent=function(t){var e=t.data||[];c("emitting event %j",e),null!=t.id&&(c("attaching ack callback to event"),e.push(this.ack(t.id))),this.connected?h.apply(this,e):this.receiveBuffer.push(e)},p.prototype.ack=function(t){var e=this,n=!1;return function(){if(!n){n=!0;var o=i(arguments);c("sending ack %j",o),e.packet({type:l(o)?r.BINARY_ACK:r.ACK,id:t,data:o})}}},p.prototype.onack=function(t){var e=this.acks[t.id];"function"==typeof e?(c("calling ack %s with %j",t.id,t.data),e.apply(this,t.data),delete this.acks[t.id]):c("bad ack %s",t.id)},p.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},p.prototype.emitBuffered=function(){var t;for(t=0;t<this.receiveBuffer.length;t++)h.apply(this,this.receiveBuffer[t]);for(this.receiveBuffer=[],t=0;t<this.sendBuffer.length;t++)this.packet(this.sendBuffer[t]);this.sendBuffer=[]},p.prototype.ondisconnect=function(){c("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},p.prototype.destroy=function(){if(this.subs){for(var t=0;t<this.subs.length;t++)this.subs[t].destroy();this.subs=null}this.io.destroy(this)},p.prototype.close=p.prototype.disconnect=function(){return this.connected&&(c("performing disconnect (%s)",this.nsp),this.packet({type:r.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},p.prototype.compress=function(t){return this.flags.compress=t,this},p.prototype.binary=function(t){return this.flags.binary=t,this}},function(t,e){t.exports=function(t,e,n){return t.on(e,n),{destroy:function(){t.removeListener(e,n)}}}},function(t,e){var n=[].slice;t.exports=function(t,e){if("string"==typeof e&&(e=t[e]),"function"!=typeof e)throw new Error("bind() requires a function");var r=n.call(arguments,2);return function(){return e.apply(t,r.concat(n.call(arguments)))}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.myself=1]="myself",t[t.others=2]="others"}(e.MsgBelongType||(e.MsgBelongType={})),function(t){t.text="0",t.image="img",t.audio="wav",t.file="file"}(e.MsgContentType||(e.MsgContentType={})),function(t){t[t.success=0]="success",t[t.pedding=1]="pedding",t[t.fail=2]="fail"}(e.MsgStatus||(e.MsgStatus={}))},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,s)}c((r=r.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){this.UNIT=10240,this.o_offset=0,t&&(this.jpeg_file=t,this.totalSize=this.jpeg_file.size),e&&(this.UNIT=e),this.READED_BYTE=0,this.offset=0,this.buf_size=0}return t.prototype.exifDiretoryReader=function(e){var n=this.exif_info,r=new Uint8Array(this.buffer,0,0);if("Exif"===String.fromCharCode(n[0],n[1],n[2],n[3])&&0===n[4]&&0===n[5]){var o=String.fromCharCode(n[6],n[7]);this.is_exif_bigger_endian="II"!==o;var i=this.getNumberFromData(n.subarray(10,14))+6,a=this.getNumberFromData(n.subarray(i,i+2));i+=2;for(var s=0;s<a;s++){if(this.getNumberFromData(n.subarray(i,i+2))===t.EXIF_DIRE_ORIEN){r=n.subarray(i,i+12);break}i+=12}}return r},t.prototype.get_orientation=function(){return r(this,void 0,void 0,function(){var e,n,r,i,a,s;return o(this,function(o){switch(o.label){case 0:if(e=1,this.exif_info)return[3,4];o.label=1;case 1:return o.trys.push([1,3,,4]),n=this,[4,this.JpegMarkerReader(t.EXIF_HEADER)];case 2:return n.exif_info=o.sent(),[3,4];case 3:return r=o.sent(),console.error("get orientation error:",r),[3,4];case 4:return this.exif_info&&this.exif_info.length>0&&(i=this.exifDiretoryReader(t.EXIF_DIRE_ORIEN)).length>0&&(a=4,s=this.getNumberFromData(i.subarray(a,a+4)),a+=4,1===s&&(e=this.getNumberFromData(i.subarray(a,a+2)))),[2,e]}})})},t.prototype.readByte=function(t){return r(this,void 0,void 0,function(){var e,n,r,i,a,s,c;return o(this,function(o){switch(o.label){case 0:return this.offset+=this.o_offset,this.READED_BYTE+=this.o_offset,this.buf_size<t+this.offset?(n=this.totalSize,r=void 0,i=void 0,this.READED_BYTE+t+this.o_offset>n?[2,new Uint8Array(this.buffer,0,0)]:(this.READED_BYTE+=this.o_offset,(r=this.READED_BYTE)+this.UNIT>n?i=n:(a=this.UNIT>t?this.UNIT:t,i=this.READED_BYTE+a),s=this.jpeg_file.slice(r,i),c=this,[4,this.readBlob(s)])):[3,2];case 1:c.buffer=o.sent(),this.offset=0,this.buf_size=this.buffer.byteLength,o.label=2;case 2:return e=new Uint8Array(this.buffer,this.offset,t),this.offset+=t,this.READED_BYTE+=t,this.o_offset=0,[2,e]}})})},t.prototype.readBlob=function(t){return r(this,void 0,void 0,function(){var e;return o(this,function(n){return e=new FileReader,[2,new Promise(function(n,r){e.onload=function(t){n(t.target.result)},e.onerror=function(t){r(t)},e.readAsArrayBuffer(t)})]})})},t.prototype.JpegMarkerReader=function(e){return r(this,void 0,void 0,function(){var n,r,i,a,s,c,u,l,f,h,p;return o(this,function(o){switch(o.label){case 0:return n=!0,r=new Uint8Array(this.buffer,0,0),void 0!==this.isJpeg?[3,2]:(this.isJpeg=!1,[4,this.readByte(2)]);case 1:2===(i=o.sent()).length&&this.getNumberFromData(i,!0)===t.JPEG_HEADER&&(this.isJpeg=!0),o.label=2;case 2:if(!this.isJpeg)return[3,18];o.label=3;case 3:return n?[4,this.readByte(2)]:[3,18];case 4:return 0===(a=o.sent()).length?[3,18]:(s=this.getNumberFromData(a,!0))<=t.RST7&&s>=t.RST1?[3,3]:[3,5];case 5:return s!==t.EOI?[3,6]:[3,18];case 6:return e!==s?[3,11]:(n=!1,c=0,e!==t.DRI?[3,7]:(c=4,[3,9]));case 7:return[4,this.readByte(2)];case 8:u=o.sent(),c=this.getNumberFromData(u,!0),o.label=9;case 9:return[4,this.readByte(c-2)];case 10:return r=o.sent(),[3,17];case 11:return[4,this.readByte(2)];case 12:return l=o.sent(),f=this.getNumberFromData(l,!0),s!==t.EXIF_HEADER?[3,14]:(h=this,[4,this.readByte(f-2)]);case 13:return h.exif_info=o.sent(),[3,17];case 14:return s!==t.SOF0&&s!==t.SOF2?[3,16]:(p=this,[4,this.readByte(f-2)]);case 15:return p.size_info=o.sent(),[3,17];case 16:this.o_offset=f-2,o.label=17;case 17:return[3,3];case 18:return[2,r]}})})},t.prototype.getNumberFromData=function(t,e){var n=t.length,r=0;if(e||this.is_exif_bigger_endian)for(var o=0;o<n;o++)r=r<<8|t[o];else for(o=n-1;o>=0;o--)r=r<<8|t[o];return r},t.prototype.get_image_size=function(){return r(this,void 0,void 0,function(){var e,n,r;return o(this,function(o){switch(o.label){case 0:if(e={width:0,height:0},this.size_info)return[3,6];o.label=1;case 1:return o.trys.push([1,5,,6]),n=this,[4,this.JpegMarkerReader(t.SOF0)];case 2:return n.size_info=o.sent(),0!==this.size_info.length?[3,4]:(r=this,[4,this.JpegMarkerReader(t.SOF2)]);case 3:r.size_info=o.sent(),o.label=4;case 4:return[3,6];case 5:return o.sent(),console.error("get size error:"),[3,6];case 6:return this.size_info&&this.size_info.length>0&&(e.height=this.size_info[1]<<8|this.size_info[2],e.width=this.size_info[3]<<8|this.size_info[4]),[2,e]}})})},t.prototype.initWithBuffer=function(t){this.offset=0,this.READED_BYTE=0,this.buffer=t,this.totalSize=t.byteLength,this.buf_size=t.byteLength,this.o_offset=0},t.JPEG_HEADER=parseInt("FFD8",16),t.RST1=parseInt("FFD0",16),t.RST7=parseInt("FFD7",16),t.EOI=parseInt("FFD9",16),t.DRI=parseInt("FFDD",16),t.SOF0=parseInt("FFC0",16),t.SOF2=parseInt("FFC2",16),t.EXIF_HEADER=parseInt("FFE1",16),t.EXIF_DIRE_ORIEN=parseInt("0112",16),t}();e.default=i},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,s)}c((r=r.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(e,"__esModule",{value:!0});var i=n(28),a=n(16),s=function(){function t(e,n,r){this.isConnected=!1,this.channelId="_WECHAT_SEND_FILE_CHANEL",this.socket=r,this.peer=new RTCPeerConnection(t.server),this.handleIcecandidate=this.handleIcecandidate.bind(this),this.handleAddStream=this.handleAddStream.bind(this),this.handleConnectStateChange=this.handleConnectStateChange.bind(this),this.handleAddTrack=this.handleAddTrack.bind(this),this.toWho=e,this.fromWho=n,this.handleCandidateMsg=this.handleCandidateMsg.bind(this),this.receiveSession=this.receiveSession.bind(this),this.handleCandidateMsg=this.handleCandidateMsg.bind(this),this.handleDataChannel=this.handleDataChannel.bind(this),this.peer.addEventListener("icecandidate",this.handleIcecandidate),this.peer.addEventListener("connectionstatechange",function(t){}),this.peer.addEventListener("negotiationneeded",function(t){}),this.peer.addEventListener("track",this.handleAddTrack),this.peer.addEventListener("iceconnectionstatechange",this.handleConnectStateChange),this.peer.addEventListener("icegatheringstatechange",function(t){}),this.peer.addEventListener("signalingstatechange",function(t){}),this.peer.addEventListener("connectionstatechange",this.handleConnectStateChange),this.peer.addEventListener("statsended",function(t){}),this.peer.addEventListener("datachannel",this.handleDataChannel)}return t.prototype.handleDataChannel=function(t){if(this.listener){var e=this.listener.get("datachannel");e&&e.forEach(function(e){return e(t)})}},t.prototype.handleAddTrack=function(t){if(this.listener){var e=this.listener.get("addtrack");if(e){var n=t.track;"video"===t.track.kind&&n.addEventListener("ended",function(t){console.log(t)}),e.forEach(function(e){return e(t.track)})}}},t.prototype.handleConnectStateChange=function(t){console.log("peer connection",t);var e,n=this.peer.iceConnectionState||this.peer.connectionState;"connected"===n||"completed"===n?this.isConnected||(this.isConnected=!0,e=this.listener.get("connect")):this.isConnected&&(this.isConnected=!1,e=this.listener.get("disconnect")),e&&e.forEach(function(t){return t()})},t.prototype.handleIcecandidate=function(t){var e=t.candidate;if(e){var n={sdpMLineIndex:e.sdpMLineIndex,candidate:e.candidate},r={from:this.fromWho,to:this.toWho,data:n};this.socket.sendSignalMsg(r)}},t.prototype.handleAddStream=function(t){this.connectListener&&this.connectListener.forEach(function(e){e(t)})},t.prototype.removeAllPeerListener=function(){this.peer.removeEventListener("icecandidate",this.handleIcecandidate),this.peer.removeEventListener("addstream",this.handleAddStream)},t.prototype.receiveSession=function(t){var e=t.data;"answer"===e.type&&this.peer.setRemoteDescription(e).catch(function(t){return console.log(t)})},t.prototype.handleCandidateMsg=function(t){var e=new RTCIceCandidate(t.data);this.peer.addIceCandidate(e).catch(function(t){console.error(t)})},t.prototype.createConnection=function(t){return r(this,void 0,void 0,function(){var e,n;return o(this,function(r){switch(r.label){case 0:return[4,this.peer.createOffer().catch(function(t){return console.error(t)})];case 1:return(e=r.sent())?(this.peer.setLocalDescription(e),n={data:e,to:this.toWho,from:this.fromWho,type:t},this.socket.subscribeSignal("answer",this.receiveSession),this.socket.subscribeSignal("candidate",this.handleCandidateMsg),this.socket.sendSignalMsg(n),[2,!0]):[2,!1]}})})},t.prototype.receiveCall=function(){return r(this,void 0,void 0,function(){var t,e,n,r,a=this;return o(this,function(o){switch(o.label){case 0:return t=i.default.videoOffer,e=i.default.receiveCandidate,t?(this.peer.setRemoteDescription(t),[4,this.peer.createAnswer().catch(function(t){return console.log(t)})]):[3,2];case 1:(n=o.sent())&&(this.peer.setLocalDescription(n),e&&e.forEach(function(t){var e=new RTCIceCandidate(t);a.peer.addIceCandidate(e).catch(function(t){return console.log(t)})}),r={from:this.fromWho,to:this.toWho,data:n},this.socket.subscribeSignal("offer",this.receiveSession),this.socket.subscribeSignal("candidate",this.handleCandidateMsg),this.socket.sendSignalMsg(r)),o.label=2;case 2:return[2]}})})},t.prototype.addStream=function(t){var e=t.getVideoTracks()[0],n=t.getAudioTracks()[0];n&&this.peer.addTrack(n,t),e&&(this.videoSetId=this.peer.addTrack(e,t))},t.prototype.sendCloseMsg=function(){var t={to:this.toWho,from:this.fromWho,data:"bye"};this.socket.sendSignalMsg(t)},t.prototype.close=function(){this.peer.close(),this.removeAllPeerListener(),this.socket.unSubscribeSignal("answer",this.receiveSession),this.socket.unSubscribeSignal("offer",this.receiveSession),this.socket.unSubscribeSignal("candidate",this.handleCandidateMsg)},t.prototype.removeVideo=function(){this.peer.removeTrack(this.videoSetId)},t.prototype.on=function(t,e){this.listener=this.listener||new Map;var n=this.listener.get(t)||[];n.push(e),this.listener.set(t,n)},t.prototype.off=function(t,e){if(this.listener&&this.listener.has(t)){var n=this.listener.get(t);if(n){var r=n.indexOf(e);n.splice(r,1),this.listener.set(t,n)}}},t.prototype.createChannel=function(){return this.peer.createDataChannel(this.channelId,{ordered:!0})},t.prototype.sendData=function(t){this.channel.send(t)},t.prototype.replaceVideo=function(t){this.videoSetId.replaceTrack(t)},t.server={iceServers:[{urls:"stun:stun2.l.google.com:19302"},{urls:"turn:"+a.turnUrl+":10028",credential:"123321qq",username:"tomxing"}]},t}();e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o,i=n(16);function a(){r&&"PushManager"in window&&r.pushManager.getSubscription().then(function(t){if(t){var e=t.toJSON();i.net_setPushKey({key:JSON.stringify(e)})}else r.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:"BLL17tcFFuhf_OLC10jsyw8ad3ilmq1XYSVPvwPnrJKoxNBIOxTro8jjJAEnDyFFzFjL_PxvM851DZWnmIW4xHU"}).then(function(t){var e=t.toJSON();i.net_setPushKey({key:JSON.stringify(e)})}).catch(function(t){console.log(t)})})}e.registerSw=function(){"serviceWorker"in navigator&&navigator.serviceWorker.register("/sw.js").then(function(t){r=t,o&&o.forEach(function(t){t()})}).catch(function(t){console.log(t)})},e.subscribeNotify=function(){r?a():(o=o||[]).push(a)}},function(t,e,n){"use strict";n.r(e),n.d(e,"createStore",function(){return c}),n.d(e,"combineReducers",function(){return l}),n.d(e,"bindActionCreators",function(){return h}),n.d(e,"applyMiddleware",function(){return d}),n.d(e,"compose",function(){return p}),n.d(e,"__DO_NOT_USE__ActionTypes",function(){return o});var r=n(76),o={INIT:"@@redux/INIT"+Math.random().toString(36).substring(7).split("").join("."),REPLACE:"@@redux/REPLACE"+Math.random().toString(36).substring(7).split("").join(".")},i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function s(t){if("object"!==(void 0===t?"undefined":i(t))||null===t)return!1;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function c(t,e,n){var a;if("function"==typeof e&&void 0===n&&(n=e,e=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(c)(t,e)}if("function"!=typeof t)throw new Error("Expected the reducer to be a function.");var u=t,l=e,f=[],h=f,p=!1;function d(){h===f&&(h=f.slice())}function y(){if(p)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return l}function m(t){if("function"!=typeof t)throw new Error("Expected the listener to be a function.");if(p)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");var e=!0;return d(),h.push(t),function(){if(e){if(p)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");e=!1,d();var n=h.indexOf(t);h.splice(n,1)}}}function v(t){if(!s(t))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===t.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(p)throw new Error("Reducers may not dispatch actions.");try{p=!0,l=u(l,t)}finally{p=!1}for(var e=f=h,n=0;n<e.length;n++){(0,e[n])()}return t}return v({type:o.INIT}),(a={dispatch:v,subscribe:m,getState:y,replaceReducer:function(t){if("function"!=typeof t)throw new Error("Expected the nextReducer to be a function.");u=t,v({type:o.REPLACE})}})[r.a]=function(){var t,e=m;return(t={subscribe:function(t){if("object"!==(void 0===t?"undefined":i(t))||null===t)throw new TypeError("Expected the observer to be an object.");function n(){t.next&&t.next(y())}return n(),{unsubscribe:e(n)}}})[r.a]=function(){return this},t},a}function u(t,e){var n=e&&e.type;return"Given "+(n&&'action "'+String(n)+'"'||"an action")+', reducer "'+t+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function l(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var i=e[r];0,"function"==typeof t[i]&&(n[i]=t[i])}var a=Object.keys(n);var s=void 0;try{!function(t){Object.keys(t).forEach(function(e){var n=t[e];if(void 0===n(void 0,{type:o.INIT}))throw new Error('Reducer "'+e+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===n(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw new Error('Reducer "'+e+"\" returned undefined when probed with a random type. Don't try to handle "+o.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')})}(n)}catch(t){s=t}return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];if(s)throw s;for(var r=!1,o={},i=0;i<a.length;i++){var c=a[i],l=n[c],f=t[c],h=l(f,e);if(void 0===h){var p=u(c,e);throw new Error(p)}o[c]=h,r=r||h!==f}return r?o:t}}function f(t,e){return function(){return e(t.apply(this,arguments))}}function h(t,e){if("function"==typeof t)return f(t,e);if("object"!==(void 0===t?"undefined":i(t))||null===t)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===t?"null":void 0===t?"undefined":i(t))+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var n=Object.keys(t),r={},o=0;o<n.length;o++){var a=n[o],s=t[a];"function"==typeof s&&(r[a]=f(s,e))}return r}function p(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?function(t){return t}:1===e.length?e[0]:e.reduce(function(t,e){return function(){return t(e.apply(void 0,arguments))}})}function d(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return function(){for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];var i=t.apply(void 0,r),s=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},c={getState:i.getState,dispatch:function(){return s.apply(void 0,arguments)}},u=e.map(function(t){return t(c)});return s=p.apply(void 0,u)(i.dispatch),a({},i,{dispatch:s})}}}},function(t,e,n){"use strict";var r={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i=Object.defineProperty,a=Object.getOwnPropertyNames,s=Object.getOwnPropertySymbols,c=Object.getOwnPropertyDescriptor,u=Object.getPrototypeOf,l=u&&u(Object);t.exports=function t(e,n,f){if("string"!=typeof n){if(l){var h=u(n);h&&h!==l&&t(e,h,f)}var p=a(n);s&&(p=p.concat(s(n)));for(var d=0;d<p.length;++d){var y=p[d];if(!(r[y]||o[y]||f&&f[y])){var m=c(n,y);try{i(e,y,m)}catch(t){}}}return e}return e}},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}},function(t,e,n){try{var r=n(89)}catch(t){r=n(89)}var o=/\s+/,i=Object.prototype.toString;function a(t){if(!t||!t.nodeType)throw new Error("A DOM element reference is required");this.el=t,this.list=t.classList}t.exports=function(t){return new a(t)},a.prototype.add=function(t){if(this.list)return this.list.add(t),this;var e=this.array();return~r(e,t)||e.push(t),this.el.className=e.join(" "),this},a.prototype.remove=function(t){if("[object RegExp]"==i.call(t))return this.removeMatching(t);if(this.list)return this.list.remove(t),this;var e=this.array(),n=r(e,t);return~n&&e.splice(n,1),this.el.className=e.join(" "),this},a.prototype.removeMatching=function(t){for(var e=this.array(),n=0;n<e.length;n++)t.test(e[n])&&this.remove(e[n]);return this},a.prototype.toggle=function(t,e){return this.list?(void 0!==e?e!==this.list.toggle(t,e)&&this.list.toggle(t):this.list.toggle(t),this):(void 0!==e?e?this.add(t):this.remove(t):this.has(t)?this.remove(t):this.add(t),this)},a.prototype.array=function(){var t=(this.el.getAttribute("class")||"").replace(/^\s+|\s+$/g,"").split(o);return""===t[0]&&t.shift(),t},a.prototype.has=a.prototype.contains=function(t){return this.list?this.list.contains(t):!!~r(this.array(),t)}},function(t,e,n){"use strict";function r(t){var e,n=t.Symbol;return"function"==typeof n?n.observable?e=n.observable:(e=n("observable"),n.observable=e):e="@@observable",e}n.d(e,"a",function(){return r})},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},i=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(o(arguments[e]));return t};Object.defineProperty(e,"__esModule",{value:!0});var a=n(1),s=n(6),c=n(73),u=n(116),l=n(163),f=n(107),h=n(33),p=n(227),d=n(231);n(232);n(233),n(234);var y=n(106),m=n(235);m.keys().forEach(function(t){m(t)});var v=[d.default];var g=f.createStore(p.default,f.applyMiddleware.apply(void 0,i(v)));y.registerSw();var b=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.render=function(){return a.createElement(c.BrowserRouter,null,a.createElement(c.Switch,null,a.createElement(c.Route,{path:"/login",exact:!0,component:u.default}),a.createElement(c.Route,{path:"/",component:l.default})))},e}(a.Component);s.render(a.createElement(h.Provider,{store:g},a.createElement(b,null)),document.getElementById("root"))},function(t,e,n){"use strict";var r=n(114);function o(){}t.exports=function(){function t(t,e,n,o,i,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e};return n.checkPropTypes=o,n.PropTypes=n,n}},function(t,e,n){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e){t.exports=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)}},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),i=n(117),a=n(119),s=n(16),c=n(46);n(41),n(162);var u=function(t){function e(e){var n=t.call(this,e)||this;return n.state={password:"",email:""},n.handleEmailChange=n.handleEmailChange.bind(n),n.handldPasswdChange=n.handldPasswdChange.bind(n),n.handleLogin=n.handleLogin.bind(n),n}return r(e,t),e.prototype.handleEmailChange=function(t){this.setState({email:t})},e.prototype.handldPasswdChange=function(t){this.setState({password:t})},e.prototype.handleLogin=function(){var t=this;s.net_Login(this.state).then(function(){t.props.history.push("/")}).catch(function(t){console.log(t),c.default.info("Login failed",2)})},e.prototype.render=function(){return o.createElement("div",{className:"login-wrap"},o.createElement("h3",{className:"login-title"},"Login in via Email"),o.createElement("div",null,o.createElement(i.default,{label:"Email",placeholder:"Enter Email Address",value:this.state.email,onChange:this.handleEmailChange}),o.createElement(i.default,{type:"password",label:"Password",placeholder:"Enter Password",value:this.state.password,onChange:this.handldPasswdChange})),o.createElement(a.default,{className:"login-btn",onClick:this.handleLogin},"Login"))},e}(o.Component);e.default=u},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(1);n(118);var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.render=function(){var t=this.props,e=t.onChange,n=t.type;return n=n||"text",o.createElement("div",{className:"input-item-wrap"},o.createElement("label",{className:"input-item-label"},this.props.label),o.createElement("input",{type:n,value:this.props.value,className:"input-text-input",placeholder:this.props.placeholder,onChange:function(t){var n=t.target.value;e&&e(n)}}))},e}(o.Component);e.default=i},function(t,e,n){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=n(1);n(120),function(t){t[t.Normal=0]="Normal"}(r=e.BtnType||(e.BtnType={}));e.default=function(t){var e=t.onClick,n=t.children,i=t.className,a=t.type,s=t.disabled,c="",u="";switch(a){case r.Normal:c="wc-btn-normal";break;default:c="wc-btn-normal"}return s&&(u="wc-disable"),o.createElement("a",{className:"wc-btn "+c+" "+u+" "+(i||""),onClick:function(){!s&&e()}},n)}},function(t,e,n){},function(t,e){t.exports=axios},function(t,e,n){n(123);var r=n(18).Object;t.exports=function(t,e,n){return r.defineProperty(t,e,n)}},function(t,e,n){var r=n(22);r(r.S+r.F*!n(20),"Object",{defineProperty:n(19).f})},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){t.exports={default:n(126),__esModule:!0}},function(t,e,n){n(127),t.exports=n(18).Object.assign},function(t,e,n){var r=n(22);r(r.S+r.F,"Object",{assign:n(128)})},function(t,e,n){"use strict";var r=n(37),o=n(56),i=n(40),a=n(84),s=n(82),c=Object.assign;t.exports=!c||n(32)(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=c({},t)[n]||Object.keys(c({},e)).join("")!=r})?function(t,e){for(var n=a(t),c=arguments.length,u=1,l=o.f,f=i.f;c>u;)for(var h,p=s(arguments[u++]),d=l?r(p).concat(l(p)):r(p),y=d.length,m=0;y>m;)f.call(p,h=d[m++])&&(n[h]=p[h]);return n}:c},function(t,e,n){var r=n(25),o=n(130),i=n(131);t.exports=function(t){return function(e,n,a){var s,c=r(e),u=o(c.length),l=i(a,u);if(t&&n!=n){for(;u>l;)if((s=c[l++])!=s)return!0}else for(;u>l;l++)if((t||l in c)&&c[l]===n)return t||l||0;return!t&&-1}}},function(t,e,n){var r=n(52),o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},function(t,e,n){var r=n(52),o=Math.max,i=Math.min;t.exports=function(t,e){return(t=r(t))<0?o(t+e,0):i(t,e)}},function(t,e,n){t.exports={default:n(133),__esModule:!0}},function(t,e,n){n(134),n(140),t.exports=n(60).f("iterator")},function(t,e,n){"use strict";var r=n(135)(!0);n(85)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){var r=n(52),o=n(51);t.exports=function(t){return function(e,n){var i,a,s=String(o(e)),c=r(n),u=s.length;return c<0||c>=u?t?"":void 0:(i=s.charCodeAt(c))<55296||i>56319||c+1===u||(a=s.charCodeAt(c+1))<56320||a>57343?t?s.charAt(c):i:t?s.slice(c,c+2):a-56320+(i-55296<<10)+65536}}},function(t,e,n){"use strict";var r=n(58),o=n(36),i=n(59),a={};n(23)(a,n(26)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=r(a,{next:o(1,n)}),i(t,e+" Iterator")}},function(t,e,n){var r=n(19),o=n(31),i=n(37);t.exports=n(20)?Object.defineProperties:function(t,e){o(t);for(var n,a=i(e),s=a.length,c=0;s>c;)r.f(t,n=a[c++],e[n]);return t}},function(t,e,n){var r=n(17).document;t.exports=r&&r.documentElement},function(t,e,n){var r=n(21),o=n(84),i=n(53)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=o(t),r(t,i)?t[i]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e,n){n(141);for(var r=n(17),o=n(23),i=n(57),a=n(26)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),c=0;c<s.length;c++){var u=s[c],l=r[u],f=l&&l.prototype;f&&!f[a]&&o(f,a,u),i[u]=i.Array}},function(t,e,n){"use strict";var r=n(142),o=n(143),i=n(57),a=n(25);t.exports=n(85)(Array,"Array",function(t,e){this._t=a(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,o(1)):o(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},function(t,e){t.exports=function(){}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){t.exports={default:n(145),__esModule:!0}},function(t,e,n){n(146),n(151),n(152),n(153),t.exports=n(18).Symbol},function(t,e,n){"use strict";var r=n(17),o=n(21),i=n(20),a=n(22),s=n(86),c=n(147).KEY,u=n(32),l=n(54),f=n(59),h=n(39),p=n(26),d=n(60),y=n(61),m=n(148),v=n(149),g=n(31),b=n(24),w=n(25),C=n(50),E=n(36),A=n(58),_=n(150),S=n(88),k=n(19),x=n(37),O=S.f,T=k.f,P=_.f,M=r.Symbol,F=r.JSON,N=F&&F.stringify,R=p("_hidden"),j=p("toPrimitive"),B={}.propertyIsEnumerable,I=l("symbol-registry"),L=l("symbols"),D=l("op-symbols"),U=Object.prototype,z="function"==typeof M,W=r.QObject,V=!W||!W.prototype||!W.prototype.findChild,q=i&&u(function(){return 7!=A(T({},"a",{get:function(){return T(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=O(U,e);r&&delete U[e],T(t,e,n),r&&t!==U&&T(U,e,r)}:T,H=function(t){var e=L[t]=A(M.prototype);return e._k=t,e},Y=z&&"symbol"==typeof M.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof M},G=function(t,e,n){return t===U&&G(D,e,n),g(t),e=C(e,!0),g(n),o(L,e)?(n.enumerable?(o(t,R)&&t[R][e]&&(t[R][e]=!1),n=A(n,{enumerable:E(0,!1)})):(o(t,R)||T(t,R,E(1,{})),t[R][e]=!0),q(t,e,n)):T(t,e,n)},K=function(t,e){g(t);for(var n,r=m(e=w(e)),o=0,i=r.length;i>o;)G(t,n=r[o++],e[n]);return t},J=function(t){var e=B.call(this,t=C(t,!0));return!(this===U&&o(L,t)&&!o(D,t))&&(!(e||!o(this,t)||!o(L,t)||o(this,R)&&this[R][t])||e)},X=function(t,e){if(t=w(t),e=C(e,!0),t!==U||!o(L,e)||o(D,e)){var n=O(t,e);return!n||!o(L,e)||o(t,R)&&t[R][e]||(n.enumerable=!0),n}},Q=function(t){for(var e,n=P(w(t)),r=[],i=0;n.length>i;)o(L,e=n[i++])||e==R||e==c||r.push(e);return r},Z=function(t){for(var e,n=t===U,r=P(n?D:w(t)),i=[],a=0;r.length>a;)!o(L,e=r[a++])||n&&!o(U,e)||i.push(L[e]);return i};z||(s((M=function(){if(this instanceof M)throw TypeError("Symbol is not a constructor!");var t=h(arguments.length>0?arguments[0]:void 0),e=function(n){this===U&&e.call(D,n),o(this,R)&&o(this[R],t)&&(this[R][t]=!1),q(this,t,E(1,n))};return i&&V&&q(U,t,{configurable:!0,set:e}),H(t)}).prototype,"toString",function(){return this._k}),S.f=X,k.f=G,n(87).f=_.f=Q,n(40).f=J,n(56).f=Z,i&&!n(38)&&s(U,"propertyIsEnumerable",J,!0),d.f=function(t){return H(p(t))}),a(a.G+a.W+a.F*!z,{Symbol:M});for(var $="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),tt=0;$.length>tt;)p($[tt++]);for(var et=x(p.store),nt=0;et.length>nt;)y(et[nt++]);a(a.S+a.F*!z,"Symbol",{for:function(t){return o(I,t+="")?I[t]:I[t]=M(t)},keyFor:function(t){if(!Y(t))throw TypeError(t+" is not a symbol!");for(var e in I)if(I[e]===t)return e},useSetter:function(){V=!0},useSimple:function(){V=!1}}),a(a.S+a.F*!z,"Object",{create:function(t,e){return void 0===e?A(t):K(A(t),e)},defineProperty:G,defineProperties:K,getOwnPropertyDescriptor:X,getOwnPropertyNames:Q,getOwnPropertySymbols:Z}),F&&a(a.S+a.F*(!z||u(function(){var t=M();return"[null]"!=N([t])||"{}"!=N({a:t})||"{}"!=N(Object(t))})),"JSON",{stringify:function(t){for(var e,n,r=[t],o=1;arguments.length>o;)r.push(arguments[o++]);if(n=e=r[1],(b(e)||void 0!==t)&&!Y(t))return v(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!Y(e))return e}),r[1]=e,N.apply(F,r)}}),M.prototype[j]||n(23)(M.prototype,j,M.prototype.valueOf),f(M,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},function(t,e,n){var r=n(39)("meta"),o=n(24),i=n(21),a=n(19).f,s=0,c=Object.isExtensible||function(){return!0},u=!n(32)(function(){return c(Object.preventExtensions({}))}),l=function(t){a(t,r,{value:{i:"O"+ ++s,w:{}}})},f=t.exports={KEY:r,NEED:!1,fastKey:function(t,e){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!i(t,r)){if(!c(t))return"F";if(!e)return"E";l(t)}return t[r].i},getWeak:function(t,e){if(!i(t,r)){if(!c(t))return!0;if(!e)return!1;l(t)}return t[r].w},onFreeze:function(t){return u&&f.NEED&&c(t)&&!i(t,r)&&l(t),t}}},function(t,e,n){var r=n(37),o=n(56),i=n(40);t.exports=function(t){var e=r(t),n=o.f;if(n)for(var a,s=n(t),c=i.f,u=0;s.length>u;)c.call(t,a=s[u++])&&e.push(a);return e}},function(t,e,n){var r=n(83);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){var r=n(25),o=n(87).f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return a&&"[object Window]"==i.call(t)?function(t){try{return o(t)}catch(t){return a.slice()}}(t):o(r(t))}},function(t,e){},function(t,e,n){n(61)("asyncIterator")},function(t,e,n){n(61)("observable")},function(t,e,n){t.exports={default:n(155),__esModule:!0}},function(t,e,n){n(156),t.exports=n(18).Object.setPrototypeOf},function(t,e,n){var r=n(22);r(r.S,"Object",{setPrototypeOf:n(157).set})},function(t,e,n){var r=n(24),o=n(31),i=function(t,e){if(o(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{(r=n(78)(Function.call,n(88).f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return i(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:i}},function(t,e,n){t.exports={default:n(159),__esModule:!0}},function(t,e,n){n(160);var r=n(18).Object;t.exports=function(t,e){return r.create(t,e)}},function(t,e,n){var r=n(22);r(r.S,"Object",{create:n(58)})},function(t,e,n){(function(e){(function(){var n,r,o,i,a,s;"undefined"!=typeof performance&&null!==performance&&performance.now?t.exports=function(){return performance.now()}:void 0!==e&&null!==e&&e.hrtime?(t.exports=function(){return(n()-a)/1e6},r=e.hrtime,i=(n=function(){var t;return 1e9*(t=r())[0]+t[1]})(),s=1e9*e.uptime(),a=i-s):Date.now?(t.exports=function(){return Date.now()-o},o=Date.now()):(t.exports=function(){return(new Date).getTime()-o},o=(new Date).getTime())}).call(this)}).call(this,n(27))},function(t,e,n){},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),i=n(73),a=n(164),s=n(199),c=n(221);n(223);var u=n(33),l=n(64),f=n(62),h=n(16),p=n(224),d=n(28),y=n(16),m=n(72),v=n(106),g=function(t){function e(e){var n=t.call(this,e)||this;return n.handleOfferMsg=n.handleOfferMsg.bind(n),n.handleFileDeny=n.handleFileDeny.bind(n),n.handleNotify=n.handleNotify.bind(n),n.handleVisibilityChange=n.handleVisibilityChange.bind(n),n}return r(e,t),e.prototype.componentDidMount=function(){var t=this,e=this.props,n=e.history,r=e.dispatch;h.net_getFriendList().then(function(e){e&&e.data?(v.subscribeNotify(),r(f.createInitFriendList(e.data.friends)),r(l.initCurrentUserActionCreate(e.data.myself)),t.socket=d.default.getInstance(y.socketUrl),t.socket.subscribeSignal("offer",t.handleOfferMsg),t.socket.subscribeSignal("denyFile",t.handleFileDeny),navigator.serviceWorker.addEventListener("message",t.handleNotify,!1),document.addEventListener("visibilitychange",t.handleVisibilityChange,!1)):n.replace("/login")}).catch(function(t){n.replace("/login")})},e.prototype.componentWillUnmount=function(){this.socket&&(this.socket.unSubscribeSignal("offer",this.handleOfferMsg),this.socket.unSubscribeSignal("denyFile",this.handleFileSend),navigator.serviceWorker.removeEventListener("message",this.handleNotify),document.removeEventListener("visibilitychange",this.handleVisibilityChange))},e.prototype.handleFileDeny=function(t){var e=t.from,n=t.to;m.default.getInstance(e,n).handleReject()},e.prototype.handleCallReceive=function(t){var e=t.from,n=this.props,r=n.history,o=(n.location,"/video/"+e+"/0");r.push(o)},e.prototype.handleFileSend=function(t){var e=t.from,n=t.to;m.default.getInstance(e,n).receiveFile()},e.prototype.handleOfferMsg=function(t){switch(t.type){case"file_translate":this.handleFileSend(t);break;case"video_call":this.handleCallReceive(t)}},e.prototype.handleNotify=function(t){var e=t.data,n=this.props.history;if(e&&"NOTIFY_ROUTE"===e.type){var r;if(r=e.path){var o=n.location;"/friend"===o.pathname?n.push(r):-1!==o.pathname.indexOf("/chat/")&&n.goBack()}}},e.prototype.handleVisibilityChange=function(){var t=this.props.location;if(-1!=t.pathname.indexOf("/chat/")){var e=void 0;e=document.hidden?t.pathname+"/hidden":t.pathname,y.net_setPoint({point:e}).catch(function(){})}},e.prototype.render=function(){return o.createElement(p.default,null,o.createElement(i.Route,{path:"/friend",component:a.default}),o.createElement(i.Route,{path:"/chat/:id",component:s.default}),o.createElement(i.Route,{path:"/video/:id/:isCaller",component:c.default}),o.createElement(i.Redirect,{from:"/",to:"/friend"}))},e}(o.Component);e.default=u.connect(function(t){return{currentUser:t.currentUser,friends:t.friendList}})(g)},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),i=n(33),a=n(16);n(165);var s=n(62),c=n(63),u=n(64),l=n(166),f=n(28),h=n(0),p=n(71),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.updateInfo=function(){var t=this;this.props.getFriendList().then(function(){t.setPoint(),t.setUpSocket()}).catch(function(e){console.log(e),t.props.history.push("/login")})},e.prototype.componentDidMount=function(){var t=document.querySelector(".nav-title");t&&(t.innerText="Chat"),this.updateInfo()},e.prototype.componentWillUnmount=function(){this.socket&&this.socket.off("addCounter")},e.prototype.setUpSocket=function(){var t=this;this.socket&&this.socket.destory(),this.socket=f.default.getInstance(a.socketUrl),this.socket.on("addCounter",function(e){t.playNotify(),t.props.handleNewMsg(e)})},e.prototype.setPoint=function(){a.net_setPoint({point:"/friend"}).catch(function(t){})},e.prototype.playNotify=function(){this.notify||(this.notify=p.default.getInstance()),this.notify.playMsgNotice()},e.prototype.render=function(){var t,e=this,n=this.props,r=n.currentUser,i=n.friendList,a=null;return r.id&&(a=o.createElement(l.default,{push:this.props.history.push,info:r,isMine:!0})),t=i.map(function(t,n){return o.createElement(l.default,{push:e.props.history.push,info:t,isMine:!1,key:t.id})}),o.createElement("div",null,a,t)},e.contextTypes={title:h.object},e}(o.Component);e.default=i.connect(function(t){return{friendList:t.friendList,currentUser:t.currentUser}},function(t){return{getFriendList:function(){return t(function(t,e){return a.net_getFriendList().then(function(e){return e&&e.data?(t(s.createInitFriendList(e.data.friends)),t(u.initCurrentUserActionCreate(e.data.myself)),Promise.resolve()):Promise.reject()}).catch(function(){return Promise.reject()})})},handleNewMsg:function(e){t(s.createNewMsgFriendAction(e))},initMsgList:function(e){t(c.createInitMsgListAction(e))}}})(d)},function(t,e,n){},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),i=n(65),a=n(66);n(169);var s=function(t){function e(e){var n=t.call(this,e)||this;return n.handleClick=n.handleClick.bind(n),n}return r(e,t),e.prototype.getLastMsg=function(t){if(Array.isArray(t)&&t.length>0){var e=t[t.length-1];switch(e.lx){case"0":return e.msg;case"img":return"[Image]";case"wav":return"[Audio]";default:return""}}return""},e.prototype.getLastDate=function(t){if(Array.isArray(t)&&t.length>0){var e=t[t.length-1];return a.timeFormatter(e.createAt)}return""},e.prototype.handleClick=function(){var t=this.props.info.id;this.props.push("/chat/"+t)},e.prototype.render=function(){var t,e,n,r=this.props,a=r.info,s=(r.isMine,a.username),c=a.email,u=a.img,l=a.unreads;return t=this.getLastMsg(l),e=l?l.length:0,n=this.getLastDate(l),o.createElement("a",{className:"friend-list-item-wrap",onClick:this.handleClick},o.createElement(i.default,{className:"friend-list-item-avator",imgUrl:u,isRadius:!0}),o.createElement("p",{className:"friend-list-item-name"},s||c),o.createElement("p",{className:"friend-list-item-last"},t),o.createElement("span",{className:"firend-list-item-date"},n),e?o.createElement("i",{className:"friend-list-item-unread-num"},e):null)},e}(o.Component);e.default=s},function(t,e,n){},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAMAAAD04JH5AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABm1BMVEX///8LCwsLCwsLCwsLCwsLCwsLCwsLCwvqzq52aV4LCwvqzq7qzq7qzq4LCwsLCwsLCwvqzq7qzq4cGxoLCwsLCwvqzq7qzq7qzq5nXFPqzq7qzq7qzq7qzq7qzq7PtpyMfG4LCwsLCwsLCws6NTLqzq6xnIdbUkoZGBfTup9nXFNEPjnCq5N0Z1ygjXxPSEIkIiGRgHGCc2cvLCkwLy6ppqb////Oy8xqZ2c8u90AsNjV7PQAtNri4OBSTk7h8Pc7OTmS0ehTv98ZGRmg1upGQ0PI5vHDyMpeW1rr0LLv2cC4qq/v28T05tf58usDYKlKbquroq7y49L9+vZxf6zx4c3N0+r16dy/x+M7aars07dleauHjK337+YnZarQu6+fmq59haxYc6vEs6/Zw62OfnBNSkmHg4Oyr67l5OPHzeJBa6VbdqRieqNqfaJ/iJ+3rKJ1aV8oKCcxMDBBQECampukoJ3kyq3Vv6jLuaZLRUHBsqTGtaXgx6xVVFOtpZ+Bc2dbWlraw6vWvaFCPjufnZubiXlqYFc5NzRxmR2sAAAAI3RSTlMAUN+fIIDvQEBwMBBwz4+/EGDvz2DPIIDfYK+/n48wz2CvcFqd9qwAAAABYktHRACIBR1IAAAG3ElEQVR42u2b+XvbNBjHczQHWVdnI1nLDqCVnfhInMQp7mi30XGvMAIb57jGNW7GgAEbG+WGPxvbsh0femVZkdfn4eH7y7q01vuJ9F6W7FLpf4lTuYIQqi4dmP0a8lQ/KIIl5Kt6QACNAKB+ENabzeZ9sowBKsWaajWSa3xo+bDiq9dXEVop0rzn6FI7+tGRo0pEmn5/m29oJnXwJHfx/441m8ura0pCa83i7IeO/sDq8RMKqNXCAPxINwYKXSeLBdCVTBVFUIPsa0NDluW+WTTBUh2hEcH+YOz7hqwV7AetylgjAIwC50RG+FlRsUB0fjTXJIzGQ4XYb4ZGe5YVBEMvAjAN/+BUoRPQkyP+aHqmNze9f3ohQRFT8KA/tuV/3yH2QffHR2x7y0WYR8KRAgBOxu0jFbukU4FO249u72zFZuB4AQBrkSn3ZHkf6O4EnNneOYvQeO6aRwtbAS/qz511pxxnBW3szMBjO1vnkDqfAEU5Jhxg2Rt34trftc8/vnP2CdnPhH4vIseqhPhUcCqYcHfNz2w/ae/KYVQOdd1KFCnxACfmAE/ZT59/5rQfBoDEAxyO5J3NZ3edtOMnZtPU7gmAP/DErz1j3TOr6Wo0A94DAMemabpf2vF+FPTCZhpAfBQkLUQSggMwSfy2gDwQNzCIAkyVQbJTKaApidfioRaWQdUxricBCugIHooDGMrE8PzRcJxRUxMAa6Ktt1bqcRM9XAkGIy8ZGKgXB3hYrPlO1820cRMyzkM9NwBG0TLkykJSQ6D5Cl7reK51fFDG0WfKQWEMp8fJDWhd0FbBkhQ4W2KZ3aQ8dvpx1xFGafvOnXpHhP1yPQw2NZFxLZWMZoafV9uLT38k20Tabj8lWiNnBoyhlpqZQN1FCaooJob7MnMau6LeWsh+DSXUzzIvJ69YiKCDUpIp98aaNU1fsAhBGZHUJyMMLAORxe0HrTow4nQYr769iW6MESyJz367SxkTTWVZd+QEgYoyVeMCWM8emFk8brAh0D7PIrRYx1blMcNf5U/KVAdA8ki3Yr3wwByOaCC597Br4FDqyOoBeWAwnIpahCVonNFEoSqdCQNt5AKQAPNZW4SOhlBY5omEBnEENfbtL+xhPedrnpYAgm4OgApxhPnSP3/xBTvQLNCLLwUEwBSwp6MO8fqg6blw6bId0WyulwkNAVckkCfAX/9XYubtV2cEAmARWE9zyB7g33++Zsf1ehRg5q9CH1gExikghwBegUs2FeANEV4A5ADvJuCKTQcIpgBIimznSSvki03SAqQA3sQAI/IYbLmgQgG4nAUwwwAWAMCyBmXgWrfy7NmZADghDYBBWCoCsALIC8FsgLfwFACDsJxqVigAF7MBfCeAahJ3DGCAt7MB3qF7YTZAB7hyTPbBFMDsXVo2ZgCAXMDbHLAZAK56ABNuAIkCcIUF4D3cmHAD1CkAeywA71PDIBsA8kGDFWBGA2BoSiAAnRngAw9gShyFIRHRAD5kArhKSQQMHQEE4JaCj659/MmnCYDPPnf1xZe+vrp+/WtKHDLUAgjALQU3vsG6hvWt+/N3N5P6nhKHZe4oUJUIQFRpgJs/wOWIYe8QyANyDoAf4Z4k2z6UCfs5AG6B1YClIwJqgdeQ3WYD+AnsSdYZAIDbcjM3AMkJmJpSshcquQFIqYghCFJbk1hjDoBhehim+wKiExgcAOk1YOvK2yQAPQ/AHQVYAxYfLJF3xyZ5AO4qwBow7lGQ1kADAX5O2d8PNwq4XIAYB/55zC8EgF9TAL8FAMlbVOYH/dLJ0N8a+P0PBoBbgX0teZPOvEGR7syDAyECQQLgz9B+KhdX2qwA6VQw35u6sUkF2L8b/qVXjzdqK5Kn2kaeParkFMSO5P76+/Y/RID9/Ttz8/5WFe/RXXKbkvQEGV3+uRX32WHED7vuz4aWz37QkC1wXNPAckPXHUm1cpifn1vx248K54Vxv8dkXbMivZAYgLBLU2XdMmmLoZl6rB0X9JBzqjhMZfe4Uk+IcHjDeViUFLx1nyVBAGVuAL7DqpSYT2+KAihxA4h6hqF70ABVXgBB9rmPEIW969DgBBAUhSVuLxT3ugmnF4qKQm4vFPckUYcPQNwrR0t8AMLsw1vojiT4NwIBqjwAIt+5KvMAiAuCEi0TwN2CwMfpaA+UwGmyLRKgkx9A7EtnbRAADFHG7QhWgdkYdA+hPgiX5C4IINQH4TWQwEMesfbBXAQC5Hlig0mAs61Dtw3iX3wkb2PXoAgV7AKuumQAciIo4tXT9jr5ixJdY7FHSSG1VlKz0CakaalWjHk8DY1aVQrbg66bbdorEuaqSFK1Vi7Q+H9R/wKVdW09QvlPYQAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxMy0wNC0wM1QxNzoxODowMiswODowMOOvCkMAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTEtMDUtMThUMjA6MzY6MDArMDg6MDBmFaABAAAATXRFWHRzb2Z0d2FyZQBJbWFnZU1hZ2ljayA2LjguOC03IFExNiB4ODZfNjQgMjAxNC0wMi0yOCBodHRwOi8vd3d3LmltYWdlbWFnaWNrLm9yZ1mkX38AAAAYdEVYdFRodW1iOjpEb2N1bWVudDo6UGFnZXMAMaf/uy8AAAAYdEVYdFRodW1iOjpJbWFnZTo6SGVpZ2h0ADEyOEN8QYAAAAAXdEVYdFRodW1iOjpJbWFnZTo6V2lkdGgAMTI40I0R3QAAABl0RVh0VGh1bWI6Ok1pbWV0eXBlAGltYWdlL3BuZz+yVk4AAAAXdEVYdFRodW1iOjpNVGltZQAxMzA1NzIyMTYwgPRzaQAAABN0RVh0VGh1bWI6OlNpemUAMy45NEtCQmGMZL4AAABgdEVYdFRodW1iOjpVUkkAZmlsZTovLy9ob21lL2Z0cC8xNTIwL2Vhc3lpY29uLmNuL2Vhc3lpY29uLmNuL2Nkbi1pbWcuZWFzeWljb24uY24vcG5nLzUzNDIvNTM0MjI0LnBuZ3UzxDAAAAAASUVORK5CYII="},function(t,e,n){},function(t,e,n){"use strict";function r(t){return"string"==typeof t}Object.defineProperty(e,"__esModule",{value:!0}),e.SignalType="signalingMsg",e.isDataString=r,e.isRTCIceCandidate=function(t){return!r(t)&&"candidate"in t},e.videoOffer=null,e.receiveCandidate=[]},function(t,e,n){var r=n(172),o=n(68),i=n(94),a=n(42)("socket.io-client");t.exports=e=c;var s=e.managers={};function c(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var n,o=r(t),c=o.source,u=o.id,l=o.path,f=s[u]&&l in s[u].nsps;return e.forceNew||e["force new connection"]||!1===e.multiplex||f?(a("ignoring socket cache for %s",c),n=i(c,e)):(s[u]||(a("new io instance for %s",c),s[u]=i(c,e)),n=s[u]),o.query&&!e.query&&(e.query=o.query),n.socket(o.path,e)}e.protocol=o.protocol,e.connect=c,e.Manager=n(94),e.Socket=n(100)},function(t,e,n){(function(e){var r=n(91),o=n(42)("socket.io-client:url");t.exports=function(t,n){var i=t;n=n||e.location,null==t&&(t=n.protocol+"//"+n.host);"string"==typeof t&&("/"===t.charAt(0)&&(t="/"===t.charAt(1)?n.protocol+t:n.host+t),/^(https?|wss?):\/\//.test(t)||(o("protocol-less url %s",t),t=void 0!==n?n.protocol+"//"+t:"https://"+t),o("parse %s",t),i=r(t));i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443"));i.path=i.path||"/";var a=-1!==i.host.indexOf(":")?"["+i.host+"]":i.host;return i.id=i.protocol+"://"+a+":"+i.port,i.href=i.protocol+"://"+a+(n&&n.port===i.port?"":":"+i.port),i}}).call(this,n(12))},function(t,e,n){function r(t){var n;function r(){if(r.enabled){var t=r,o=+new Date,i=o-(n||o);t.diff=i,t.prev=n,t.curr=o,n=o;for(var a=new Array(arguments.length),s=0;s<a.length;s++)a[s]=arguments[s];a[0]=e.coerce(a[0]),"string"!=typeof a[0]&&a.unshift("%O");var c=0;a[0]=a[0].replace(/%([a-zA-Z%])/g,function(n,r){if("%%"===n)return n;c++;var o=e.formatters[r];if("function"==typeof o){var i=a[c];n=o.call(t,i),a.splice(c,1),c--}return n}),e.formatArgs.call(t,a),(r.log||e.log||console.log.bind(console)).apply(t,a)}}return r.namespace=t,r.enabled=e.enabled(t),r.useColors=e.useColors(),r.color=function(t){var n,r=0;for(n in t)r=(r<<5)-r+t.charCodeAt(n),r|=0;return e.colors[Math.abs(r)%e.colors.length]}(t),r.destroy=o,"function"==typeof e.init&&e.init(r),e.instances.push(r),r}function o(){var t=e.instances.indexOf(this);return-1!==t&&(e.instances.splice(t,1),!0)}(e=t.exports=r.debug=r.default=r).coerce=function(t){return t instanceof Error?t.stack||t.message:t},e.disable=function(){e.enable("")},e.enable=function(t){var n;e.save(t),e.names=[],e.skips=[];var r=("string"==typeof t?t:"").split(/[\s,]+/),o=r.length;for(n=0;n<o;n++)r[n]&&("-"===(t=r[n].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")));for(n=0;n<e.instances.length;n++){var i=e.instances[n];i.enabled=e.enabled(i.namespace)}},e.enabled=function(t){if("*"===t[t.length-1])return!0;var n,r;for(n=0,r=e.skips.length;n<r;n++)if(e.skips[n].test(t))return!1;for(n=0,r=e.names.length;n<r;n++)if(e.names[n].test(t))return!0;return!1},e.humanize=n(67),e.instances=[],e.names=[],e.skips=[],e.formatters={}},function(t,e,n){(function(r){function o(){var t;try{t=e.storage.debug}catch(t){}return!t&&void 0!==r&&"env"in r&&(t=r.env.DEBUG),t}(e=t.exports=n(175)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},e.formatArgs=function(t){var n=this.useColors;if(t[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+t[0]+(n?"%c ":" ")+"+"+e.humanize(this.diff),!n)return;var r="color: "+this.color;t.splice(1,0,r,"color: inherit");var o=0,i=0;t[0].replace(/%[a-zA-Z%]/g,function(t){"%%"!==t&&"%c"===t&&(i=++o)}),t.splice(i,0,r)},e.save=function(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(t){}},e.load=o,e.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},e.enable(o())}).call(this,n(27))},function(t,e,n){function r(t){var n;function r(){if(r.enabled){var t=r,o=+new Date,i=o-(n||o);t.diff=i,t.prev=n,t.curr=o,n=o;for(var a=new Array(arguments.length),s=0;s<a.length;s++)a[s]=arguments[s];a[0]=e.coerce(a[0]),"string"!=typeof a[0]&&a.unshift("%O");var c=0;a[0]=a[0].replace(/%([a-zA-Z%])/g,function(n,r){if("%%"===n)return n;c++;var o=e.formatters[r];if("function"==typeof o){var i=a[c];n=o.call(t,i),a.splice(c,1),c--}return n}),e.formatArgs.call(t,a),(r.log||e.log||console.log.bind(console)).apply(t,a)}}return r.namespace=t,r.enabled=e.enabled(t),r.useColors=e.useColors(),r.color=function(t){var n,r=0;for(n in t)r=(r<<5)-r+t.charCodeAt(n),r|=0;return e.colors[Math.abs(r)%e.colors.length]}(t),r.destroy=o,"function"==typeof e.init&&e.init(r),e.instances.push(r),r}function o(){var t=e.instances.indexOf(this);return-1!==t&&(e.instances.splice(t,1),!0)}(e=t.exports=r.debug=r.default=r).coerce=function(t){return t instanceof Error?t.stack||t.message:t},e.disable=function(){e.enable("")},e.enable=function(t){var n;e.save(t),e.names=[],e.skips=[];var r=("string"==typeof t?t:"").split(/[\s,]+/),o=r.length;for(n=0;n<o;n++)r[n]&&("-"===(t=r[n].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")));for(n=0;n<e.instances.length;n++){var i=e.instances[n];i.enabled=e.enabled(i.namespace)}},e.enabled=function(t){if("*"===t[t.length-1])return!0;var n,r;for(n=0,r=e.skips.length;n<r;n++)if(e.skips[n].test(t))return!1;for(n=0,r=e.names.length;n<r;n++)if(e.names[n].test(t))return!0;return!1},e.humanize=n(67),e.instances=[],e.names=[],e.skips=[],e.formatters={}},function(t,e,n){(function(t){var r=n(92),o=n(93),i=Object.prototype.toString,a="function"==typeof t.Blob||"[object BlobConstructor]"===i.call(t.Blob),s="function"==typeof t.File||"[object FileConstructor]"===i.call(t.File);e.deconstructPacket=function(t){var e=[],n=t.data,i=t;return i.data=function t(e,n){if(!e)return e;if(o(e)){var i={_placeholder:!0,num:n.length};return n.push(e),i}if(r(e)){for(var a=new Array(e.length),s=0;s<e.length;s++)a[s]=t(e[s],n);return a}if("object"==typeof e&&!(e instanceof Date)){var a={};for(var c in e)a[c]=t(e[c],n);return a}return e}(n,e),i.attachments=e.length,{packet:i,buffers:e}},e.reconstructPacket=function(t,e){return t.data=function t(e,n){if(!e)return e;if(e&&e._placeholder)return n[e.num];if(r(e))for(var o=0;o<e.length;o++)e[o]=t(e[o],n);else if("object"==typeof e)for(var i in e)e[i]=t(e[i],n);return e}(t.data,e),t.attachments=void 0,t},e.removeBlobs=function(t,e){var n=0,i=t;!function t(c,u,l){if(!c)return c;if(a&&c instanceof Blob||s&&c instanceof File){n++;var f=new FileReader;f.onload=function(){l?l[u]=this.result:i=this.result,--n||e(i)},f.readAsArrayBuffer(c)}else if(r(c))for(var h=0;h<c.length;h++)t(c[h],h,c);else if("object"==typeof c&&!o(c))for(var p in c)t(c[p],p,c)}(i),n||e(i)}}).call(this,n(12))},function(t,e,n){t.exports=n(178),t.exports.parser=n(30)},function(t,e,n){(function(e){var r=n(95),o=n(29),i=n(45)("engine.io-client:socket"),a=n(99),s=n(30),c=n(91),u=n(43);function l(t,n){if(!(this instanceof l))return new l(t,n);n=n||{},t&&"object"==typeof t&&(n=t,t=null),t?(t=c(t),n.hostname=t.host,n.secure="https"===t.protocol||"wss"===t.protocol,n.port=t.port,t.query&&(n.query=t.query)):n.host&&(n.hostname=c(n.host).host),this.secure=null!=n.secure?n.secure:e.location&&"https:"===location.protocol,n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.agent=n.agent||!1,this.hostname=n.hostname||(e.location?location.hostname:"localhost"),this.port=n.port||(e.location&&location.port?location.port:this.secure?443:80),this.query=n.query||{},"string"==typeof this.query&&(this.query=u.decode(this.query)),this.upgrade=!1!==n.upgrade,this.path=(n.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!n.forceJSONP,this.jsonp=!1!==n.jsonp,this.forceBase64=!!n.forceBase64,this.enablesXDR=!!n.enablesXDR,this.timestampParam=n.timestampParam||"t",this.timestampRequests=n.timestampRequests,this.transports=n.transports||["polling","websocket"],this.transportOptions=n.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=n.policyPort||843,this.rememberUpgrade=n.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=n.onlyBinaryUpgrades,this.perMessageDeflate=!1!==n.perMessageDeflate&&(n.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=n.pfx||null,this.key=n.key||null,this.passphrase=n.passphrase||null,this.cert=n.cert||null,this.ca=n.ca||null,this.ciphers=n.ciphers||null,this.rejectUnauthorized=void 0===n.rejectUnauthorized||n.rejectUnauthorized,this.forceNode=!!n.forceNode;var r="object"==typeof e&&e;r.global===r&&(n.extraHeaders&&Object.keys(n.extraHeaders).length>0&&(this.extraHeaders=n.extraHeaders),n.localAddress&&(this.localAddress=n.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}t.exports=l,l.priorWebsocketSuccess=!1,o(l.prototype),l.protocol=s.protocol,l.Socket=l,l.Transport=n(70),l.transports=n(95),l.parser=n(30),l.prototype.createTransport=function(t){i('creating transport "%s"',t);var e=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}(this.query);e.EIO=s.protocol,e.transport=t;var n=this.transportOptions[t]||{};return this.id&&(e.sid=this.id),new r[t]({query:e,socket:this,agent:n.agent||this.agent,hostname:n.hostname||this.hostname,port:n.port||this.port,secure:n.secure||this.secure,path:n.path||this.path,forceJSONP:n.forceJSONP||this.forceJSONP,jsonp:n.jsonp||this.jsonp,forceBase64:n.forceBase64||this.forceBase64,enablesXDR:n.enablesXDR||this.enablesXDR,timestampRequests:n.timestampRequests||this.timestampRequests,timestampParam:n.timestampParam||this.timestampParam,policyPort:n.policyPort||this.policyPort,pfx:n.pfx||this.pfx,key:n.key||this.key,passphrase:n.passphrase||this.passphrase,cert:n.cert||this.cert,ca:n.ca||this.ca,ciphers:n.ciphers||this.ciphers,rejectUnauthorized:n.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:n.perMessageDeflate||this.perMessageDeflate,extraHeaders:n.extraHeaders||this.extraHeaders,forceNode:n.forceNode||this.forceNode,localAddress:n.localAddress||this.localAddress,requestTimeout:n.requestTimeout||this.requestTimeout,protocols:n.protocols||void 0})},l.prototype.open=function(){var t;if(this.rememberUpgrade&&l.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))t="websocket";else{if(0===this.transports.length){var e=this;return void setTimeout(function(){e.emit("error","No transports available")},0)}t=this.transports[0]}this.readyState="opening";try{t=this.createTransport(t)}catch(t){return this.transports.shift(),void this.open()}t.open(),this.setTransport(t)},l.prototype.setTransport=function(t){i("setting transport %s",t.name);var e=this;this.transport&&(i("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=t,t.on("drain",function(){e.onDrain()}).on("packet",function(t){e.onPacket(t)}).on("error",function(t){e.onError(t)}).on("close",function(){e.onClose("transport close")})},l.prototype.probe=function(t){i('probing transport "%s"',t);var e=this.createTransport(t,{probe:1}),n=!1,r=this;function o(){if(r.onlyBinaryUpgrades){var o=!this.supportsBinary&&r.transport.supportsBinary;n=n||o}n||(i('probe transport "%s" opened',t),e.send([{type:"ping",data:"probe"}]),e.once("packet",function(o){if(!n)if("pong"===o.type&&"probe"===o.data){if(i('probe transport "%s" pong',t),r.upgrading=!0,r.emit("upgrading",e),!e)return;l.priorWebsocketSuccess="websocket"===e.name,i('pausing current transport "%s"',r.transport.name),r.transport.pause(function(){n||"closed"!==r.readyState&&(i("changing transport and sending upgrade packet"),h(),r.setTransport(e),e.send([{type:"upgrade"}]),r.emit("upgrade",e),e=null,r.upgrading=!1,r.flush())})}else{i('probe transport "%s" failed',t);var a=new Error("probe error");a.transport=e.name,r.emit("upgradeError",a)}}))}function a(){n||(n=!0,h(),e.close(),e=null)}function s(n){var o=new Error("probe error: "+n);o.transport=e.name,a(),i('probe transport "%s" failed because of error: %s',t,n),r.emit("upgradeError",o)}function c(){s("transport closed")}function u(){s("socket closed")}function f(t){e&&t.name!==e.name&&(i('"%s" works - aborting "%s"',t.name,e.name),a())}function h(){e.removeListener("open",o),e.removeListener("error",s),e.removeListener("close",c),r.removeListener("close",u),r.removeListener("upgrading",f)}l.priorWebsocketSuccess=!1,e.once("open",o),e.once("error",s),e.once("close",c),this.once("close",u),this.once("upgrading",f),e.open()},l.prototype.onOpen=function(){if(i("socket open"),this.readyState="open",l.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){i("starting upgrade probes");for(var t=0,e=this.upgrades.length;t<e;t++)this.probe(this.upgrades[t])}},l.prototype.onPacket=function(t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(i('socket receive: type "%s", data "%s"',t.type,t.data),this.emit("packet",t),this.emit("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var e=new Error("server error");e.code=t.data,this.onError(e);break;case"message":this.emit("data",t.data),this.emit("message",t.data)}else i('packet received with socket readyState "%s"',this.readyState)},l.prototype.onHandshake=function(t){this.emit("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},l.prototype.onHeartbeat=function(t){clearTimeout(this.pingTimeoutTimer);var e=this;e.pingTimeoutTimer=setTimeout(function(){"closed"!==e.readyState&&e.onClose("ping timeout")},t||e.pingInterval+e.pingTimeout)},l.prototype.setPing=function(){var t=this;clearTimeout(t.pingIntervalTimer),t.pingIntervalTimer=setTimeout(function(){i("writing ping packet - expecting pong within %sms",t.pingTimeout),t.ping(),t.onHeartbeat(t.pingTimeout)},t.pingInterval)},l.prototype.ping=function(){var t=this;this.sendPacket("ping",function(){t.emit("ping")})},l.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},l.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(i("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},l.prototype.write=l.prototype.send=function(t,e,n){return this.sendPacket("message",t,e,n),this},l.prototype.sendPacket=function(t,e,n,r){if("function"==typeof e&&(r=e,e=void 0),"function"==typeof n&&(r=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){(n=n||{}).compress=!1!==n.compress;var o={type:t,data:e,options:n};this.emit("packetCreate",o),this.writeBuffer.push(o),r&&this.once("flush",r),this.flush()}},l.prototype.close=function(){if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var t=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?r():e()}):this.upgrading?r():e()}function e(){t.onClose("forced close"),i("socket closing - telling transport to close"),t.transport.close()}function n(){t.removeListener("upgrade",n),t.removeListener("upgradeError",n),e()}function r(){t.once("upgrade",n),t.once("upgradeError",n)}return this},l.prototype.onError=function(t){i("socket error %j",t),l.priorWebsocketSuccess=!1,this.emit("error",t),this.onClose("transport error",t)},l.prototype.onClose=function(t,e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){i('socket close with reason: "%s"',t);clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",t,e),this.writeBuffer=[],this.prevBufferLen=0}},l.prototype.filterUpgrades=function(t){for(var e=[],n=0,r=t.length;n<r;n++)~a(this.transports,t[n])&&e.push(t[n]);return e}}).call(this,n(12))},function(t,e){try{t.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(e){t.exports=!1}},function(t,e,n){(function(e){var r=n(69),o=n(96),i=n(29),a=n(44),s=n(45)("engine.io-client:polling-xhr");function c(){}function u(t){if(o.call(this,t),this.requestTimeout=t.requestTimeout,this.extraHeaders=t.extraHeaders,e.location){var n="https:"===location.protocol,r=location.port;r||(r=n?443:80),this.xd=t.hostname!==e.location.hostname||r!==t.port,this.xs=t.secure!==n}}function l(t){this.method=t.method||"GET",this.uri=t.uri,this.xd=!!t.xd,this.xs=!!t.xs,this.async=!1!==t.async,this.data=void 0!==t.data?t.data:null,this.agent=t.agent,this.isBinary=t.isBinary,this.supportsBinary=t.supportsBinary,this.enablesXDR=t.enablesXDR,this.requestTimeout=t.requestTimeout,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.extraHeaders=t.extraHeaders,this.create()}function f(){for(var t in l.requests)l.requests.hasOwnProperty(t)&&l.requests[t].abort()}t.exports=u,t.exports.Request=l,a(u,o),u.prototype.supportsBinary=!0,u.prototype.request=function(t){return(t=t||{}).uri=this.uri(),t.xd=this.xd,t.xs=this.xs,t.agent=this.agent||!1,t.supportsBinary=this.supportsBinary,t.enablesXDR=this.enablesXDR,t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized,t.requestTimeout=this.requestTimeout,t.extraHeaders=this.extraHeaders,new l(t)},u.prototype.doWrite=function(t,e){var n="string"!=typeof t&&void 0!==t,r=this.request({method:"POST",data:t,isBinary:n}),o=this;r.on("success",e),r.on("error",function(t){o.onError("xhr post error",t)}),this.sendXhr=r},u.prototype.doPoll=function(){s("xhr poll");var t=this.request(),e=this;t.on("data",function(t){e.onData(t)}),t.on("error",function(t){e.onError("xhr poll error",t)}),this.pollXhr=t},i(l.prototype),l.prototype.create=function(){var t={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized;var n=this.xhr=new r(t),o=this;try{s("xhr open %s: %s",this.method,this.uri),n.open(this.method,this.uri,this.async);try{if(this.extraHeaders)for(var i in n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0),this.extraHeaders)this.extraHeaders.hasOwnProperty(i)&&n.setRequestHeader(i,this.extraHeaders[i])}catch(t){}if("POST"===this.method)try{this.isBinary?n.setRequestHeader("Content-type","application/octet-stream"):n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(t){}try{n.setRequestHeader("Accept","*/*")}catch(t){}"withCredentials"in n&&(n.withCredentials=!0),this.requestTimeout&&(n.timeout=this.requestTimeout),this.hasXDR()?(n.onload=function(){o.onLoad()},n.onerror=function(){o.onError(n.responseText)}):n.onreadystatechange=function(){if(2===n.readyState)try{var t=n.getResponseHeader("Content-Type");o.supportsBinary&&"application/octet-stream"===t&&(n.responseType="arraybuffer")}catch(t){}4===n.readyState&&(200===n.status||1223===n.status?o.onLoad():setTimeout(function(){o.onError(n.status)},0))},s("xhr data %s",this.data),n.send(this.data)}catch(t){return void setTimeout(function(){o.onError(t)},0)}e.document&&(this.index=l.requestsCount++,l.requests[this.index]=this)},l.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},l.prototype.onData=function(t){this.emit("data",t),this.onSuccess()},l.prototype.onError=function(t){this.emit("error",t),this.cleanup(!0)},l.prototype.cleanup=function(t){if(void 0!==this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=c:this.xhr.onreadystatechange=c,t)try{this.xhr.abort()}catch(t){}e.document&&delete l.requests[this.index],this.xhr=null}},l.prototype.onLoad=function(){var t;try{var e;try{e=this.xhr.getResponseHeader("Content-Type")}catch(t){}t="application/octet-stream"===e&&this.xhr.response||this.xhr.responseText}catch(t){this.onError(t)}null!=t&&this.onData(t)},l.prototype.hasXDR=function(){return void 0!==e.XDomainRequest&&!this.xs&&this.enablesXDR},l.prototype.abort=function(){this.cleanup()},l.requestsCount=0,l.requests={},e.document&&(e.attachEvent?e.attachEvent("onunload",f):e.addEventListener&&e.addEventListener("beforeunload",f,!1))}).call(this,n(12))},function(t,e){t.exports=Object.keys||function(t){var e=[],n=Object.prototype.hasOwnProperty;for(var r in t)n.call(t,r)&&e.push(r);return e}},function(t,e,n){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var r=n(183),o=n(184),i=n(185);function a(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(t,e){if(a()<e)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=c.prototype:(null===t&&(t=new c(e)),t.length=e),t}function c(t,e,n){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return f(this,t)}return u(this,t,e,n)}function u(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r);c.TYPED_ARRAY_SUPPORT?(t=e).__proto__=c.prototype:t=h(t,e);return t}(t,e,n,r):"string"==typeof e?function(t,e,n){"string"==typeof n&&""!==n||(n="utf8");if(!c.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|d(e,n),o=(t=s(t,r)).write(e,n);o!==r&&(t=t.slice(0,o));return t}(t,e,n):function(t,e){if(c.isBuffer(e)){var n=0|p(e.length);return 0===(t=s(t,n)).length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||function(t){return t!=t}(e.length)?s(t,0):h(t,e);if("Buffer"===e.type&&i(e.data))return h(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function l(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function f(t,e){if(l(e),t=s(t,e<0?0:0|p(e)),!c.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function h(t,e){var n=e.length<0?0:0|p(e.length);t=s(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function p(t){if(t>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|t}function d(t,e){if(c.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return U(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return z(t).length;default:if(r)return U(t).length;e=(""+e).toLowerCase(),r=!0}}function y(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function m(t,e,n,r,o){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(o)return-1;n=t.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof e&&(e=c.from(e,r)),c.isBuffer(e))return 0===e.length?-1:v(t,e,n,r,o);if("number"==typeof e)return e&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):v(t,[e],n,r,o);throw new TypeError("val must be string, number or Buffer")}function v(t,e,n,r,o){var i,a=1,s=t.length,c=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;a=2,s/=2,c/=2,n/=2}function u(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(o){var l=-1;for(i=n;i<s;i++)if(u(t,i)===u(e,-1===l?0:i-l)){if(-1===l&&(l=i),i-l+1===c)return l*a}else-1!==l&&(i-=i-l),l=-1}else for(n+c>s&&(n=s-c),i=n;i>=0;i--){for(var f=!0,h=0;h<c;h++)if(u(t,i+h)!==u(e,h)){f=!1;break}if(f)return i}return-1}function g(t,e,n,r){n=Number(n)||0;var o=t.length-n;r?(r=Number(r))>o&&(r=o):r=o;var i=e.length;if(i%2!=0)throw new TypeError("Invalid hex string");r>i/2&&(r=i/2);for(var a=0;a<r;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[n+a]=s}return a}function b(t,e,n,r){return W(U(e,t.length-n),t,n,r)}function w(t,e,n,r){return W(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function C(t,e,n,r){return w(t,e,n,r)}function E(t,e,n,r){return W(z(e),t,n,r)}function A(t,e,n,r){return W(function(t,e){for(var n,r,o,i=[],a=0;a<t.length&&!((e-=2)<0);++a)n=t.charCodeAt(a),r=n>>8,o=n%256,i.push(o),i.push(r);return i}(e,t.length-n),t,n,r)}function _(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function S(t,e,n){n=Math.min(t.length,n);for(var r=[],o=e;o<n;){var i,a,s,c,u=t[o],l=null,f=u>239?4:u>223?3:u>191?2:1;if(o+f<=n)switch(f){case 1:u<128&&(l=u);break;case 2:128==(192&(i=t[o+1]))&&(c=(31&u)<<6|63&i)>127&&(l=c);break;case 3:i=t[o+1],a=t[o+2],128==(192&i)&&128==(192&a)&&(c=(15&u)<<12|(63&i)<<6|63&a)>2047&&(c<55296||c>57343)&&(l=c);break;case 4:i=t[o+1],a=t[o+2],s=t[o+3],128==(192&i)&&128==(192&a)&&128==(192&s)&&(c=(15&u)<<18|(63&i)<<12|(63&a)<<6|63&s)>65535&&c<1114112&&(l=c)}null===l?(l=65533,f=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),o+=f}return function(t){var e=t.length;if(e<=k)return String.fromCharCode.apply(String,t);var n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=k));return n}(r)}e.Buffer=c,e.SlowBuffer=function(t){+t!=t&&(t=0);return c.alloc(+t)},e.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=a(),c.poolSize=8192,c._augment=function(t){return t.__proto__=c.prototype,t},c.from=function(t,e,n){return u(null,t,e,n)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(t,e,n){return function(t,e,n,r){return l(e),e<=0?s(t,e):void 0!==n?"string"==typeof r?s(t,e).fill(n,r):s(t,e).fill(n):s(t,e)}(null,t,e,n)},c.allocUnsafe=function(t){return f(null,t)},c.allocUnsafeSlow=function(t){return f(null,t)},c.isBuffer=function(t){return!(null==t||!t._isBuffer)},c.compare=function(t,e){if(!c.isBuffer(t)||!c.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,o=0,i=Math.min(n,r);o<i;++o)if(t[o]!==e[o]){n=t[o],r=e[o];break}return n<r?-1:r<n?1:0},c.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(t,e){if(!i(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return c.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=c.allocUnsafe(e),o=0;for(n=0;n<t.length;++n){var a=t[n];if(!c.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,o),o+=a.length}return r},c.byteLength=d,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)y(this,e,e+1);return this},c.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)y(this,e,e+3),y(this,e+1,e+2);return this},c.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)y(this,e,e+7),y(this,e+1,e+6),y(this,e+2,e+5),y(this,e+3,e+4);return this},c.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?S(this,0,t):function(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return T(this,e,n);case"utf8":case"utf-8":return S(this,e,n);case"ascii":return x(this,e,n);case"latin1":case"binary":return O(this,e,n);case"base64":return _(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}.apply(this,arguments)},c.prototype.equals=function(t){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===c.compare(this,t)},c.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},c.prototype.compare=function(t,e,n,r,o){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),e<0||n>t.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&e>=n)return 0;if(r>=o)return-1;if(e>=n)return 1;if(e>>>=0,n>>>=0,r>>>=0,o>>>=0,this===t)return 0;for(var i=o-r,a=n-e,s=Math.min(i,a),u=this.slice(r,o),l=t.slice(e,n),f=0;f<s;++f)if(u[f]!==l[f]){i=u[f],a=l[f];break}return i<a?-1:a<i?1:0},c.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},c.prototype.indexOf=function(t,e,n){return m(this,t,e,n,!0)},c.prototype.lastIndexOf=function(t,e,n){return m(this,t,e,n,!1)},c.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-e;if((void 0===n||n>o)&&(n=o),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return g(this,t,e,n);case"utf8":case"utf-8":return b(this,t,e,n);case"ascii":return w(this,t,e,n);case"latin1":case"binary":return C(this,t,e,n);case"base64":return E(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,t,e,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var k=4096;function x(t,e,n){var r="";n=Math.min(t.length,n);for(var o=e;o<n;++o)r+=String.fromCharCode(127&t[o]);return r}function O(t,e,n){var r="";n=Math.min(t.length,n);for(var o=e;o<n;++o)r+=String.fromCharCode(t[o]);return r}function T(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var o="",i=e;i<n;++i)o+=D(t[i]);return o}function P(t,e,n){for(var r=t.slice(e,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function M(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function F(t,e,n,r,o,i){if(!c.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<i)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function N(t,e,n,r){e<0&&(e=65535+e+1);for(var o=0,i=Math.min(t.length-n,2);o<i;++o)t[n+o]=(e&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function R(t,e,n,r){e<0&&(e=4294967295+e+1);for(var o=0,i=Math.min(t.length-n,4);o<i;++o)t[n+o]=e>>>8*(r?o:3-o)&255}function j(t,e,n,r,o,i){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function B(t,e,n,r,i){return i||j(t,0,n,4),o.write(t,e,n,r,23,4),n+4}function I(t,e,n,r,i){return i||j(t,0,n,8),o.write(t,e,n,r,52,8),n+8}c.prototype.slice=function(t,e){var n,r=this.length;if(t=~~t,e=void 0===e?r:~~e,t<0?(t+=r)<0&&(t=0):t>r&&(t=r),e<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t),c.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=c.prototype;else{var o=e-t;n=new c(o,void 0);for(var i=0;i<o;++i)n[i]=this[i+t]}return n},c.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||M(t,e,this.length);for(var r=this[t],o=1,i=0;++i<e&&(o*=256);)r+=this[t+i]*o;return r},c.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||M(t,e,this.length);for(var r=this[t+--e],o=1;e>0&&(o*=256);)r+=this[t+--e]*o;return r},c.prototype.readUInt8=function(t,e){return e||M(t,1,this.length),this[t]},c.prototype.readUInt16LE=function(t,e){return e||M(t,2,this.length),this[t]|this[t+1]<<8},c.prototype.readUInt16BE=function(t,e){return e||M(t,2,this.length),this[t]<<8|this[t+1]},c.prototype.readUInt32LE=function(t,e){return e||M(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},c.prototype.readUInt32BE=function(t,e){return e||M(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},c.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||M(t,e,this.length);for(var r=this[t],o=1,i=0;++i<e&&(o*=256);)r+=this[t+i]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*e)),r},c.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||M(t,e,this.length);for(var r=e,o=1,i=this[t+--r];r>0&&(o*=256);)i+=this[t+--r]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*e)),i},c.prototype.readInt8=function(t,e){return e||M(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},c.prototype.readInt16LE=function(t,e){e||M(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(t,e){e||M(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(t,e){return e||M(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},c.prototype.readInt32BE=function(t,e){return e||M(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},c.prototype.readFloatLE=function(t,e){return e||M(t,4,this.length),o.read(this,t,!0,23,4)},c.prototype.readFloatBE=function(t,e){return e||M(t,4,this.length),o.read(this,t,!1,23,4)},c.prototype.readDoubleLE=function(t,e){return e||M(t,8,this.length),o.read(this,t,!0,52,8)},c.prototype.readDoubleBE=function(t,e){return e||M(t,8,this.length),o.read(this,t,!1,52,8)},c.prototype.writeUIntLE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||F(this,t,e,n,Math.pow(2,8*n)-1,0);var o=1,i=0;for(this[e]=255&t;++i<n&&(o*=256);)this[e+i]=t/o&255;return e+n},c.prototype.writeUIntBE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||F(this,t,e,n,Math.pow(2,8*n)-1,0);var o=n-1,i=1;for(this[e+o]=255&t;--o>=0&&(i*=256);)this[e+o]=t/i&255;return e+n},c.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||F(this,t,e,1,255,0),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},c.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||F(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):N(this,t,e,!0),e+2},c.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||F(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):N(this,t,e,!1),e+2},c.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||F(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):R(this,t,e,!0),e+4},c.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||F(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):R(this,t,e,!1),e+4},c.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var o=Math.pow(2,8*n-1);F(this,t,e,n,o-1,-o)}var i=0,a=1,s=0;for(this[e]=255&t;++i<n&&(a*=256);)t<0&&0===s&&0!==this[e+i-1]&&(s=1),this[e+i]=(t/a>>0)-s&255;return e+n},c.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var o=Math.pow(2,8*n-1);F(this,t,e,n,o-1,-o)}var i=n-1,a=1,s=0;for(this[e+i]=255&t;--i>=0&&(a*=256);)t<0&&0===s&&0!==this[e+i+1]&&(s=1),this[e+i]=(t/a>>0)-s&255;return e+n},c.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||F(this,t,e,1,127,-128),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},c.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||F(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):N(this,t,e,!0),e+2},c.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||F(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):N(this,t,e,!1),e+2},c.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||F(this,t,e,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):R(this,t,e,!0),e+4},c.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||F(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):R(this,t,e,!1),e+4},c.prototype.writeFloatLE=function(t,e,n){return B(this,t,e,!0,n)},c.prototype.writeFloatBE=function(t,e,n){return B(this,t,e,!1,n)},c.prototype.writeDoubleLE=function(t,e,n){return I(this,t,e,!0,n)},c.prototype.writeDoubleBE=function(t,e,n){return I(this,t,e,!1,n)},c.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var o,i=r-n;if(this===t&&n<e&&e<r)for(o=i-1;o>=0;--o)t[o+e]=this[o+n];else if(i<1e3||!c.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)t[o+e]=this[o+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+i),e);return i},c.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var o=t.charCodeAt(0);o<256&&(t=o)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var i;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(i=e;i<n;++i)this[i]=t;else{var a=c.isBuffer(t)?t:U(new c(t,r).toString()),s=a.length;for(i=0;i<n-e;++i)this[i+e]=a[i%s]}return this};var L=/[^+\/0-9A-Za-z-_]/g;function D(t){return t<16?"0"+t.toString(16):t.toString(16)}function U(t,e){var n;e=e||1/0;for(var r=t.length,o=null,i=[],a=0;a<r;++a){if((n=t.charCodeAt(a))>55295&&n<57344){if(!o){if(n>56319){(e-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(e-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(e-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(e-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((e-=1)<0)break;i.push(n)}else if(n<2048){if((e-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function z(t){return r.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(L,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function W(t,e,n,r){for(var o=0;o<r&&!(o+n>=e.length||o>=t.length);++o)e[o+n]=t[o];return o}}).call(this,n(12))},function(t,e,n){"use strict";e.byteLength=function(t){var e=u(t),n=e[0],r=e[1];return 3*(n+r)/4-r},e.toByteArray=function(t){for(var e,n=u(t),r=n[0],a=n[1],s=new i(function(t,e,n){return 3*(e+n)/4-n}(0,r,a)),c=0,l=a>0?r-4:r,f=0;f<l;f+=4)e=o[t.charCodeAt(f)]<<18|o[t.charCodeAt(f+1)]<<12|o[t.charCodeAt(f+2)]<<6|o[t.charCodeAt(f+3)],s[c++]=e>>16&255,s[c++]=e>>8&255,s[c++]=255&e;2===a&&(e=o[t.charCodeAt(f)]<<2|o[t.charCodeAt(f+1)]>>4,s[c++]=255&e);1===a&&(e=o[t.charCodeAt(f)]<<10|o[t.charCodeAt(f+1)]<<4|o[t.charCodeAt(f+2)]>>2,s[c++]=e>>8&255,s[c++]=255&e);return s},e.fromByteArray=function(t){for(var e,n=t.length,o=n%3,i=[],a=0,s=n-o;a<s;a+=16383)i.push(f(t,a,a+16383>s?s:a+16383));1===o?(e=t[n-1],i.push(r[e>>2]+r[e<<4&63]+"==")):2===o&&(e=(t[n-2]<<8)+t[n-1],i.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"="));return i.join("")};for(var r=[],o=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,c=a.length;s<c;++s)r[s]=a[s],o[a.charCodeAt(s)]=s;function u(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function l(t){return r[t>>18&63]+r[t>>12&63]+r[t>>6&63]+r[63&t]}function f(t,e,n){for(var r,o=[],i=e;i<n;i+=3)r=(t[i]<<16&16711680)+(t[i+1]<<8&65280)+(255&t[i+2]),o.push(l(r));return o.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,n,r,o){var i,a,s=8*o-r-1,c=(1<<s)-1,u=c>>1,l=-7,f=n?o-1:0,h=n?-1:1,p=t[e+f];for(f+=h,i=p&(1<<-l)-1,p>>=-l,l+=s;l>0;i=256*i+t[e+f],f+=h,l-=8);for(a=i&(1<<-l)-1,i>>=-l,l+=r;l>0;a=256*a+t[e+f],f+=h,l-=8);if(0===i)i=1-u;else{if(i===c)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,r),i-=u}return(p?-1:1)*a*Math.pow(2,i-r)},e.write=function(t,e,n,r,o,i){var a,s,c,u=8*i-o-1,l=(1<<u)-1,f=l>>1,h=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:i-1,d=r?1:-1,y=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=l):(a=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-a))<1&&(a--,c*=2),(e+=a+f>=1?h/c:h*Math.pow(2,1-f))*c>=2&&(a++,c/=2),a+f>=l?(s=0,a=l):a+f>=1?(s=(e*c-1)*Math.pow(2,o),a+=f):(s=e*Math.pow(2,f-1)*Math.pow(2,o),a=0));o>=8;t[n+p]=255&s,p+=d,s/=256,o-=8);for(a=a<<o|s,u+=o;u>0;t[n+p]=255&a,p+=d,a/=256,u-=8);t[n+p-d]|=128*y}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e){t.exports=function(t,e,n){var r=t.byteLength;if(e=e||0,n=n||r,t.slice)return t.slice(e,n);if(e<0&&(e+=r),n<0&&(n+=r),n>r&&(n=r),e>=r||e>=n||0===r)return new ArrayBuffer(0);for(var o=new Uint8Array(t),i=new Uint8Array(n-e),a=e,s=0;a<n;a++,s++)i[s]=o[a];return i.buffer}},function(t,e){function n(){}t.exports=function(t,e,r){var o=!1;return r=r||n,i.count=t,0===t?e():i;function i(t,n){if(i.count<=0)throw new Error("after called too many times");--i.count,t?(o=!0,e(t),e=r):0!==i.count||o||e(null,n)}}},function(t,e,n){(function(t,r){var o;/*! https://mths.be/utf8js v2.1.2 by @mathias */!function(i){var a="object"==typeof e&&e,s=("object"==typeof t&&t&&t.exports,"object"==typeof r&&r);s.global!==s&&s.window;var c,u,l,f=String.fromCharCode;function h(t){for(var e,n,r=[],o=0,i=t.length;o<i;)(e=t.charCodeAt(o++))>=55296&&e<=56319&&o<i?56320==(64512&(n=t.charCodeAt(o++)))?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),o--):r.push(e);return r}function p(t,e){if(t>=55296&&t<=57343){if(e)throw Error("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function d(t,e){return f(t>>e&63|128)}function y(t,e){if(0==(4294967168&t))return f(t);var n="";return 0==(4294965248&t)?n=f(t>>6&31|192):0==(4294901760&t)?(p(t,e)||(t=65533),n=f(t>>12&15|224),n+=d(t,6)):0==(4292870144&t)&&(n=f(t>>18&7|240),n+=d(t,12),n+=d(t,6)),n+=f(63&t|128)}function m(){if(l>=u)throw Error("Invalid byte index");var t=255&c[l];if(l++,128==(192&t))return 63&t;throw Error("Invalid continuation byte")}function v(t){var e,n;if(l>u)throw Error("Invalid byte index");if(l==u)return!1;if(e=255&c[l],l++,0==(128&e))return e;if(192==(224&e)){if((n=(31&e)<<6|m())>=128)return n;throw Error("Invalid continuation byte")}if(224==(240&e)){if((n=(15&e)<<12|m()<<6|m())>=2048)return p(n,t)?n:65533;throw Error("Invalid continuation byte")}if(240==(248&e)&&(n=(7&e)<<18|m()<<12|m()<<6|m())>=65536&&n<=1114111)return n;throw Error("Invalid UTF-8 detected")}var g={version:"2.1.2",encode:function(t,e){for(var n=!1!==(e=e||{}).strict,r=h(t),o=r.length,i=-1,a="";++i<o;)a+=y(r[i],n);return a},decode:function(t,e){var n=!1!==(e=e||{}).strict;c=h(t),u=c.length,l=0;for(var r,o=[];!1!==(r=v(n));)o.push(r);return function(t){for(var e,n=t.length,r=-1,o="";++r<n;)(e=t[r])>65535&&(o+=f((e-=65536)>>>10&1023|55296),e=56320|1023&e),o+=f(e);return o}(o)}};void 0===(o=function(){return g}.call(e,n,e,t))||(t.exports=o)}()}).call(this,n(190)(t),n(12))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e){!function(){"use strict";for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=new Uint8Array(256),r=0;r<t.length;r++)n[t.charCodeAt(r)]=r;e.encode=function(e){var n,r=new Uint8Array(e),o=r.length,i="";for(n=0;n<o;n+=3)i+=t[r[n]>>2],i+=t[(3&r[n])<<4|r[n+1]>>4],i+=t[(15&r[n+1])<<2|r[n+2]>>6],i+=t[63&r[n+2]];return o%3==2?i=i.substring(0,i.length-1)+"=":o%3==1&&(i=i.substring(0,i.length-2)+"=="),i},e.decode=function(t){var e,r,o,i,a,s=.75*t.length,c=t.length,u=0;"="===t[t.length-1]&&(s--,"="===t[t.length-2]&&s--);var l=new ArrayBuffer(s),f=new Uint8Array(l);for(e=0;e<c;e+=4)r=n[t.charCodeAt(e)],o=n[t.charCodeAt(e+1)],i=n[t.charCodeAt(e+2)],a=n[t.charCodeAt(e+3)],f[u++]=r<<2|o>>4,f[u++]=(15&o)<<4|i>>2,f[u++]=(3&i)<<6|63&a;return l}}()},function(t,e,n){(function(e){var n=e.BlobBuilder||e.WebKitBlobBuilder||e.MSBlobBuilder||e.MozBlobBuilder,r=function(){try{return 2===new Blob(["hi"]).size}catch(t){return!1}}(),o=r&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(t){return!1}}(),i=n&&n.prototype.append&&n.prototype.getBlob;function a(t){for(var e=0;e<t.length;e++){var n=t[e];if(n.buffer instanceof ArrayBuffer){var r=n.buffer;if(n.byteLength!==r.byteLength){var o=new Uint8Array(n.byteLength);o.set(new Uint8Array(r,n.byteOffset,n.byteLength)),r=o.buffer}t[e]=r}}}function s(t,e){e=e||{};var r=new n;a(t);for(var o=0;o<t.length;o++)r.append(t[o]);return e.type?r.getBlob(e.type):r.getBlob()}function c(t,e){return a(t),new Blob(t,e||{})}t.exports=r?o?e.Blob:c:i?s:void 0}).call(this,n(12))},function(t,e,n){function r(t){var n;function r(){if(r.enabled){var t=r,o=+new Date,i=o-(n||o);t.diff=i,t.prev=n,t.curr=o,n=o;for(var a=new Array(arguments.length),s=0;s<a.length;s++)a[s]=arguments[s];a[0]=e.coerce(a[0]),"string"!=typeof a[0]&&a.unshift("%O");var c=0;a[0]=a[0].replace(/%([a-zA-Z%])/g,function(n,r){if("%%"===n)return n;c++;var o=e.formatters[r];if("function"==typeof o){var i=a[c];n=o.call(t,i),a.splice(c,1),c--}return n}),e.formatArgs.call(t,a),(r.log||e.log||console.log.bind(console)).apply(t,a)}}return r.namespace=t,r.enabled=e.enabled(t),r.useColors=e.useColors(),r.color=function(t){var n,r=0;for(n in t)r=(r<<5)-r+t.charCodeAt(n),r|=0;return e.colors[Math.abs(r)%e.colors.length]}(t),r.destroy=o,"function"==typeof e.init&&e.init(r),e.instances.push(r),r}function o(){var t=e.instances.indexOf(this);return-1!==t&&(e.instances.splice(t,1),!0)}(e=t.exports=r.debug=r.default=r).coerce=function(t){return t instanceof Error?t.stack||t.message:t},e.disable=function(){e.enable("")},e.enable=function(t){var n;e.save(t),e.names=[],e.skips=[];var r=("string"==typeof t?t:"").split(/[\s,]+/),o=r.length;for(n=0;n<o;n++)r[n]&&("-"===(t=r[n].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")));for(n=0;n<e.instances.length;n++){var i=e.instances[n];i.enabled=e.enabled(i.namespace)}},e.enabled=function(t){if("*"===t[t.length-1])return!0;var n,r;for(n=0,r=e.skips.length;n<r;n++)if(e.skips[n].test(t))return!1;for(n=0,r=e.names.length;n<r;n++)if(e.names[n].test(t))return!0;return!1},e.humanize=n(67),e.instances=[],e.names=[],e.skips=[],e.formatters={}},function(t,e,n){(function(e){var r=n(96),o=n(44);t.exports=u;var i,a=/\n/g,s=/\\n/g;function c(){}function u(t){r.call(this,t),this.query=this.query||{},i||(e.___eio||(e.___eio=[]),i=e.___eio),this.index=i.length;var n=this;i.push(function(t){n.onData(t)}),this.query.j=this.index,e.document&&e.addEventListener&&e.addEventListener("beforeunload",function(){n.script&&(n.script.onerror=c)},!1)}o(u,r),u.prototype.supportsBinary=!1,u.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),r.prototype.doClose.call(this)},u.prototype.doPoll=function(){var t=this,e=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),e.async=!0,e.src=this.uri(),e.onerror=function(e){t.onError("jsonp poll error",e)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(e,n):(document.head||document.body).appendChild(e),this.script=e,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){var t=document.createElement("iframe");document.body.appendChild(t),document.body.removeChild(t)},100)},u.prototype.doWrite=function(t,e){var n=this;if(!this.form){var r,o=document.createElement("form"),i=document.createElement("textarea"),c=this.iframeId="eio_iframe_"+this.index;o.className="socketio",o.style.position="absolute",o.style.top="-1000px",o.style.left="-1000px",o.target=c,o.method="POST",o.setAttribute("accept-charset","utf-8"),i.name="d",o.appendChild(i),document.body.appendChild(o),this.form=o,this.area=i}function u(){l(),e()}function l(){if(n.iframe)try{n.form.removeChild(n.iframe)}catch(t){n.onError("jsonp polling iframe removal error",t)}try{var t='<iframe src="javascript:0" name="'+n.iframeId+'">';r=document.createElement(t)}catch(t){(r=document.createElement("iframe")).name=n.iframeId,r.src="javascript:0"}r.id=n.iframeId,n.form.appendChild(r),n.iframe=r}this.form.action=this.uri(),l(),t=t.replace(s,"\\\n"),this.area.value=t.replace(a,"\\n");try{this.form.submit()}catch(t){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===n.iframe.readyState&&u()}:this.iframe.onload=u}}).call(this,n(12))},function(t,e,n){(function(e){var r,o=n(70),i=n(30),a=n(43),s=n(44),c=n(98),u=n(45)("engine.io-client:websocket"),l=e.WebSocket||e.MozWebSocket;if("undefined"==typeof window)try{r=n(196)}catch(t){}var f=l;function h(t){t&&t.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=t.perMessageDeflate,this.usingBrowserWebSocket=l&&!t.forceNode,this.protocols=t.protocols,this.usingBrowserWebSocket||(f=r),o.call(this,t)}f||"undefined"!=typeof window||(f=r),t.exports=h,s(h,o),h.prototype.name="websocket",h.prototype.supportsBinary=!0,h.prototype.doOpen=function(){if(this.check()){var t=this.uri(),e=this.protocols,n={agent:this.agent,perMessageDeflate:this.perMessageDeflate};n.pfx=this.pfx,n.key=this.key,n.passphrase=this.passphrase,n.cert=this.cert,n.ca=this.ca,n.ciphers=this.ciphers,n.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(n.headers=this.extraHeaders),this.localAddress&&(n.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket?e?new f(t,e):new f(t):new f(t,e,n)}catch(t){return this.emit("error",t)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},h.prototype.addEventListeners=function(){var t=this;this.ws.onopen=function(){t.onOpen()},this.ws.onclose=function(){t.onClose()},this.ws.onmessage=function(e){t.onData(e.data)},this.ws.onerror=function(e){t.onError("websocket error",e)}},h.prototype.write=function(t){var n=this;this.writable=!1;for(var r=t.length,o=0,a=r;o<a;o++)!function(t){i.encodePacket(t,n.supportsBinary,function(o){if(!n.usingBrowserWebSocket){var i={};if(t.options&&(i.compress=t.options.compress),n.perMessageDeflate)("string"==typeof o?e.Buffer.byteLength(o):o.length)<n.perMessageDeflate.threshold&&(i.compress=!1)}try{n.usingBrowserWebSocket?n.ws.send(o):n.ws.send(o,i)}catch(t){u("websocket closed before onclose event")}--r||s()})}(t[o]);function s(){n.emit("flush"),setTimeout(function(){n.writable=!0,n.emit("drain")},0)}},h.prototype.onClose=function(){o.prototype.onClose.call(this)},h.prototype.doClose=function(){void 0!==this.ws&&this.ws.close()},h.prototype.uri=function(){var t=this.query||{},e=this.secure?"wss":"ws",n="";return this.port&&("wss"===e&&443!==Number(this.port)||"ws"===e&&80!==Number(this.port))&&(n=":"+this.port),this.timestampRequests&&(t[this.timestampParam]=c()),this.supportsBinary||(t.b64=1),(t=a.encode(t)).length&&(t="?"+t),e+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+t},h.prototype.check=function(){return!(!f||"__initialize"in f&&this.name===h.prototype.name)}}).call(this,n(12))},function(t,e){},function(t,e){t.exports=function(t,e){for(var n=[],r=(e=e||0)||0;r<t.length;r++)n[r-e]=t[r];return n}},function(t,e){function n(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}t.exports=n,n.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=0==(1&Math.floor(10*e))?t-n:t+n}return 0|Math.min(t,this.max)},n.prototype.reset=function(){this.attempts=0},n.prototype.setMin=function(t){this.ms=t},n.prototype.setMax=function(t){this.max=t},n.prototype.setJitter=function(t){this.jitter=t}},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,s)}c((r=r.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(e,"__esModule",{value:!0});var a=n(1);n(200);var s=n(33),c=n(103),u=n(28),l=n(16),f=n(63),h=n(201),p=n(34),d=n(66),y=n(0),m=n(71),v=n(220),g=n(72),b=function(t){function e(e){var n=t.call(this,e)||this;return n.moreItem=["Album","Video","Draw","File"],n.isShowMore=!1,n.state={inputMsg:"",isVoiceMode:!1},n.handleInputChange=n.handleInputChange.bind(n),n.sendMsg=n.sendMsg.bind(n),n.handleKeyDown=n.handleKeyDown.bind(n),n.handleResFromNewMsg=n.handleResFromNewMsg.bind(n),n.handleMore=n.handleMore.bind(n),n.handldMsgAreaTouch=n.handldMsgAreaTouch.bind(n),n.handleMsgAreaHeight=n.handleMsgAreaHeight.bind(n),n.handleInputFocus=n.handleInputFocus.bind(n),n.handleVideoCall=n.handleVideoCall.bind(n),n.handleMoreClick=n.handleMoreClick.bind(n),n.getFileInput=n.getFileInput.bind(n),n.handleFileInputChange=n.handleFileInputChange.bind(n),n.getSendFileInput=n.getSendFileInput.bind(n),n.handleSendFile=n.handleSendFile.bind(n),n.imageSender=v.default.getInstance(),n.toggleInputMode=n.toggleInputMode.bind(n),n.startRecord=n.startRecord.bind(n),n.endRecord=n.endRecord.bind(n),n.cancelRecord=n.cancelRecord.bind(n),n}return r(e,t),e.prototype.componentDidUpdate=function(t){var e=this.props,n=e.currentUser,r=e.messages,o=t.currentUser,i=t.messages;o.id!==n.id&&this.initChat(),r.length!==i.length&&this.handleMsgAreaHeight()},e.prototype.handleMsgAreaHeight=function(){var t=this.msgArea.clientHeight,e=this.msgArea.scrollHeight;this.msgArea.scrollTop+t<e&&(this.msgArea.scrollTop=e-t)},e.prototype.componentDidMount=function(){var t=this.props,e=t.currentUser,n=t.match;this.id=n.params.id,this.msgAreaHeight=this.msgArea.clientHeight,d.disableOverBounce(this.msgArea),e.id&&this.initChat()},e.prototype.initChat=function(){var t=this,e=this.props,n=e.handleNewMsg,r=e.currentFriend,o=e.initMsgList,i=this.context.title;o(r.unreads||[]),i.innerText=r.username||r.email,l.net_setPoint({point:"/chat/"+this.id}).catch(function(){}),l.net_clearUnreadMsg({from:this.id}).catch(function(){}),this.socket=u.default.getInstance(l.socketUrl),this.socket.on("news",function(e){t.playNotify(),n(e)}),this.socket.subscribeMsgRes(this.handleResFromNewMsg)},e.prototype.handleResFromNewMsg=function(t,e){var n=this.props,r=n.updateMsg,o=n.messages;r(e,Object.assign({},o[e],{status:t?c.MsgStatus.success:c.MsgStatus.fail}))},e.prototype.componentWillUnmount=function(){this.socket&&(this.socket.cleanMsgResSubscribe(),this.socket.off("news"))},e.prototype.handleInputChange=function(t){var e=this,n=t.currentTarget,r=n.value;this.setState({inputMsg:r},function(){n.style.height="auto";var t=n.scrollHeight;t=t<100?t:100,n.style.height=t+"px",e.handleMsgAreaHeight()})},e.prototype.sendMsg=function(t,e){var n=this.props,r=n.currentUser,o=n.handleNewMsg,i=n.messages,a={msg:e,createAt:d.getUTCTimeStamp(),to:parseInt(this.id),from:r.id,type:c.MsgBelongType.myself,lx:t,status:c.MsgStatus.pedding};o(a),this.socket.sendMsg(a,i.length)},e.prototype.handleKeyDown=function(t){if(13===t.keyCode){t.preventDefault();var e=this.state.inputMsg;(e=e.trim())&&(this.sendMsg(c.MsgContentType.text,e),this.setState({inputMsg:""}),this.textarea.style.height="auto")}},e.prototype.handleMore=function(){this.isShowMore?(this.moreArea.style.height="0px",this.moreArea.style.borderTopWidth="0px"):(this.moreArea.style.height="230px",this.moreArea.style.borderTopWidth="1px",setTimeout(this.handleMsgAreaHeight,250)),this.isShowMore=!this.isShowMore},e.prototype.handldMsgAreaTouch=function(){this.isShowMore&&this.handleMore()},e.prototype.handleInputFocus=function(){this.handleMsgAreaHeight(),this.isShowMore&&this.handleMore()},e.prototype.handleVideoCall=function(t){var e=this.props,n=e.currentFriend;e.history.push("/video/"+n.id+"/"+t)},e.prototype.handleAlbum=function(){this.fileInput&&this.fileInput.click()},e.prototype.handleMoreClick=function(t){switch(t){case"Video":this.handleVideoCall(1);break;case"Album":this.handleAlbum();break;case"File":this.sendFileInput&&this.sendFileInput.click();break;default:return}},e.prototype.playNotify=function(){this.notify||(this.notify=m.default.getInstance()),this.notify.playMsgNotice()},e.prototype.handleFileInputChange=function(t){return o(this,void 0,void 0,function(){var e,n;return i(this,function(r){switch(r.label){case 0:return e=t.target.files[0],[4,this.imageSender.getSendData(e)];case 1:return(n=r.sent())&&this.sendMsg(c.MsgContentType.image,n),[2]}})})},e.prototype.getFileInput=function(t){t&&(this.fileInput=t)},e.prototype.handleSendFile=function(t){return o(this,void 0,void 0,function(){var e,n,r,o,a,s,u,l;return i(this,function(i){return e=t.target.files[0],n=e.name,r=e.size,o=e.type,a=this.props,s=a.currentFriend,u=a.currentUser,n&&r&&(l=JSON.stringify({name:n,size:r,type:o}),this.sendMsg(c.MsgContentType.file,l),g.default.getInstance(s.id,u.id).sendFile(e)),[2]})})},e.prototype.getSendFileInput=function(t){t&&(this.sendFileInput=t)},e.prototype.toggleInputMode=function(){!this.state.isVoiceMode&&this.isShowMore&&this.handleMore(),this.setState({isVoiceMode:!this.state.isVoiceMode})},e.prototype.startRecord=function(){console.log("start")},e.prototype.endRecord=function(){console.log("end")},e.prototype.cancelRecord=function(){console.log("cancel")},e.prototype.handleContext=function(t){return t.preventDefault(),!1},e.prototype.render=function(){var t=this,e=this.props,n=e.messages,r=(e.currentFriend,this.state.isVoiceMode),o=n.map(function(e,n){var r,o=t.props,i=o.currentFriend,s=o.currentUser;return r=e.type===c.MsgBelongType.myself?s.img:i.img,a.createElement(h.default,{msg:e,key:e.createAt,avator:r})});return a.createElement("div",{className:"chat-container"},a.createElement("div",{className:"chat-msg-area",ref:function(e){e&&(t.msgArea=e)},onTouchStart:this.handldMsgAreaTouch},o),a.createElement("div",null,a.createElement("div",{className:"chat-input-area"},a.createElement(p.default,{onClick:this.toggleInputMode,type:r?"mykeyboard":"myvoice",color:"#7f8389"}),r?a.createElement("a",{className:"chat-voice-input",onTouchStart:this.startRecord,onTouchEnd:this.endRecord,onTouchCancel:this.cancelRecord,onContextMenu:this.handleContext},"Hold to Talk"):a.createElement("div",{className:"chat-input-wrap"},a.createElement("textarea",{className:"chat-input",rows:1,ref:function(e){e&&(t.textarea=e)},value:this.state.inputMsg,onChange:this.handleInputChange,onKeyDown:this.handleKeyDown,onFocus:this.handleInputFocus})),a.createElement(p.default,{type:"myemoji",color:"#7f8389"}),a.createElement(p.default,{onClick:this.handleMore,type:"myadd",color:"#7f8389"})),a.createElement("div",{className:"chat-input-more-area",ref:function(e){e&&(t.moreArea=e)}},this.moreItem.map(function(e,n){return a.createElement("div",{key:e,onClick:function(){t.handleMoreClick(e)}},a.createElement("a",{className:"more-item"},a.createElement(p.default,{type:"chat"+e,color:"#6f7378"})),a.createElement("h5",{className:"more-item-text"},e))}))),a.createElement("input",{onChange:this.handleFileInputChange,className:"chat-file-input",type:"file",accept:"image/jpeg,image/gif,image/png",ref:this.getFileInput}),a.createElement("input",{onChange:this.handleSendFile,className:"chat-file-input",type:"file",ref:this.getSendFileInput}))},e.contextTypes={title:y.object},e}(a.Component);e.default=s.connect(function(t,e){var n=parseInt(e.match.params.id),r=t.friendList.filter(function(t,e){return t.id===n})[0]||{};return{messages:t.messages,currentFriend:r,currentUser:t.currentUser}},function(t){return{handleNewMsg:function(e){t(f.createNewMsgAction(e))},initMsgList:function(e){t(f.createInitMsgListAction(e))},updateMsg:function(e,n){t(f.updateMsgAction(e,n))}}})(b)},function(t,e,n){},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),i=n(103),a=n(65),s=n(202),c=n(204),u=n(211),l=n(212),f=n(74);n(218);var h=n(34);n(219);var p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.getMsgContent=function(t){var e=this.props.msg;switch(e.lx){case i.MsgContentType.text:return o.createElement(s.default,{text:e.msg,isMySelf:t});case i.MsgContentType.image:return o.createElement(c.default,{imageData:e.msg});case i.MsgContentType.audio:return o.createElement(u.default,null);case i.MsgContentType.file:return o.createElement(l.default,{fileinfo:e.msg,to:e.to,from:e.from,isMyself:t})}},e.prototype.render=function(){var t,e,n=this.props,r=n.msg,s=n.avator,c=!1;return r.type===i.MsgBelongType.myself?(t="msg-container-mine",e="msg-content-mine",c=!0):(t="msg-container-other",e="msg-content-other"),o.createElement("div",{className:"msg-container "+t},o.createElement(a.default,{className:"msg-avator-size",imgUrl:s}),o.createElement("div",{className:"msg-content-wrap "+e},this.getMsgContent(c),o.createElement("div",{className:"msg-status"},r.status===i.MsgStatus.pedding?o.createElement(f.default,{className:"msg-icon-fail",type:"loading",color:"#fff",size:"lg"}):null,r.status===i.MsgStatus.fail?o.createElement(h.default,{className:"msg-icon-fail",type:"msgFail"}):null)))},e}(o.Component);e.default=p},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(1);n(203);var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.render=function(){var t=this.props,e=(t.text,t.isMySelf);return o.createElement("div",{className:"text-msg-container "+(e?"":"text-msg-other")},this.props.text)},e}(o.Component);e.default=i},function(t,e,n){},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,s)}c((r=r.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(e,"__esModule",{value:!0});var a=n(1),s=n(205),c=n(46),u=n(104),l=n(66);n(41),n(210);var f=function(t){function e(e){var n=t.call(this,e)||this;n.isIos=l.isIos(),n.isFull=!1,n.handleImageClick=n.handleImageClick.bind(n),n.handleGetImageInfo=n.handleGetImageInfo.bind(n),n.chatWrap=document.querySelector(".chat-msg-area"),n.state={fullImageStyle:null};var r=n.props.imageData,o=new Blob([r],{type:"image/jpeg"});return n.imageUrl=window.URL.createObjectURL(o),n.JpegReader=new u.default,document.documentElement&&(n.screenHeight=document.documentElement.clientHeight,n.screenWidth=document.documentElement.clientWidth),n}return r(e,t),e.prototype.getImageSize=function(t){var e=0,n=0;if(this.screenWidth){var r=this.screenWidth,o=.421875*r,i=.178125*r;if(t.width>t.height){var a=o/t.width;e=o,(n=t.height*a)<i&&(n=i)}else{a=o/t.height;n=o,(e=t.width*a)<i&&(e=i)}}return{width:e,height:n}},e.prototype.getImageRotation=function(t){if(this.isIos)return 0;switch(t){case 8:return-90;case 3:return 180;case 6:return 90;default:return 0}},e.prototype.getFullImageStyle=function(t){var e={width:0,height:0,top:0,left:0};if(this.screenWidth){var n=this.screenWidth,r=this.screenHeight,o=n/r;if(t.width/t.height>o){var i=t.height*(n/t.width),a=(r-i)/2;this.imageWidth=n,this.imageHeight=i,this.imagePosx=0,this.imagePosy=a}else{var s=t.width*(r/t.height);a=(n-s)/2;this.imageHeight=r,this.imageWidth=s,this.imagePosx=a,this.imagePosy=0}e={width:this.imageWidth,height:this.imageHeight,top:this.imagePosy,left:this.imagePosx}}return e},e.prototype.getInitialImageStyle=function(t,e){var n="rotateZ("+t+"deg) scale(1)";return 90===t?n+=" translateY(-"+e.height+"px)":-90===t?n+=" translateX(-"+e.width+"px)":180===t&&(n+=" translate(-"+e.width+"px, -"+e.height+"px)"),n},e.prototype.getFullImageTransformStyle=function(t,e,n,r){var o="rotateZ("+this.rotateAngel+"deg) scale("+e+")";if(90===this.rotateAngel){var i=t.left+t.width;o+=" translate("+(t.top-n)/e+"px, -"+(i-r)/e+"px)"}else if(-90===this.rotateAngel){o+=" translate(-"+(t.top+t.height-n)/e+"px, "+(t.left-r)/e+"px)"}else if(180===this.rotateAngel){o+=" translate(-"+((i=t.left+t.width)-r)/e+"px, -"+(t.top+t.height-n)/e+"px)"}else o+=" translate("+(t.left-r)/e+"px, "+(t.top-n)/e+"px)";return o},e.prototype.handleGetImageInfo=function(t){return o(this,void 0,void 0,function(){var e,n,r,o,a,s;return i(this,function(i){switch(i.label){case 0:return e=t.currentTarget,n=this.props.imageData,this.JpegReader.initWithBuffer(n),[4,this.JpegReader.get_orientation()];case 1:return r=i.sent(),o={width:e.width,height:e.height},a=this.getImageSize(o),s=this.getImageRotation(r),this.rotateAngel=s,8===r||6===r?(this.imageWrap.style.width=a.height+"px",this.imageWrap.style.height=a.width+"px"):(this.imageWrap.style.width=a.width+"px",this.imageWrap.style.height=a.height+"px"),this.imageWrap.style.display="block",!this.isIos||8!==r&&6!==r?(this.showImageEl.style.width=a.width+"px",this.showImageEl.style.height=a.height+"px"):(this.showImageEl.style.width=a.height+"px",this.showImageEl.style.height=a.width+"px"),this.showImageEl.style.transform=this.getInitialImageStyle(s,a),[2]}})})},e.prototype.showFullImage=function(){var t=this.cq.getThemeColor(this.imageUrl);this.fullEle.style.backgroundColor=t,this.fullEle.style.pointerEvents="all",this.fullEle.style.display="block",this.imageWrap.style.pointerEvents="none";var e=this.imageWrap.getBoundingClientRect(),n=e.width,r=e.height,o=e.left,i=e.top,a={width:n,height:r},s=this.getFullImageStyle(a),c=s.width/n;this.showImageEl.style.position="fixed",this.showImageEl.style.top=i+"px",this.showImageEl.style.transform=this.getFullImageTransformStyle(s,c,i,o),this.chatWrap&&(this.chatWrap.style.overflowY="visible"),this.disappearTimer&&clearTimeout(this.disappearTimer),this.fullEle.style.opacity="1"},e.prototype.hideFullImage=function(){var t=this;this.fullEle.style.opacity="0",this.fullEle.style.pointerEvents="none";var e,n=this.imageWrap.getBoundingClientRect(),r=n.width,o=n.height;e=90===this.rotateAngel||-90===this.rotateAngel?{width:o,height:r}:{width:r,height:o},this.showImageEl.style.transform=this.getInitialImageStyle(this.rotateAngel,e),this.chatWrap&&(this.chatWrap.style.overflowY="scroll"),this.disappearTimer=setTimeout(function(){t.fullEle.style.display="none",t.showImageEl.style.position="static",t.imageWrap.style.pointerEvents="all",t.showImageEl.style.top="0px"},200)},e.prototype.handleImageClick=function(t){return o(this,void 0,void 0,function(){var t;return i(this,function(e){switch(e.label){case 0:if(this.isFull)return[3,7];if(this.cq)return[3,5];e.label=1;case 1:return e.trys.push([1,3,,4]),t=this,[4,s.default.getInstance()];case 2:return t.cq=e.sent(),this.showFullImage(),[3,4];case 3:return e.sent(),c.default.fail("Show image failed",2),[3,4];case 4:return[3,6];case 5:this.showFullImage(),e.label=6;case 6:return[3,8];case 7:this.hideFullImage(),e.label=8;case 8:return this.isFull=!this.isFull,[2]}})})},e.prototype.render=function(){var t=this;return a.createElement("div",null,a.createElement("div",{className:"image-view-wrap",ref:function(e){e&&(t.imageWrap=e)},onClick:this.handleImageClick},a.createElement("img",{className:"show-image-view",src:this.imageUrl,ref:function(e){e&&(t.showImageEl=e)},onLoad:this.handleGetImageInfo})),a.createElement("div",{ref:function(e){e&&(t.fullEle=e,t.fullEle.style.transform="scale("+screen.width+", "+screen.height+")")},className:"image-view-wrap-full",onClick:this.handleImageClick}))},e}(a.Component);e.default=f},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,s)}c((r=r.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(e,"__esModule",{value:!0});var i=n(206),a=function(){function t(){this.image=new Image,this.image.decoding="async"}return t.prototype.initWasm=function(){return r(this,void 0,void 0,function(){var t,e,r,a,s=this;return o(this,function(o){switch(o.label){case 0:return o.trys.push([0,5,,6]),[4,Promise.resolve().then(function(){return n(207)})];case 1:return t=o.sent(),[4,i.default("/wasm/ColorQuantizer.wasm")];case 2:return e=o.sent(),"function"!=typeof t?[3,4]:(r=t,[4,new Promise(function(t,n){var o={wasmBinary:e,onRuntimeInitialized:function(){t(!0)}};try{s.wasmObject=r(o)}catch(t){n(!1)}})]);case 3:return[2,!!o.sent()];case 4:return[3,6];case 5:return a=o.sent(),console.log(a),[2,!1];case 6:return[2,!1]}})})},t.prototype.getRgbData=function(t){this.image.src=t;var e=this.image,n=e.width,r=e.height,o=document.createElement("canvas"),i=o.getContext("2d");if(i){var a=100/n*r;return o.width=100,o.height=a,i.drawImage(this.image,0,0,n,r,0,0,100,a),i.getImageData(0,0,100,a)}},t.getInstance=function(){return r(this,void 0,void 0,function(){return o(this,function(e){switch(e.label){case 0:return this.inst?[3,2]:(this.inst=new t,[4,this.inst.initWasm()]);case 1:return e.sent(),[2,this.inst];case 2:return[2,this.inst]}})})},t.prototype.getThemeColor=function(t){var e=this.getRgbData(t),n="rgb(0, 0 ,0)";if(e&&this.wasmObject){var r=e.data,o=r.length*r.BYTES_PER_ELEMENT,i=this.wasmObject._malloc(o),a=new Uint8Array(this.wasmObject.HEAPU8.buffer,i,o);a.set(new Uint8Array(r.buffer));var s=this.wasmObject._getImageThemeColor(a.byteOffset,a.byteLength,8),c=new Uint8Array(this.wasmObject.HEAPU8.buffer,s,3);n="rgb("+c[0]+", "+c[1]+", "+c[2]+")",this.wasmObject._free(i),this.wasmObject._free(s)}return n},t}();e.default=a},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,s)}c((r=r.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return fetch(t).then(function(t){return t.arrayBuffer()}).catch(function(t){return Promise.reject(t)})},e.initWasm=function(t){return r(this,void 0,void 0,function(){return o(this,function(t){return[2]})})}},function(t,e,n){(function(e,r){var o=function(){"undefined"!=typeof document&&document.currentScript&&document.currentScript.src;return function(t){var o;t=t||{},o||(o=void 0!==t?t:{});var i,a={};for(i in o)o.hasOwnProperty(i)&&(a[i]=o[i]);o.arguments=[],o.thisProgram="./this.program",o.quit=function(t,e){throw e},o.preRun=[],o.postRun=[];var s,c,u="";function l(t){return o.locateFile?o.locateFile(t,u):u+t}u=e+"/",o.read=function(t,e){return s||(s=n(208)),c||(c=n(209)),t=c.normalize(t),t=s.readFileSync(t),e?t:t.toString()},o.readBinary=function(t){return(t=o.read(t,!0)).buffer||(t=new Uint8Array(t)),m(t.buffer),t},1<r.argv.length&&(o.thisProgram=r.argv[1].replace(/\\/g,"/")),o.arguments=r.argv.slice(2),r.on("uncaughtException",function(t){if(!(t instanceof xt))throw t}),r.on("unhandledRejection",Tt),o.quit=function(t){r.exit(t)},o.inspect=function(){return"[Emscripten Module object]"};var f=o.print||("undefined"!=typeof console?console.log.bind(console):"undefined"!=typeof print?print:null),h=o.printErr||("undefined"!=typeof printErr?printErr:"undefined"!=typeof console&&console.warn.bind(console)||f);for(i in a)a.hasOwnProperty(i)&&(o[i]=a[i]);function p(t){var e;return e||(e=16),Math.ceil(t/e)*e}a=void 0;var d={"f64-rem":function(t,e){return t%e},debugger:function(){}},y=!1;function m(t,e){t||Tt("Assertion failed: "+e)}function v(t){var e=o["_"+t];return m(e,"Cannot call unknown function "+t+", make sure it is exported"),e}var g={stackSave:function(){kt()},stackRestore:function(){St()},arrayToC:function(t){var e=_t(t.length);return C.set(t,e),e},stringToC:function(t){var e=0;if(null!==t&&void 0!==t&&0!==t){var n=1+(t.length<<2);I(t,e=_t(n),n)}return e}},b={string:g.stringToC,array:g.arrayToC};var w,C,E,A,_,S,k,x,O,T,P,M,F,N,R="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function j(t,e){for(var n=e;t[n];)++n;if(16<n-e&&t.subarray&&R)return R.decode(t.subarray(e,n));for(n="";;){var r=t[e++];if(!r)return n;if(128&r){var o=63&t[e++];if(192==(224&r))n+=String.fromCharCode((31&r)<<6|o);else{var i=63&t[e++];if(224==(240&r))r=(15&r)<<12|o<<6|i;else{var a=63&t[e++];if(240==(248&r))r=(7&r)<<18|o<<12|i<<6|a;else{var s=63&t[e++];if(248==(252&r))r=(3&r)<<24|o<<18|i<<12|a<<6|s;else r=(1&r)<<30|o<<24|i<<18|a<<12|s<<6|63&t[e++]}}65536>r?n+=String.fromCharCode(r):(r-=65536,n+=String.fromCharCode(55296|r>>10,56320|1023&r))}}else n+=String.fromCharCode(r)}}function B(t){return j(E,t)}function I(t,e,n){var r=E;if(0<n){n=e+n-1;for(var o=0;o<t.length;++o){var i=t.charCodeAt(o);if(55296<=i&&57343>=i)i=65536+((1023&i)<<10)|1023&t.charCodeAt(++o);if(127>=i){if(e>=n)break;r[e++]=i}else{if(2047>=i){if(e+1>=n)break;r[e++]=192|i>>6}else{if(65535>=i){if(e+2>=n)break;r[e++]=224|i>>12}else{if(2097151>=i){if(e+3>=n)break;r[e++]=240|i>>18}else{if(67108863>=i){if(e+4>=n)break;r[e++]=248|i>>24}else{if(e+5>=n)break;r[e++]=252|i>>30,r[e++]=128|i>>24&63}r[e++]=128|i>>18&63}r[e++]=128|i>>12&63}r[e++]=128|i>>6&63}r[e++]=128|63&i}}r[e]=0}}function L(t,e){return 0<t%e&&(t+=e-t%e),t}function D(){o.HEAP8=C=new Int8Array(w),o.HEAP16=A=new Int16Array(w),o.HEAP32=S=new Int32Array(w),o.HEAPU8=E=new Uint8Array(w),o.HEAPU16=_=new Uint16Array(w),o.HEAPU32=k=new Uint32Array(w),o.HEAPF32=x=new Float32Array(w),o.HEAPF64=O=new Float64Array(w)}"undefined"!=typeof TextDecoder&&new TextDecoder("utf-16le"),P=M=0,o.reallocBuffer||(o.reallocBuffer=function(t){try{var e=C,n=new ArrayBuffer(t);new Int8Array(n).set(e)}catch(t){return!1}return!!Ct(n)&&n});try{Function.prototype.call.bind(Object.getOwnPropertyDescriptor(ArrayBuffer.prototype,"byteLength").get)(new ArrayBuffer(4))}catch(t){(function(t){return t.byteLength})}var U=o.TOTAL_STACK||5242880,z=o.TOTAL_MEMORY||16777216;function W(t){for(;0<t.length;){var e=t.shift();if("function"==typeof e)e();else{var n=e.l;"number"==typeof n?void 0===e.b?o.dynCall_v(n):o.dynCall_vi(n,e.b):n(void 0===e.b?null:e.b)}}}z<U&&h("TOTAL_MEMORY should be larger than TOTAL_STACK, was "+z+"! (TOTAL_STACK="+U+")"),o.buffer?w=o.buffer:("object"==typeof WebAssembly&&"function"==typeof WebAssembly.Memory?(o.wasmMemory=new WebAssembly.Memory({initial:z/65536}),w=o.wasmMemory.buffer):w=new ArrayBuffer(z),o.buffer=w),D();var V=[],q=[],H=[],Y=[],G=[],K=!1;function J(){var t=o.preRun.shift();V.unshift(t)}var X=0,Q=null,Z=null;function $(t){return String.prototype.startsWith?t.startsWith("data:application/octet-stream;base64,"):0===t.indexOf("data:application/octet-stream;base64,")}o.preloadedImages={},o.preloadedAudios={},function(){function t(t){function e(t){if((a=t.exports).memory){t=a.memory;var e=o.buffer;t.byteLength<e.byteLength&&h("the new buffer in mergeMemory is smaller than the previous one. in native wasm, we should grow memory here"),e=new Int8Array(e),new Int8Array(t).set(e),o.buffer=w=t,D()}o.asm=a,o.usingWasm=!0,X--,o.monitorRunDependencies&&o.monitorRunDependencies(X),0==X&&(null!==Q&&(clearInterval(Q),Q=null),Z&&(t=Z,Z=null,t()))}function r(t){e(t.instance)}function s(t){new Promise(function(t){t:{try{if(o.wasmBinary){var e=new Uint8Array(o.wasmBinary);break t}if(o.readBinary){e=o.readBinary(n);break t}throw"both async and sync fetching of the wasm failed"}catch(t){Tt(t)}e=void 0}t(e)}).then(function(t){return WebAssembly.instantiate(t,i)}).then(t,function(t){h("failed to asynchronously prepare wasm: "+t),Tt(t)})}if("object"!=typeof WebAssembly)return h("no native wasm support detected"),!1;if(!(o.wasmMemory instanceof WebAssembly.Memory))return h("no native wasm Memory in use"),!1;if(t.memory=o.wasmMemory,i.global={NaN:NaN,Infinity:1/0},i["global.Math"]=Math,i.env=t,X++,o.monitorRunDependencies&&o.monitorRunDependencies(X),o.instantiateWasm)try{return o.instantiateWasm(i,e)}catch(t){return h("Module.instantiateWasm callback failed with error: "+t),!1}return o.wasmBinary||"function"!=typeof WebAssembly.instantiateStreaming||$(n)||"function"!=typeof fetch?s(r):WebAssembly.instantiateStreaming(fetch(n,{credentials:"same-origin"}),i).then(r,function(t){h("wasm streaming compile failed: "+t),h("falling back to ArrayBuffer instantiation"),s(r)}),{}}var e="ColorQuantizer.wast",n="ColorQuantizer.wasm",r="ColorQuantizer.temp.asm.js";$(e)||(e=l(e)),$(n)||(n=l(n)),$(r)||(r=l(r));var i={global:null,env:null,asm2wasm:d,parent:o},a=null;o.asmPreload=o.asm;var s=o.reallocBuffer;o.reallocBuffer=function(t){if("asmjs"===c)var e=s(t);else t:{t=L(t,o.usingWasm?65536:16777216);var n=o.buffer.byteLength;if(o.usingWasm)try{e=-1!==o.wasmMemory.grow((t-n)/65536)?o.buffer=o.wasmMemory.buffer:null;break t}catch(t){e=null;break t}e=void 0}return e};var c="";o.asm=function(e,n){if(!n.table){void 0===(e=o.wasmTableSize)&&(e=1024);var r=o.wasmMaxTableSize;n.table="object"==typeof WebAssembly&&"function"==typeof WebAssembly.Table?void 0!==r?new WebAssembly.Table({initial:e,maximum:r,element:"anyfunc"}):new WebAssembly.Table({initial:e,element:"anyfunc"}):Array(e),o.wasmTable=n.table}return n.memoryBase||(n.memoryBase=o.STATIC_BASE),n.tableBase||(n.tableBase=0),m(n=t(n),"no binaryen method succeeded."),n}}(),T=1024,P=6848,q.push({l:function(){wt()}}),o.STATIC_BASE=T,o.STATIC_BUMP=5824,P+=16;var tt=0;function et(){return S[(tt+=4)-4>>2]}var nt={};function rt(t){switch(t){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+t)}}var ot=void 0;function it(t){for(var e="";E[t];)e+=ot[E[t++]];return e}var at={},st={},ct={};function ut(t){var e=Error,n=function(t,e){if(void 0===t)t="_unknown";else{var n=(t=t.replace(/[^a-zA-Z0-9_]/g,"$")).charCodeAt(0);t=48<=n&&57>=n?"_"+t:t}return new Function("body","return function "+t+'() {\n    "use strict";    return body.apply(this, arguments);\n};\n')(e)}(t,function(e){this.name=t,this.message=e,void 0!==(e=Error(e).stack)&&(this.stack=this.toString()+"\n"+e.replace(/^Error(:[^\n]*)?\n/,""))});return n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.prototype.toString=function(){return void 0===this.message?this.name:this.name+": "+this.message},n}var lt=void 0;function ft(t){throw new lt(t)}function ht(t,e,n){if(n=n||{},!("argPackAdvance"in e))throw new TypeError("registerType registeredInstance requires argPackAdvance");var r=e.name;if(t||ft('type "'+r+'" must have a positive integer typeid pointer'),st.hasOwnProperty(t)){if(n.s)return;ft("Cannot register type '"+r+"' twice")}st[t]=e,delete ct[t],at.hasOwnProperty(t)&&(e=at[t],delete at[t],e.forEach(function(t){t()}))}var pt=[],dt=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function yt(t){return this.fromWireType(k[t>>2])}function mt(t){if(null===t)return"null";var e=typeof t;return"object"===e||"array"===e||"function"===e?t.toString():""+t}for(var vt=Array(256),gt=0;256>gt;++gt)vt[gt]=String.fromCharCode(gt);ot=vt,lt=o.BindingError=ut("BindingError"),o.InternalError=ut("InternalError"),o.count_emval_handles=function(){for(var t=0,e=5;e<dt.length;++e)void 0!==dt[e]&&++t;return t},o.get_first_emval=function(){for(var t=5;t<dt.length;++t)if(void 0!==dt[t])return dt[t];return null},N=P,F=p((M=p(P=P+4+15&-16))+U),S[N>>2]=F,o.wasmTableSize=30,o.wasmMaxTableSize=30,o.h={},o.i={abort:Tt,enlargeMemory:function(){var t=o.usingWasm?65536:16777216,e=2147483648-t;if(S[N>>2]>e)return!1;var n=z;for(z=Math.max(z,16777216);z<S[N>>2];)z=536870912>=z?L(2*z,t):Math.min(L((3*z+2147483648)/4,t),e);return(t=o.reallocBuffer(z))&&t.byteLength==z?(o.buffer=w=t,D(),!0):(z=n,!1)},getTotalMemory:function(){return z},abortOnCannotGrowMemory:function(){Tt("Cannot enlarge memory arrays. Either (1) compile with  -s TOTAL_MEMORY=X  with X higher than the current value "+z+", (2) compile with  -s ALLOW_MEMORY_GROWTH=1  which allows increasing the size at runtime, or (3) if you want malloc to return NULL (0) instead of this abort, compile with  -s ABORTING_MALLOC=0 ")},___setErrNo:function(t){return o.___errno_location&&(S[o.___errno_location()>>2]=t),t},___syscall140:function(t,e){tt=e;try{var n=nt.m();et();var r=et(),o=et(),i=et();return FS.w(n,r,i),S[o>>2]=n.position,n.o&&0===r&&0===i&&(n.o=null),0}catch(t){return"undefined"!=typeof FS&&t instanceof FS.c||Tt(t),-t.g}},___syscall146:function t(e,n){tt=n;try{var r=et(),o=et(),i=et();for(e=0,t.f||(t.f=[null,[],[]],t.j=function(e,n){var r=t.f[e];m(r),0===n||10===n?((1===e?f:h)(j(r,0)),r.length=0):r.push(n)}),n=0;n<i;n++){for(var a=S[o+8*n>>2],s=S[o+(8*n+4)>>2],c=0;c<s;c++)t.j(r,E[a+c]);e+=s}return e}catch(t){return"undefined"!=typeof FS&&t instanceof FS.c||Tt(t),-t.g}},___syscall6:function(t,e){tt=e;try{var n=nt.m();return FS.close(n),0}catch(t){return"undefined"!=typeof FS&&t instanceof FS.c||Tt(t),-t.g}},__embind_register_bool:function(t,e,n,r,o){var i=rt(n);ht(t,{name:e=it(e),fromWireType:function(t){return!!t},toWireType:function(t,e){return e?r:o},argPackAdvance:8,readValueFromPointer:function(t){if(1===n)var r=C;else if(2===n)r=A;else{if(4!==n)throw new TypeError("Unknown boolean type size: "+e);r=S}return this.fromWireType(r[t>>i])},a:null})},__embind_register_emval:function(t,e){ht(t,{name:e=it(e),fromWireType:function(t){var e=dt[t].value;return 4<t&&0==--dt[t].u&&(dt[t]=void 0,pt.push(t)),e},toWireType:function(t,e){return function(t){switch(t){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:var e=pt.length?pt.pop():dt.length;return dt[e]={u:1,value:t},e}}(e)},argPackAdvance:8,readValueFromPointer:yt,a:null})},__embind_register_float:function(t,e,n){n=rt(n),ht(t,{name:e=it(e),fromWireType:function(t){return t},toWireType:function(t,e){if("number"!=typeof e&&"boolean"!=typeof e)throw new TypeError('Cannot convert "'+mt(e)+'" to '+this.name);return e},argPackAdvance:8,readValueFromPointer:function(t,e){switch(e){case 2:return function(t){return this.fromWireType(x[t>>2])};case 3:return function(t){return this.fromWireType(O[t>>3])};default:throw new TypeError("Unknown float type: "+t)}}(e,n),a:null})},__embind_register_integer:function(t,e,n,r,o){function i(t){return t}e=it(e),-1===o&&(o=4294967295);var a=rt(n);if(0===r){var s=32-8*n;i=function(t){return t<<s>>>s}}var c=-1!=e.indexOf("unsigned");ht(t,{name:e,fromWireType:i,toWireType:function(t,n){if("number"!=typeof n&&"boolean"!=typeof n)throw new TypeError('Cannot convert "'+mt(n)+'" to '+this.name);if(n<r||n>o)throw new TypeError('Passing a number "'+mt(n)+'" from JS side to C/C++ side to an argument of type "'+e+'", which is outside the valid range ['+r+", "+o+"]!");return c?n>>>0:0|n},argPackAdvance:8,readValueFromPointer:function(t,e,n){switch(e){case 0:return n?function(t){return C[t]}:function(t){return E[t]};case 1:return n?function(t){return A[t>>1]}:function(t){return _[t>>1]};case 2:return n?function(t){return S[t>>2]}:function(t){return k[t>>2]};default:throw new TypeError("Unknown integer type: "+t)}}(e,a,0!==r),a:null})},__embind_register_memory_view:function(t,e,n){function r(t){t>>=2;var e=k;return new o(e.buffer,e[t+1],e[t])}var o=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][e];ht(t,{name:n=it(n),fromWireType:r,argPackAdvance:8,readValueFromPointer:r},{s:!0})},__embind_register_std_string:function(t,e){var n="std::string"===(e=it(e));ht(t,{name:e,fromWireType:function(t){var e=k[t>>2];if(n){var r=E[t+4+e],o=0;0!=r&&(o=r,E[t+4+e]=0);var i=t+4;for(r=0;r<=e;++r){var a=t+4+r;if(0==E[a]){if(i=B(i),void 0===s)var s=i;else s+=String.fromCharCode(0),s+=i;i=a+1}}0!=o&&(E[t+4+e]=o)}else{for(s=Array(e),r=0;r<e;++r)s[r]=String.fromCharCode(E[t+4+r]);s=s.join("")}return Et(t),s},toWireType:function(t,e){e instanceof ArrayBuffer&&(e=new Uint8Array(e));var r="string"==typeof e;r||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int8Array||ft("Cannot pass non-string to std::string");var o=(n&&r?function(){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);55296<=r&&57343>=r&&(r=65536+((1023&r)<<10)|1023&e.charCodeAt(++n)),127>=r?++t:t=2047>=r?t+2:65535>=r?t+3:2097151>=r?t+4:67108863>=r?t+5:t+6}return t}:function(){return e.length})(),i=At(4+o+1);if(k[i>>2]=o,n&&r)I(e,i+4,o+1);else if(r)for(r=0;r<o;++r){var a=e.charCodeAt(r);255<a&&(Et(i),ft("String has UTF-16 code units that do not fit in 8 bits")),E[i+4+r]=a}else for(r=0;r<o;++r)E[i+4+r]=e[r];return null!==t&&t.push(Et,i),i},argPackAdvance:8,readValueFromPointer:yt,a:function(t){Et(t)}})},__embind_register_std_wstring:function(t,e,n){if(n=it(n),2===e)var r=function(){return _},o=1;else 4===e&&(r=function(){return k},o=2);ht(t,{name:n,fromWireType:function(t){for(var e=r(),n=k[t>>2],i=Array(n),a=t+4>>o,s=0;s<n;++s)i[s]=String.fromCharCode(e[a+s]);return Et(t),i.join("")},toWireType:function(t,n){var i=r(),a=n.length,s=At(4+a*e);k[s>>2]=a;for(var c=s+4>>o,u=0;u<a;++u)i[c+u]=n.charCodeAt(u);return null!==t&&t.push(Et,s),s},argPackAdvance:8,readValueFromPointer:yt,a:function(t){Et(t)}})},__embind_register_void:function(t,e){ht(t,{v:!0,name:e=it(e),argPackAdvance:0,fromWireType:function(){},toWireType:function(){}})},_emscripten_memcpy_big:function(t,e,n){return E.set(E.subarray(e,e+n),t),t},_exit:function(t){!o.noExitRuntime&&(y=!0,M=void 0,W(Y),o.onExit)&&o.onExit(t),o.quit(t,new xt(t))},DYNAMICTOP_PTR:N,STACKTOP:M};var bt=o.asm(o.h,o.i,w);o.asm=bt;var wt=o.__GLOBAL__sub_I_bind_cpp=function(){return o.asm.__GLOBAL__sub_I_bind_cpp.apply(null,arguments)};o.___getTypeName=function(){return o.asm.___getTypeName.apply(null,arguments)};var Ct=o._emscripten_replace_memory=function(){return o.asm._emscripten_replace_memory.apply(null,arguments)},Et=o._free=function(){return o.asm._free.apply(null,arguments)};o._getImageThemeColor=function(){return o.asm._getImageThemeColor.apply(null,arguments)};var At=o._malloc=function(){return o.asm._malloc.apply(null,arguments)},_t=o.stackAlloc=function(){return o.asm.stackAlloc.apply(null,arguments)},St=o.stackRestore=function(){return o.asm.stackRestore.apply(null,arguments)},kt=o.stackSave=function(){return o.asm.stackSave.apply(null,arguments)};function xt(t){this.name="ExitStatus",this.message="Program terminated with exit("+t+")",this.status=t}function Ot(){function t(){if(!o.calledRun&&(o.calledRun=!0,!y)){if(K||(K=!0,W(q)),W(H),o.onRuntimeInitialized&&o.onRuntimeInitialized(),o.postRun)for("function"==typeof o.postRun&&(o.postRun=[o.postRun]);o.postRun.length;){var t=o.postRun.shift();G.unshift(t)}W(G)}}if(!(0<X)){if(o.preRun)for("function"==typeof o.preRun&&(o.preRun=[o.preRun]);o.preRun.length;)J();W(V),0<X||o.calledRun||(o.setStatus?(o.setStatus("Running..."),setTimeout(function(){setTimeout(function(){o.setStatus("")},1),t()},1)):t())}}function Tt(t){throw o.onAbort&&o.onAbort(t),void 0!==t?(f(t),h(t),t=JSON.stringify(t)):t="",y=!0,"abort("+t+"). Build with -s ASSERTIONS=1 for more info."}if(o.dynCall_vi=function(){return o.asm.dynCall_vi.apply(null,arguments)},o.asm=bt,o.cwrap=function(t,e,n,r){var o=(n=n||[]).every(function(t){return"number"===t});return"string"!==e&&o&&!r?v(t):function(){var r=n,o=arguments,i=v(t),a=[],s=0;if(o)for(var c=0;c<o.length;c++){var u=b[r[c]];u?(0===s&&(s=kt()),a[c]=u(o[c])):a[c]=o[c]}return r=i.apply(null,a),r="string"===e?function(t){var e;if(0===e||!t)return"";for(var n,r=0,o=0;r|=n=E[t+o>>0],(0!=n||e)&&(o++,!e||o!=e););if(e||(e=o),n="",128>r){for(;0<e;)r=String.fromCharCode.apply(String,E.subarray(t,t+Math.min(e,1024))),n=n?n+r:r,t+=1024,e-=1024;return n}return B(t)}(r):"boolean"===e?!!r:r,0!==s&&St(s),r}},o.UTF8ToString=B,o.then=function(t){if(o.calledRun)t(o);else{var e=o.onRuntimeInitialized;o.onRuntimeInitialized=function(){e&&e(),t(o)}}return o},xt.prototype=Error(),xt.prototype.constructor=xt,Z=function t(){o.calledRun||Ot(),o.calledRun||(Z=t)},o.run=Ot,o.abort=Tt,o.preInit)for("function"==typeof o.preInit&&(o.preInit=[o.preInit]);0<o.preInit.length;)o.preInit.pop()();return o.noExitRuntime=!0,Ot(),t}}();t.exports=o}).call(this,"/",n(27))},function(t,e){},function(t,e,n){(function(t){function n(t,e){for(var n=0,r=t.length-1;r>=0;r--){var o=t[r];"."===o?t.splice(r,1):".."===o?(t.splice(r,1),n++):n&&(t.splice(r,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}var r=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,o=function(t){return r.exec(t).slice(1)};function i(t,e){if(t.filter)return t.filter(e);for(var n=[],r=0;r<t.length;r++)e(t[r],r,t)&&n.push(t[r]);return n}e.resolve=function(){for(var e="",r=!1,o=arguments.length-1;o>=-1&&!r;o--){var a=o>=0?arguments[o]:t.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(e=a+"/"+e,r="/"===a.charAt(0))}return e=n(i(e.split("/"),function(t){return!!t}),!r).join("/"),(r?"/":"")+e||"."},e.normalize=function(t){var r=e.isAbsolute(t),o="/"===a(t,-1);return(t=n(i(t.split("/"),function(t){return!!t}),!r).join("/"))||r||(t="."),t&&o&&(t+="/"),(r?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(i(t,function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},e.relative=function(t,n){function r(t){for(var e=0;e<t.length&&""===t[e];e++);for(var n=t.length-1;n>=0&&""===t[n];n--);return e>n?[]:t.slice(e,n-e+1)}t=e.resolve(t).substr(1),n=e.resolve(n).substr(1);for(var o=r(t.split("/")),i=r(n.split("/")),a=Math.min(o.length,i.length),s=a,c=0;c<a;c++)if(o[c]!==i[c]){s=c;break}var u=[];for(c=s;c<o.length;c++)u.push("..");return(u=u.concat(i.slice(s))).join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){var e=o(t),n=e[0],r=e[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},e.basename=function(t,e){var n=o(t)[2];return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},e.extname=function(t){return o(t)[3]};var a="b"==="ab".substr(-1)?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return e<0&&(e=t.length+e),t.substr(e,n)}}).call(this,n(27))},function(t,e,n){},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.render=function(){return o.createElement("div",null,"audio")},e}(o.Component);e.default=i},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o,i=n(1),a=n(72),s=n(214),c=n(34);n(217),function(t){t[t.WAIT=0]="WAIT",t[t.PROCESSING=1]="PROCESSING",t[t.DONE=2]="DONE",t[t.FAIL=3]="FAIL"}(o||(o={}));var u=function(t){function e(e){var n=t.call(this,e)||this;return n.onSendProcess=n.onSendProcess.bind(n),n.state={status:o.WAIT,progress:0},n}return r(e,t),e.prototype.componentDidMount=function(){var t=this.props,e=t.to,n=t.from,r=t.fileinfo;t.isMyself?(this.fileSender=a.default.getInstance(e,n),!this.fileSender.isSending&&this.fileSender.isChannelOpen&&this.setState({status:o.DONE})):(this.fileSender=a.default.getInstance(n,e),!this.fileSender.isReceiving&&this.fileSender.isChannelOpen&&this.setState({status:o.DONE}));var i=JSON.parse(r).name;this.fileSender.onProcessing(""+e+n+i,this.onSendProcess)},e.prototype.componentWillUnmount=function(){var t=this.props,e=t.to,n=t.from,r=t.fileinfo,o=t.isMyself;this.fileSender=o?a.default.getInstance(e,n):a.default.getInstance(n,e);var i=JSON.parse(r).name;this.fileSender.offProcessing(""+e+n+i)},e.prototype.onSendProcess=function(t){var e=this.props.fileinfo;t===JSON.parse(e).size?this.setState({progress:t,status:o.DONE}):0===t?this.setState({status:o.FAIL}):this.setState({progress:t,status:o.PROCESSING})},e.prototype.displaySize=function(t){return t<1024?t+" B":t<1048576?(t/1024).toFixed(2)+" KB":t<1073741824?(t/1048576).toFixed(2)+" MB":(t/1073741824).toFixed(2)+" GB"},e.prototype.renderStatus=function(t){var e=this.state,n=e.status,r=e.progress;switch(n){case o.WAIT:case o.PROCESSING:return i.createElement(s.default,{max:t,value:n===o.PROCESSING?r:void 0});case o.DONE:return null;case o.FAIL:return i.createElement("p",{className:"file-send-fail"},"Failed")}},e.prototype.render=function(){var t=this.props.fileinfo;try{var e=JSON.parse(t),n=e.name,r=e.size;return i.createElement("div",null,i.createElement("div",{className:"file-msg-wrap"},i.createElement(c.default,{color:"#6f7378",width:70,height:70,className:"file-msg-icon",type:"chatFile"}),i.createElement("span",{className:"file-msg-name"},n),i.createElement("i",{className:"file-msg-size"},this.displaySize(r))),i.createElement("div",{className:"file-status"},this.renderStatus(r)))}catch(t){return null}},e}(i.Component);e.default=u},function(t,e,n){},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(1);n(215);var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.render=function(){var t=this,e=this.props,n=e.value,r=e.className,i=e.max,a=n?this.width*(n/i):0;return o.createElement("div",{ref:function(e){e&&(t.width=e.clientWidth)},className:"progress-wrapper "+(r||"")+" "+(n?"":"progress-waiting")},o.createElement("div",{className:"progress-inner",style:{transform:"scaleX("+a+")"}}))},e}(o.Component);e.default=i},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,s)}c((r=r.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},i=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},a=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(i(arguments[e]));return t};Object.defineProperty(e,"__esModule",{value:!0});var s=n(104),c=function(){function t(){}return t.getInstance=function(){return this.inst||(this.inst=new t),this.inst},t.prototype.readFile=function(t){return new Promise(function(e,n){var r=new FileReader;r.addEventListener("load",function(t){var n=t.target.result;e(n)}),r.addEventListener("error",function(){n()}),r.readAsArrayBuffer(t)})},t.prototype.getImage=function(t,e){var n=new Blob([t],{type:e}),r=window.URL.createObjectURL(n),o=new Image;return new Promise(function(t,e){o.onload=function(){t(o)},o.onerror=function(){e()},o.src=r})},t.prototype.getDimssion=function(t){var e=t.width,n=t.height,r=0,o=0;if(e>=n){var i=1080/n;(a=1920/e)>=1&&i>=1?(r=e,o=n):a<=i?(r=1920,o=a*n):i<a&&(o=1080,r=i*e)}else{var a;i=1080/e;(a=1920/n)>=1&&i>=1?(r=e,o=n):a>=i?(o=1920,r=a*e):(r=1080,o=n*i)}return{width:r,height:o}},t.prototype.getOriginalData=function(t,e){var n=t.width,r=t.height,o=e.width,i=e.height,a=document.createElement("canvas"),s=a.getContext("2d");return a.width=o,a.height=i,s?(a.width=o,a.height=i,s.drawImage(t,0,0,n,r,0,0,o,i),new Promise(function(t,e){a.toBlob(function(n){if(n){var r=new FileReader;r.onload=function(e){t(e.target.result)},r.onerror=function(t){e(t)},r.readAsArrayBuffer(n)}else e("get blob failed")},"image/jpeg",.75)})):Promise.reject("No ctx")},t.prototype.InsertExif=function(t,e){for(var n=("FF D8 FF E1 00 22 45 78 69 66 00 00 49 49 2A 00 08 00 00 00 01 00 12 01 03 00 01 00 00 00 "+t+" 00 00 00 00 00 00 00").split(" "),r=new ArrayBuffer(n.length),o=new Uint8Array(r),i=0;i<o.length;i++)o[i]=parseInt(n[i],16);var s=new Uint8Array(e,2);return new Uint8Array(a(o,s)).buffer},t.prototype.isPng=function(t){return-1!==t.indexOf("png")},t.prototype.getSendData=function(t){return r(this,void 0,void 0,function(){var e,n,r,i,a,c,u,l;return o(this,function(o){switch(o.label){case 0:e=t.size,n=t.type,o.label=1;case 1:return o.trys.push([1,9,,10]),[4,this.readFile(t)];case 2:return r=o.sent(),-1===n.indexOf("gif")?[3,3]:[2,r];case 3:return e<204800?[2,r]:[4,this.getImage(r,n)];case 4:return i=o.sent(),a=this.getDimssion(i),[4,this.getOriginalData(i,a)];case 5:return c=o.sent(),this.isPng(n)?[2,c]:[3,6];case 6:return(u=new s.default).initWithBuffer(r),[4,u.get_orientation()];case 7:return l=o.sent(),[2,this.InsertExif(l,c)];case 8:return[3,10];case 9:return o.sent(),[3,10];case 10:return[2]}})})},t}();e.default=c},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,s)}c((r=r.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(e,"__esModule",{value:!0});var a=n(1),s=n(105),c=n(33),u=n(28),l=n(16),f=n(65),h=n(34),p=n(46);n(41),n(222);var d=n(71),y=function(t){function e(e){var n=t.call(this,e)||this;return n.cameras=[],n.state={isConnect:!1,isVideo:!0},n.reciveCall=n.reciveCall.bind(n),n.hideOperaArea=n.hideOperaArea.bind(n),n.handleWholeClick=n.handleWholeClick.bind(n),n.changeStream=n.changeStream.bind(n),n.hangdown=n.hangdown.bind(n),n.receiveHangdownMsg=n.receiveHangdownMsg.bind(n),n.receiveVoiceSwitch=n.receiveVoiceSwitch.bind(n),n.handleConnection=n.handleConnection.bind(n),n.handleRemoteTrack=n.handleRemoteTrack.bind(n),n.cutVideoStream=n.cutVideoStream.bind(n),n.handleSwitchVoice=n.handleSwitchVoice.bind(n),n.handleSwitchCamera=n.handleSwitchCamera.bind(n),n}return r(e,t),e.prototype.componentDidUpdate=function(t){var e=this.props,n=e.currentFriend,r=e.match,o=t.currentFriend,i=!!parseInt(r.params.isCaller);o.id!==n.id&&(this.localStream?(this.initSocket(),i&&this.makeCall()):this.getMedia())},e.prototype.componentDidMount=function(){var t=this.props.currentFriend;this.notify=d.default.getInstance(),this.notify.playVideoNotice(),t.id&&this.getMedia(),this.getDevices()},e.prototype.componentWillUnmount=function(){this.cutStream(),this.state.isConnect?this.notify.playVideoDownNotify():this.notify.stopNotify(),this.peer&&this.peer.removeAllPeerListener(),this.socket&&(this.socket.unSubscribeSignal("bye",this.receiveHangdownMsg),this.socket.unSubscribeSignal("switchvoice",this.receiveVoiceSwitch))},e.prototype.getDevices=function(){return o(this,void 0,void 0,function(){var t=this;return i(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,navigator.mediaDevices.enumerateDevices()];case 1:return e.sent().forEach(function(e){"videoinput"===e.kind&&t.cameras.length<2&&t.cameras.push(e)}),[3,3];case 2:return e.sent(),[3,3];case 3:return[2]}})})},e.prototype.initSocket=function(){this.socket=u.default.getInstance(l.socketUrl),this.socket.subscribeSignal("bye",this.receiveHangdownMsg),this.socket.subscribeSignal("switchvoice",this.receiveVoiceSwitch)},e.prototype.receiveVoiceSwitch=function(t){this.cutVideoStream(),this.setState({isVideo:!1})},e.prototype.handleRemoteTrack=function(t){if(t){var e=t.kind;"video"===e?(this.remoteVideoStream=new MediaStream([t]),this.mainVideo.srcObject=this.remoteVideoStream,this.smallVideo.srcObject=this.localVideoStream):"audio"===e&&(this.remoteAudioStream=new MediaStream([t]),this.remoteAudio.srcObject=this.remoteAudioStream)}},e.prototype.handleConnection=function(){this.notify.stopNotify(),this.setState({isConnect:!0}),this.hideOperaArea()},e.prototype.handleWholeClick=function(){this.operaArea&&this.state.isConnect&&(this.operaArea.style.opacity="1",this.hideOperaArea())},e.prototype.hideOperaArea=function(){var t=this;this.hideTimer&&clearTimeout(this.hideTimer),this.hideTimer=setTimeout(function(){t.operaArea&&(t.operaArea.style.opacity="0")},5e3)},e.prototype.makeCall=function(){return o(this,void 0,void 0,function(){var t,e,n;return i(this,function(r){switch(r.label){case 0:return t=this.props,e=t.currentFriend,n=t.currentUser,this.peer=new s.default(e.id,n.id,this.socket),this.peer.addStream(this.localStream),this.peer.on("connect",this.handleConnection),this.peer.on("addtrack",this.handleRemoteTrack),[4,this.peer.createConnection("video_call")];case 1:return r.sent()||p.default.fail("make call failed"),[2]}})})},e.prototype.getMedia=function(){return o(this,void 0,void 0,function(){var t,e,n,r,o,a,s;return i(this,function(i){switch(i.label){case 0:return t=this.props,e=t.currentFriend,n=t.match,r=this.state.isVideo,o=!!parseInt(n.params.isCaller),this.constraint={video:{deviceId:this.cameraId,width:{exact:1280},height:{exact:720}},audio:!0},[4,navigator.mediaDevices.getUserMedia(this.constraint).catch(function(t){return console.log(t)})];case 1:return(a=i.sent())&&(this.localStream=a,r&&(s=a.getVideoTracks(),this.localVideoStream=new MediaStream(s),this.mainVideo.srcObject=this.localVideoStream),e.id&&(this.initSocket(),o&&this.makeCall().catch(function(t){console.log(t)}))),[2]}})})},e.prototype.reciveCall=function(){return o(this,void 0,void 0,function(){var t,e,n;return i(this,function(r){return t=this.props,e=t.currentFriend,n=t.currentUser,this.peer=new s.default(e.id,n.id,this.socket),this.peer.addStream(this.localStream),this.peer.on("connect",this.handleConnection),this.peer.on("addtrack",this.handleRemoteTrack),this.peer.receiveCall(),[2]})})},e.prototype.cutStreamWithBack=function(){var t=this.props.history;this.cutStream(),t.goBack()},e.prototype.hangdown=function(){var t=this.props,e=t.currentFriend,n=t.currentUser,r={to:e.id,from:n.id,data:"bye"};this.socket&&this.socket.sendSignalMsg(r),this.cutStreamWithBack()},e.prototype.receiveHangdownMsg=function(t){this.cutStreamWithBack()},e.prototype.cutStream=function(){this.localStream.getTracks().forEach(function(t){t.stop()}),this.peer&&this.peer.close()},e.prototype.changeStream=function(){this.state.isConnect&&(this.mainVideo.srcObject===this.localVideoStream?(this.mainVideo.srcObject=this.remoteVideoStream,this.smallVideo.srcObject=this.localVideoStream):(this.mainVideo.srcObject=this.localVideoStream,this.smallVideo.srcObject=this.remoteVideoStream))},e.prototype.cutVideoStream=function(){this.localStream.getVideoTracks().forEach(function(t){t.stop()})},e.prototype.handleSwitchCamera=function(){return o(this,void 0,void 0,function(){var t,e,n;return i(this,function(r){switch(r.label){case 0:return this.cutVideoStream(),this.cameras.length>=2?(this.cutVideoStream(),this.cameraId?this.cameraId===this.cameras[0].deviceId?this.cameraId=this.cameras[1].deviceId:this.cameraId=this.cameras[0].deviceId:this.cameraId=this.cameras[1].deviceId,t={video:{deviceId:this.cameraId,width:{exact:1280},height:{exact:720}},audio:!1},e=this,[4,navigator.mediaDevices.getUserMedia(t)]):[3,2];case 1:e.localStream=r.sent(),this.localVideoStream=this.localStream,this.smallVideo.srcObject=this.localStream,n=this.localStream.getVideoTracks()[0],this.peer.replaceVideo(n),r.label=2;case 2:return[2]}})})},e.prototype.handleSwitchVoice=function(){var t=this.props,e=t.currentFriend,n=t.currentUser;this.cutVideoStream();var r={to:e.id,from:n.id,data:"voice"};this.socket.sendSignalMsg(r),this.setState({isVideo:!1})},e.prototype.renderAudioEle=function(){var t=this.props.currentFriend;return a.createElement("div",{className:"audio-call-wrap"},a.createElement(f.default,{isRadius:!0,className:"audio-call-avator",imgUrl:t.img}),a.createElement("p",{className:"audio-call-name"},t.username||t.email))},e.prototype.render=function(){var t=this,e=this.props,n=e.currentFriend,r=e.match,o=this.state,i=o.isConnect,s=o.isVideo,c=!!parseInt(r.params.isCaller),u=null,l=null,p=[];return!i&&n&&n.id&&(u=a.createElement("div",{className:"video-call-friend"},a.createElement(f.default,{isRadius:!0,className:"video-call-avator",imgUrl:n.img,width:66.5,height:66.5}),a.createElement("div",null,a.createElement("h5",{className:"video-call-username"},n.username),a.createElement("p",{className:"video-call-wait"},"waiting...")))),i&&!s&&(l=this.renderAudioEle()),p.push(a.createElement(h.default,{onClick:this.hangdown,className:"video-call-opera-btn",type:"hangdown",color:"#da4a4a"})),c||i||p.push(a.createElement(h.default,{onClick:this.reciveCall,className:"video-call-opera-btn",type:"hangup",color:"#09bb07"})),i&&s&&(p.splice(0,0,a.createElement(h.default,{onClick:this.handleSwitchVoice,className:"video-call-opera-btn",type:"switchVoice",color:"#fff"})),p.push(a.createElement(h.default,{onClick:this.handleSwitchCamera,className:"video-call-opera-btn",type:"switchCamera",color:"#fff"}))),a.createElement("div",{className:"video-call-container",onClick:this.handleWholeClick},l,s?a.createElement("video",{onEnded:function(t){return console.log("video ended")},playsInline:!0,autoPlay:!0,className:"video-call-video "+(i||c?"":"video-blur"),ref:function(e){e&&(t.mainVideo=e)}}):null,s?a.createElement("video",{playsInline:!0,width:80,height:142.5,autoPlay:!0,onClick:this.changeStream,className:"video-call-remoteVideo "+(i?"":"video-hide"),ref:function(e){e&&(t.smallVideo=e)}}):null,a.createElement("audio",{ref:function(e){e&&(t.remoteAudio=e)},autoPlay:!0}),u,a.createElement("div",{className:"video-call-opera",ref:function(e){e&&(t.operaArea=e)}},p))},e}(a.Component);e.default=c.connect(function(t,e){var n=parseInt(e.match.params.id),r=t.friendList.filter(function(t,e){return t.id===n})[0]||{};return{currentUser:t.currentUser,currentFriend:r}})(y)},function(t,e,n){},function(t,e,n){},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),i=n(73),a=n(34),s=n(0),c=n(6);n(225);var u=function(t){function e(e){var n=t.call(this,e)||this;return n.routerStack=[],n.animateTime=200,n.state={isShowBack:!1},n.goBack=n.goBack.bind(n),n.handleRouteChange=n.handleRouteChange.bind(n),n.getSwitchInst=n.getSwitchInst.bind(n),n.props.history.listen(n.handleRouteChange),n}return r(e,t),e.prototype.componentDidMount=function(){var t=this.props.location;"/friend"!==t.pathname&&"/"!==t.pathname&&this.setState({isShowBack:!0})},e.prototype.shouldComponentUpdate=function(t){var e=this;if(this.isAnimate)return!1;if(t.location!==this.props.location&&this.switchInst){var n=t.history.action,r=c.findDOMNode(this.switchInst);if(r&&"REPLACE"!==n)return this.isAnimate=!0,r.className+=(r.className?" ":"")+"nav-"+n+"-hide",setTimeout(function(){e.forceUpdate(function(){var t=c.findDOMNode(e.switchInst);t instanceof HTMLElement&&(t.className+=(r.className?" ":"")+"nav-"+n+"-show-begin",setTimeout(function(){t.className+=" nav-"+n+"-show-active"}),setTimeout(function(){var n=t.className.split(" ");n.splice(n.length-2,2),t.className=n.join(" "),e.isAnimate=!1},e.animateTime))})},this.animateTime),!1}return!0},e.prototype.getChildContext=function(){return{title:this.titleEle}},e.prototype.goBack=function(){if(!this.isAnimate){var t=this.props.history;this.routerStack&&this.routerStack.length>1?t.goBack():t.replace("/")}},e.prototype.handleRouteChange=function(t,e){switch(this.routerStack=this.routerStack||[],e){case"POP":this.routerStack.shift();break;case"PUSH":this.routerStack.unshift(t.pathname);break;case"REPLACE":this.routerStack.shift(),this.routerStack.unshift(t.pathname);break;default:return}this.setState({isShowBack:"/friend"!==this.routerStack[0]})},e.prototype.getSwitchInst=function(t){t&&t instanceof o.Component&&(this.switchInst=t)},e.prototype.render=function(){var t=this,e=this.state.isShowBack;this.props.location;return o.createElement("div",{className:"nav-safe-container"},o.createElement("div",{className:"nav-container"},e?o.createElement("div",{className:"nav-back",onClick:this.goBack},o.createElement(a.default,{className:"nav-back-icon",type:"chatBack",color:"#fff"}),o.createElement("span",{className:"nav-back-text"},"Back")):null,o.createElement("p",{ref:function(e){e&&(t.titleEle=e)},className:"nav-title"}),o.createElement("div",{className:"nav-more"})),o.createElement("div",{className:"nav-route-area"},o.createElement(i.Switch,{ref:this.getSwitchInst},this.props.children)))},e.childContextTypes={title:s.object.isRequired},e}(o.Component);e.default=i.withRouter(u)},function(t,e,n){},function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(107),o=n(228),i=n(229),a=n(230);e.default=r.combineReducers({friendList:o.default,currentUser:i.default,messages:a.default})},function(t,e,n){"use strict";var r=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(r(arguments[e]));return t};Object.defineProperty(e,"__esModule",{value:!0});var i=n(62);e.default=function(t,e){if(void 0===t&&(t=[]),e.type===i.INIT_FRIEND_LIST)return e.payload;if(e.type===i.NEW_MSG_UPDATE){var n=void 0,r=t.length;for(n=0;n<r&&t[n].id!=e.payload.from;n++);var a=t.splice(n,1)[0];return a.unreads?a.unreads.push(e.payload):a.unreads=[e.payload],o([a],t)}return t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(64);e.default=function(t,e){return void 0===t&&(t={email:"",id:0}),e.type===r.INIT_CURRENT_USER?e.payload:t}},function(t,e,n){"use strict";var r=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(r(arguments[e]));return t};Object.defineProperty(e,"__esModule",{value:!0});var i=n(63);e.default=function(t,e){switch(void 0===t&&(t=[]),e.type){case i.INIT_MSG_LIST:return o(e.messages);case i.RECEIVE_NEW_MSG:return o(t,[e.message]);case i.UPDATE_MSG:return t.splice(e.index,1,e.msg),o(t);default:return t}}},function(t,e,n){"use strict";function r(t){return function(e){var n=e.dispatch,r=e.getState;return function(e){return function(o){return"function"==typeof o?o(n,r,t):e(o)}}}}n.r(e);var o=r();o.withExtraArgument=r,e.default=o},function(t,e,n){(function(t){!function(e){"use strict";function n(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}function r(t,e){Object.defineProperty(this,"kind",{value:t,enumerable:!0}),e&&e.length&&Object.defineProperty(this,"path",{value:e,enumerable:!0})}function o(t,e,n){o.super_.call(this,"E",t),Object.defineProperty(this,"lhs",{value:e,enumerable:!0}),Object.defineProperty(this,"rhs",{value:n,enumerable:!0})}function i(t,e){i.super_.call(this,"N",t),Object.defineProperty(this,"rhs",{value:e,enumerable:!0})}function a(t,e){a.super_.call(this,"D",t),Object.defineProperty(this,"lhs",{value:e,enumerable:!0})}function s(t,e,n){s.super_.call(this,"A",t),Object.defineProperty(this,"index",{value:e,enumerable:!0}),Object.defineProperty(this,"item",{value:n,enumerable:!0})}function c(t,e,n){var r=t.slice((n||e)+1||t.length);return t.length=e<0?t.length+e:e,t.push.apply(t,r),t}function u(t){var e=void 0===t?"undefined":E(t);return"object"!==e?e:t===Math?"math":null===t?"null":Array.isArray(t)?"array":"[object Date]"===Object.prototype.toString.call(t)?"date":"function"==typeof t.toString&&/^\/.*\//.test(t.toString())?"regexp":"object"}function l(t,e,n,r,f,h,p){f=f||[],p=p||[];var d=f.slice(0);if(void 0!==h){if(r){if("function"==typeof r&&r(d,h))return;if("object"===(void 0===r?"undefined":E(r))){if(r.prefilter&&r.prefilter(d,h))return;if(r.normalize){var y=r.normalize(d,h,t,e);y&&(t=y[0],e=y[1])}}}d.push(h)}"regexp"===u(t)&&"regexp"===u(e)&&(t=t.toString(),e=e.toString());var m=void 0===t?"undefined":E(t),v=void 0===e?"undefined":E(e),g="undefined"!==m||p&&p[p.length-1].lhs&&p[p.length-1].lhs.hasOwnProperty(h),b="undefined"!==v||p&&p[p.length-1].rhs&&p[p.length-1].rhs.hasOwnProperty(h);if(!g&&b)n(new i(d,e));else if(!b&&g)n(new a(d,t));else if(u(t)!==u(e))n(new o(d,t,e));else if("date"===u(t)&&t-e!=0)n(new o(d,t,e));else if("object"===m&&null!==t&&null!==e)if(p.filter(function(e){return e.lhs===t}).length)t!==e&&n(new o(d,t,e));else{if(p.push({lhs:t,rhs:e}),Array.isArray(t)){var w;for(t.length,w=0;w<t.length;w++)w>=e.length?n(new s(d,w,new a(void 0,t[w]))):l(t[w],e[w],n,r,d,w,p);for(;w<e.length;)n(new s(d,w,new i(void 0,e[w++])))}else{var C=Object.keys(t),A=Object.keys(e);C.forEach(function(o,i){var a=A.indexOf(o);a>=0?(l(t[o],e[o],n,r,d,o,p),A=c(A,a)):l(t[o],void 0,n,r,d,o,p)}),A.forEach(function(t){l(void 0,e[t],n,r,d,t,p)})}p.length=p.length-1}else t!==e&&("number"===m&&isNaN(t)&&isNaN(e)||n(new o(d,t,e)))}function f(t,e,n,r){return r=r||[],l(t,e,function(t){t&&r.push(t)},n),r.length?r:void 0}function h(t,e,n){if(t&&e&&n&&n.kind){for(var r=t,o=-1,i=n.path?n.path.length-1:0;++o<i;)void 0===r[n.path[o]]&&(r[n.path[o]]="number"==typeof n.path[o]?[]:{}),r=r[n.path[o]];switch(n.kind){case"A":!function t(e,n,r){if(r.path&&r.path.length){var o,i=e[n],a=r.path.length-1;for(o=0;o<a;o++)i=i[r.path[o]];switch(r.kind){case"A":t(i[r.path[o]],r.index,r.item);break;case"D":delete i[r.path[o]];break;case"E":case"N":i[r.path[o]]=r.rhs}}else switch(r.kind){case"A":t(e[n],r.index,r.item);break;case"D":e=c(e,n);break;case"E":case"N":e[n]=r.rhs}return e}(n.path?r[n.path[o]]:r,n.index,n.item);break;case"D":delete r[n.path[o]];break;case"E":case"N":r[n.path[o]]=n.rhs}}}function p(t,e,n,r){var o=f(t,e);try{r?n.groupCollapsed("diff"):n.group("diff")}catch(t){n.log("diff")}o?o.forEach(function(t){var e=t.kind,r=function(t){var e=t.kind,n=t.path,r=t.lhs,o=t.rhs,i=t.index,a=t.item;switch(e){case"E":return[n.join("."),r,"",o];case"N":return[n.join("."),o];case"D":return[n.join(".")];case"A":return[n.join(".")+"["+i+"]",a];default:return[]}}(t);n.log.apply(n,["%c "+S[e].text,function(t){return"color: "+S[t].color+"; font-weight: bold"}(e)].concat(A(r)))}):n.log(" no diff ");try{n.groupEnd()}catch(t){n.log(" diff end  ")}}function d(t,e,n,r){switch(void 0===t?"undefined":E(t)){case"object":return"function"==typeof t[r]?t[r].apply(t,A(n)):t[r];case"function":return t(e);default:return t}}function y(t,e){var n=e.logger,r=e.actionTransformer,o=e.titleFormatter,i=void 0===o?function(t){var e=t.timestamp,n=t.duration;return function(t,r,o){var i=["action"];return i.push("%c"+String(t.type)),e&&i.push("%c@ "+r),n&&i.push("%c(in "+o.toFixed(2)+" ms)"),i.join(" ")}}(e):o,a=e.collapsed,s=e.colors,c=e.level,u=e.diff,l=void 0===e.titleFormatter;t.forEach(function(o,f){var h=o.started,y=o.startedTime,m=o.action,v=o.prevState,g=o.error,b=o.took,C=o.nextState,E=t[f+1];E&&(C=E.prevState,b=E.started-h);var A=r(m),_="function"==typeof a?a(function(){return C},m,o):a,S=w(y),k=s.title?"color: "+s.title(A)+";":"",x=["color: gray; font-weight: lighter;"];x.push(k),e.timestamp&&x.push("color: gray; font-weight: lighter;"),e.duration&&x.push("color: gray; font-weight: lighter;");var O=i(A,S,b);try{_?s.title&&l?n.groupCollapsed.apply(n,["%c "+O].concat(x)):n.groupCollapsed(O):s.title&&l?n.group.apply(n,["%c "+O].concat(x)):n.group(O)}catch(t){n.log(O)}var T=d(c,A,[v],"prevState"),P=d(c,A,[A],"action"),M=d(c,A,[g,v],"error"),F=d(c,A,[C],"nextState");if(T)if(s.prevState){var N="color: "+s.prevState(v)+"; font-weight: bold";n[T]("%c prev state",N,v)}else n[T]("prev state",v);if(P)if(s.action){var R="color: "+s.action(A)+"; font-weight: bold";n[P]("%c action    ",R,A)}else n[P]("action    ",A);if(g&&M)if(s.error){var j="color: "+s.error(g,v)+"; font-weight: bold;";n[M]("%c error     ",j,g)}else n[M]("error     ",g);if(F)if(s.nextState){var B="color: "+s.nextState(C)+"; font-weight: bold";n[F]("%c next state",B,C)}else n[F]("next state",C);u&&p(v,C,n,_);try{n.groupEnd()}catch(t){n.log(" log end ")}})}function m(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Object.assign({},k,t),n=e.logger,r=e.stateTransformer,o=e.errorTransformer,i=e.predicate,a=e.logErrors,s=e.diffPredicate;if(void 0===n)return function(){return function(t){return function(e){return t(e)}}};if(t.getState&&t.dispatch)return console.error("[redux-logger] redux-logger not installed. Make sure to pass logger instance as middleware:\n// Logger with default options\nimport { logger } from 'redux-logger'\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n// Or you can create your own logger with custom options http://bit.ly/redux-logger-options\nimport createLogger from 'redux-logger'\nconst logger = createLogger({\n  // ...options\n});\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n"),function(){return function(t){return function(e){return t(e)}}};var c=[];return function(t){var n=t.getState;return function(t){return function(u){if("function"==typeof i&&!i(n,u))return t(u);var l={};c.push(l),l.started=C.now(),l.startedTime=new Date,l.prevState=r(n()),l.action=u;var f=void 0;if(a)try{f=t(u)}catch(t){l.error=o(t)}else f=t(u);l.took=C.now()-l.started,l.nextState=r(n());var h=e.diff&&"function"==typeof s?s(n,u):e.diff;if(y(c,Object.assign({},e,{diff:h})),c.length=0,l.error)throw l.error;return f}}}}var v,g,b=function(t,e){return function(t,e){return new Array(e+1).join(t)}("0",e-t.toString().length)+t},w=function(t){return b(t.getHours(),2)+":"+b(t.getMinutes(),2)+":"+b(t.getSeconds(),2)+"."+b(t.getMilliseconds(),3)},C="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance:Date,E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)},_=[];v="object"===(void 0===t?"undefined":E(t))&&t?t:"undefined"!=typeof window?window:{},(g=v.DeepDiff)&&_.push(function(){void 0!==g&&v.DeepDiff===f&&(v.DeepDiff=g,g=void 0)}),n(o,r),n(i,r),n(a,r),n(s,r),Object.defineProperties(f,{diff:{value:f,enumerable:!0},observableDiff:{value:l,enumerable:!0},applyDiff:{value:function(t,e,n){t&&e&&l(t,e,function(r){n&&!n(t,e,r)||h(t,e,r)})},enumerable:!0},applyChange:{value:h,enumerable:!0},revertChange:{value:function(t,e,n){if(t&&e&&n&&n.kind){var r,o,i=t;for(o=n.path.length-1,r=0;r<o;r++)void 0===i[n.path[r]]&&(i[n.path[r]]={}),i=i[n.path[r]];switch(n.kind){case"A":!function t(e,n,r){if(r.path&&r.path.length){var o,i=e[n],a=r.path.length-1;for(o=0;o<a;o++)i=i[r.path[o]];switch(r.kind){case"A":t(i[r.path[o]],r.index,r.item);break;case"D":case"E":i[r.path[o]]=r.lhs;break;case"N":delete i[r.path[o]]}}else switch(r.kind){case"A":t(e[n],r.index,r.item);break;case"D":case"E":e[n]=r.lhs;break;case"N":e=c(e,n)}return e}(i[n.path[r]],n.index,n.item);break;case"D":case"E":i[n.path[r]]=n.lhs;break;case"N":delete i[n.path[r]]}}},enumerable:!0},isConflict:{value:function(){return void 0!==g},enumerable:!0},noConflict:{value:function(){return _&&(_.forEach(function(t){t()}),_=null),f},enumerable:!0}});var S={E:{color:"#2196F3",text:"CHANGED:"},N:{color:"#4CAF50",text:"ADDED:"},D:{color:"#F44336",text:"DELETED:"},A:{color:"#2196F3",text:"ARRAY:"}},k={level:"log",logger:console,logErrors:!0,collapsed:void 0,predicate:void 0,duration:!1,timestamp:!0,stateTransformer:function(t){return t},actionTransformer:function(t){return t},errorTransformer:function(t){return t},colors:{title:function(){return"inherit"},prevState:function(){return"#9E9E9E"},action:function(){return"#03A9F4"},nextState:function(){return"#4CAF50"},error:function(){return"#F20404"}},diff:!1,diffPredicate:void 0,transformer:void 0},x=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.dispatch,n=t.getState;return"function"==typeof e||"function"==typeof n?m()({dispatch:e,getState:n}):void console.error("\n[redux-logger v3] BREAKING CHANGE\n[redux-logger v3] Since 3.0.0 redux-logger exports by default logger with default settings.\n[redux-logger v3] Change\n[redux-logger v3] import createLogger from 'redux-logger'\n[redux-logger v3] to\n[redux-logger v3] import { createLogger } from 'redux-logger'\n")};e.defaults=k,e.createLogger=m,e.logger=x,e.default=x,Object.defineProperty(e,"__esModule",{value:!0})}(e)}).call(this,n(12))},function(t,e,n){},function(t,e,n){},function(t,e,n){var r={"./chatAlbum.svg":236,"./chatBack.svg":237,"./chatDraw.svg":238,"./chatFile.svg":239,"./chatVideo.svg":240,"./hangdown.svg":241,"./hangup.svg":242,"./msgFail.svg":243,"./myadd.svg":244,"./myemoji.svg":245,"./mykeyboard.svg":246,"./myvoice.svg":247,"./switchCamera.svg":248,"./switchVoice.svg":249};function o(t){var e=i(t);return n(e)}function i(t){var e=r[t];if(!(e+1)){var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}return e}o.keys=function(){return Object.keys(r)},o.resolve=i,t.exports=o,o.id=235},function(t,e,n){"use strict";n.r(e);var r=n(2),o=n.n(r),i=n(3),a=n.n(i),s=new o.a({id:"chatAlbum",use:"chatAlbum-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" id="chatAlbum"><path d="M422.912 404.672c0 46.72-37.888 84.672-84.672 84.672-46.656 0-84.672-37.888-84.672-84.672C253.568 357.824 291.584 320 338.24 320 385.024 320 422.912 357.824 422.912 404.672zM820.544 768c0 0-34.944-274.432-139.648-274.432-104.768 0-139.712 134.912-209.408 134.912-69.952 0-69.952-33.728-139.776-33.728C261.888 594.752 192 768 192 768L820.544 768 820.544 768zM896 128 128 128l0 704 768 0L896 128M896 64c35.392 0 64 28.672 64 64l0 704c0 35.392-28.608 64-64 64L128 896c-35.328 0-64-28.608-64-64L64 128c0-35.328 28.672-64 64-64L896 64 896 64z" /></symbol>'});a.a.add(s);e.default=s},function(t,e,n){"use strict";n.r(e);var r=n(2),o=n.n(r),i=n(3),a=n.n(i),s=new o.a({id:"chatBack",use:"chatBack-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" id="chatBack"><path d="M268.896 476.032 622.24 125.92c18.848-18.656 49.216-18.528 67.872 0.32 18.656 18.816 18.528 49.216-0.32 67.872l-319.456 316.576 318.176 321.056c18.656 18.816 18.528 49.216-0.32 67.872-9.344 9.28-21.568 13.92-33.792 13.92-12.352 0-24.704-4.736-34.08-14.208L270.208 545.984c-0.512-0.512-0.672-1.248-1.184-1.792-0.128-0.128-0.288-0.16-0.416-0.288C249.952 525.088 250.08 494.688 268.896 476.032z" /></symbol>'});a.a.add(s);e.default=s},function(t,e,n){"use strict";n.r(e);var r=n(2),o=n.n(r),i=n(3),a=n.n(i),s=new o.a({id:"chatDraw",use:"chatDraw-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" id="chatDraw"><path d="M952.936 92.657l-19.938-19.938c-10.966-10.966-29.879-11.488-42.723-0.57L444.074 451.436c-60.005 51.006-93.519 120.423-66.48 147.463l49.163 49.163c27.04 27.04 96.456-6.474 147.463-66.48l379.286-446.201c10.918-12.845 10.396-31.758-0.57-42.724zM73.296 929.203c-5.84-1.537-9.084-2.522-9.084-2.522s3.567 1.782 9.084 2.522z" /><path d="M324.938 613.81s-191.199 0-191.199 173.817c0 134.45-41.599 144.101-60.443 141.576 59.14 15.56 386.009 87.906 338.55-228.485l-86.908-86.908z" /></symbol>'});a.a.add(s);e.default=s},function(t,e,n){"use strict";n.r(e);var r=n(2),o=n.n(r),i=n(3),a=n.n(i),s=new o.a({id:"chatFile",use:"chatFile-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" id="chatFile"><path d="M706.066 472.244l-385.282 0c-11.817 0-21.406 10.05-21.406 22.441l0 11.176c0 12.402 9.589 22.452 21.406 22.452l385.282 0c11.817 0 21.406-10.061 21.406-22.452l0-11.176c0.011-12.391-9.589-22.441-21.406-22.441zM504.208 674.462l-184.346 0c-11.311 0-20.483 10.095-20.483 22.542l0 11.344c0 12.436 9.172 22.531 20.483 22.531l184.346 0c11.311 0 20.483-10.084 20.483-22.531l0-11.344c0-12.447-9.172-22.542-20.483-22.542zM896.456 0l-766.061 0c-24.895 0-45.062 20.888-45.062 46.661l0 929.722c0 25.761 20.168 46.661 45.062 46.661l545.307 0c8.306-1.733 23.004-6.798 38.479-21.811l204.615-205.201c0 0 17.759-17.118 22.734-45.603l0-703.769c-0.011-25.772-20.19-46.661-45.074-46.661zM885.022 789.02c-0.034-0.574-0.113-1.137-0.169-1.699l0.169-0.169 0 1.868zM885.022 742.011l-174.96 0c-40.178 0-50.093 12.076-50.093 50.42l0 115.582-0.023 0.023 0 58.939-493.335 0c-13.685 0-24.771-11.479-24.771-25.604l0-859.675c0-14.158 11.086-25.615 24.771-25.615l693.64 0c13.685 0 24.771 11.457 24.771 25.615l0 660.316zM706.066 258.434l-385.282 0c-11.817 0-21.406 10.084-21.406 22.531l0 11.344c0 12.436 9.589 22.531 21.406 22.531l385.282 0c11.817 0 21.406-10.084 21.406-22.531l0-11.344c0.011-12.436-9.589-22.531-21.406-22.531z" /></symbol>'});a.a.add(s);e.default=s},function(t,e,n){"use strict";n.r(e);var r=n(2),o=n.n(r),i=n(3),a=n.n(i),s=new o.a({id:"chatVideo",use:"chatVideo-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" id="chatVideo"><path d="M923.569231 257.969231l-216.615385 155.569231v-110.276924c0-29.538462-23.630769-53.169231-53.169231-53.16923H92.553846c-29.538462 0-53.169231 23.630769-53.169231 53.16923v419.446154c0 29.538462 23.630769 53.169231 53.169231 53.169231h563.2c29.538462 0 53.169231-23.630769 53.169231-53.169231v-108.307692L923.569231 768c13.784615 13.784615 37.415385 3.938462 37.415384-15.753846V273.723077c0-19.692308-23.630769-29.538462-37.415384-15.753846z" /></symbol>'});a.a.add(s);e.default=s},function(t,e,n){"use strict";n.r(e);var r=n(2),o=n.n(r),i=n(3),a=n.n(i),s=new o.a({id:"hangdown",use:"hangdown-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" id="hangdown"><path d="M841.216 856.064c185.856-185.856 185.856-487.424 0-673.792C655.36-3.584 353.792-3.584 167.424 182.272c-185.856 185.856-185.856 487.424 0 673.792 186.368 185.856 487.936 185.856 673.792 0zM218.624 495.104c0-47.616 111.104-113.664 285.696-113.664 175.104 0 285.696 66.048 285.696 113.664 0 40.96 10.752 102.4-73.728 93.184-84.48-9.216-78.848-40.96-78.848-83.456 0-29.696-68.608-36.352-133.12-36.352-65.024 0-133.12 6.656-133.12 36.352 0 42.496 5.632 74.24-78.848 83.456-84.992 9.216-73.728-51.712-73.728-93.184z" /></symbol>'});a.a.add(s);e.default=s},function(t,e,n){"use strict";n.r(e);var r=n(2),o=n.n(r),i=n(3),a=n.n(i),s=new o.a({id:"hangup",use:"hangup-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" id="hangup"><path d="M508.778 26.228c-269.053 0-487.942 218.891-487.942 487.942s218.891 487.942 487.942 487.942 487.942-218.877 487.942-487.93-218.891-487.956-487.942-487.956zM687.241 769.57c-172.769 0-429.534-274.05-429.534-417.997 0-57.549 49.616-96.489 91.027-96.489 43.787 0 118.415 126.279 118.415 152.986 0 18.814-8.124 32.126-14.637 42.831-5.066 8.301-8.055 13.489-8.383 19.47 6.718 21.012 85.333 99.396 107.534 107.287 5.899-0.518 13.366-4.41 21.259-8.519 12.37-6.445 27.771-14.473 46.586-14.473 30.078 0 158.748 83.927 158.748 118.429 0.014 65.604-37.37 96.475-91.013 96.475z" /></symbol>'});a.a.add(s);e.default=s},function(t,e,n){"use strict";n.r(e);var r=n(2),o=n.n(r),i=n(3),a=n.n(i),s=new o.a({id:"msgFail",use:"msgFail-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" id="msgFail"><path d="M512 0C229.286957 0 0 229.286957 0 512c0 282.713043 229.286957 512 512 512s512-229.286957 512-512C1024 229.286957 794.713043 0 512 0zM512 883.756522c-17.808696 0-33.391304-15.582609-33.391304-33.391304s15.582609-33.391304 33.391304-33.391304 33.391304 15.582609 33.391304 33.391304S529.808696 883.756522 512 883.756522zM545.391304 198.121739 534.26087 638.886957c0 13.356522-11.130435 24.486957-22.26087 24.486957s-22.26087-11.130435-22.26087-24.486957L478.608696 198.121739c0 0 0 0 0-2.226087 0 0 0-2.226087 0-2.226087 0-17.808696 15.582609-33.391304 33.391304-33.391304s33.391304 15.582609 33.391304 33.391304C545.391304 195.895652 545.391304 195.895652 545.391304 198.121739 545.391304 198.121739 545.391304 198.121739 545.391304 198.121739z" fill="#d81e06" /></symbol>'});a.a.add(s);e.default=s},function(t,e,n){"use strict";n.r(e);var r=n(2),o=n.n(r),i=n(3),a=n.n(i),s=new o.a({id:"myadd",use:"myadd-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" id="myadd"><path d="M668.705895 498.517996 548.192485 498.517996 548.192485 377.999552c0-18.156907-14.714414-32.873335-32.866287-32.873335-18.15892 0-32.875349 14.716428-32.875349 32.873335l0 120.517437L361.93744 498.516989c-18.149859 0-32.866287 14.714414-32.866287 32.866287s14.716428 32.866287 32.866287 32.866287l120.51341 0 0 120.522472c0 18.151872 14.716428 32.866287 32.875349 32.866287 18.151872 0 32.866287-14.714414 32.866287-32.866287l0-120.522472 120.51341 0c18.160934 0 32.875349-14.714414 32.875349-32.866287S686.866829 498.517996 668.705895 498.517996zM504.3654 16.446233c-278.343477 0-503.986313 225.639815-503.986313 503.979265 0 278.346497 225.642836 503.986313 503.986313 503.986313s503.984299-225.639815 503.984299-503.986313C1008.348692 242.086048 782.708877 16.446233 504.3654 16.446233zM504.3654 958.679237c-242.034698 0-438.242664-196.216021-438.242664-438.253739S262.329695 82.18082 504.3654 82.18082c242.04376 0 438.251726 196.207966 438.251726 438.244678S746.409159 958.679237 504.3654 958.679237z" /></symbol>'});a.a.add(s);e.default=s},function(t,e,n){"use strict";n.r(e);var r=n(2),o=n.n(r),i=n(3),a=n.n(i),s=new o.a({id:"myemoji",use:"myemoji-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" id="myemoji"><path d="M342.36416 425.00608c28.83072 0 52.1984-23.3728 52.1984-52.19328 0-28.83072-23.36768-52.1984-52.1984-52.1984-28.8256 0-52.19328 23.36768-52.19328 52.1984C290.16576 401.63328 313.53856 425.00608 342.36416 425.00608L342.36416 425.00608zM690.33984 425.00608c28.83072 0 52.1984-23.3728 52.1984-52.19328 0-28.83072-23.36768-52.1984-52.1984-52.1984s-52.19328 23.36768-52.19328 52.1984C638.14656 401.63328 661.50912 425.00608 690.33984 425.00608L690.33984 425.00608zM237.97248 593.80224c0 137.40032 124.63616 248.7808 278.37952 248.7808 153.74848 0 278.38464-111.38048 278.38464-248.7808L237.97248 593.80224 237.97248 593.80224z" /><path d="M516.352 999.168c269.056 0 487.168-218.12224 487.168-487.168 0-269.056-218.11712-487.168-487.168-487.168C247.296 24.832 29.184 242.944 29.184 512 29.184 781.05088 247.296 999.168 516.352 999.168L516.352 999.168 516.352 999.168zM516.352 964.37248c-249.83552 0-452.36736-202.53184-452.36736-452.37248 0-249.8304 202.53184-452.37248 452.36736-452.37248 249.84064 0 452.37248 202.53696 452.37248 452.37248C968.72448 761.84064 766.18752 964.37248 516.352 964.37248L516.352 964.37248 516.352 964.37248z" /></symbol>'});a.a.add(s);e.default=s},function(t,e,n){"use strict";n.r(e);var r=n(2),o=n.n(r),i=n(3),a=n.n(i),s=new o.a({id:"mykeyboard",use:"mykeyboard-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" id="mykeyboard"><path d="M512 0C229.696 0 0 229.696 0 512c0 282.282667 229.696 512 512 512 282.282667 0 512-229.717333 512-512C1024 229.696 794.282667 0 512 0zM512 981.290667C253.226667 981.290667 42.688 770.773333 42.688 512S253.226667 42.688 512 42.688 981.290667 253.226667 981.290667 512 770.773333 981.290667 512 981.290667z" /><path d="M353.770667 530.432 263.04 530.432c-18.218667 0-33.024 14.869333-33.024 33.088l0 90.752c0 18.261333 14.826667 33.109333 33.024 33.109333l90.730667 0c18.261333 0 33.109333-14.826667 33.109333-33.109333l0-90.752C386.901333 545.28 372.053333 530.432 353.770667 530.432z" /><path d="M353.770667 336.618667 263.04 336.618667c-18.218667 0-33.024 14.826667-33.024 33.088l0 90.752c0 18.218667 14.826667 33.088 33.024 33.088l90.730667 0c18.261333 0 33.109333-14.848 33.109333-33.088L386.88 369.706667C386.901333 351.466667 372.053333 336.618667 353.770667 336.618667z" /><path d="M469.248 493.546667l90.709333 0c18.282667 0 33.173333-14.848 33.173333-33.088L593.130667 369.706667c0-18.24-14.869333-33.088-33.173333-33.088l-90.709333 0c-18.24 0-33.088 14.826667-33.088 33.088l0 90.752C436.138667 478.677333 451.008 493.546667 469.248 493.546667z" /><path d="M760.917333 336.618667l-90.709333 0c-18.282667 0-33.130667 14.826667-33.130667 33.088l0 160.725333-167.850667 0c-18.24 0-33.088 14.869333-33.088 33.088l0 90.752c0 18.261333 14.848 33.109333 33.088 33.109333l295.338667-0.32c16.789333-1.92 29.418667-15.978667 29.418667-32.789333L793.984 369.706667C794.005333 351.466667 779.157333 336.618667 760.917333 336.618667z" /></symbol>'});a.a.add(s);e.default=s},function(t,e,n){"use strict";n.r(e);var r=n(2),o=n.n(r),i=n(3),a=n.n(i),s=new o.a({id:"myvoice",use:"myvoice-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" id="myvoice"><path d="M510.2 0.2C228.4 0.2 0 229.2 0 511.4c0 282.4 228.4 511.2 510.2 511.2 281.8 0 510.2-228.8 510.2-511.2C1020.2 229.2 791.8 0.2 510.2 0.2z m0.8 996.2c-267.2 0-484-217.2-484-485s216.6-485 484-485c267.2 0 484 217.2 484 485-0.2 267.8-216.8 485-484 485z" /><path d="M551.2 221l-2.4 2.8c-12.2 14.2-11.2 35.4 2 48.6 63.2 63.6 102.4 151.4 102.4 248.4 0 95.4-38 182-99.6 245.4-12.8 13.2-13.8 34-1.8 48.2 13.6 16.2 38.2 17.2 53 2.2 75.4-76.8 122-182.2 122-298.4 0-116.6-46.8-222.2-122.8-299.2-14.8-15-39.2-14-52.8 2z" /><path d="M487.6 345.4c-12.4-17-37-19-52.2-4.2l-0.8 0.6c-12.6 12.2-14.2 31.6-3.8 45.8 28 38 44.4 84.8 44.4 135.6 0 47-14.2 90.6-38.4 127-9.8 14.6-7 34.4 6.4 45.8 15.8 13.4 39.8 10.2 51.4-7 32-47.6 50.6-105 50.6-166.6 0.2-66.4-21.2-127.4-57.6-177zM281.8 519.2c0 43.2 24.8 78.4 55.4 78.4 30.6 0 55.4-35 55.4-78.4 0-43.2-24.8-78.4-55.4-78.4-30.6 0-55.4 35-55.4 78.4z" /></symbol>'});a.a.add(s);e.default=s},function(t,e,n){"use strict";n.r(e);var r=n(2),o=n.n(r),i=n(3),a=n.n(i),s=new o.a({id:"switchCamera",use:"switchCamera-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" id="switchCamera"><path d="M126.848 868.736a40.96 40.96 0 0 1-41.504-40.384V307.232a49.152 49.152 0 0 1 47.392-43.456h158.016s40.896-93.12 63.2-93.12h314.08c24.736 0 65.152 93.12 65.152 93.12l164.032 3.136a40.928 40.928 0 0 1 41.44 40.32v521.12a40.8 40.8 0 0 1-41.312 40.384H126.848z m511.232-311.168l75.584 111.52 75.584-111.52h-47.232c0-47.04-14.56-92.928-41.6-131.392a20.288 20.288 0 0 0-1.088-1.92c-3.264-4.512-6.784-8.8-10.304-13.056l-1.248-1.6a232.96 232.96 0 0 0-88.16-65.12l-2.816-1.28a267.2 267.2 0 0 0-16.64-6.016c-1.984-0.64-3.968-1.344-6.048-1.952a232.736 232.736 0 0 0-14.848-3.776c-2.752-0.64-5.504-1.28-8.32-1.856-1.376-0.256-2.656-0.64-4.032-0.896-3.712-0.64-7.488-0.928-11.2-1.408-2.592-0.32-5.12-0.704-7.744-0.96a248.768 248.768 0 0 0-18.752-0.96c-1.088 0-2.208-0.16-3.936-0.16a236.864 236.864 0 0 0-134.816 41.952 27.616 27.616 0 0 0-6.976 38.848 28.576 28.576 0 0 0 39.456 6.848 180.16 180.16 0 0 1 120-31.072c1.568 0.16 3.136 0.384 4.704 0.608 4.256 0.48 8.48 1.12 12.672 1.92 1.856 0.32 3.648 0.8 5.44 1.216 4.096 0.96 8.192 1.92 12.16 3.136 1.28 0.384 2.528 0.864 3.776 1.28 4.544 1.408 9.056 3.04 13.44 4.8l1.376 0.64c26.176 11.04 49.376 28.16 68.032 50.304a174.208 174.208 0 0 1 40.736 111.872H638.08z m-272.352 110.016a173.984 173.984 0 0 1-39.36-109.984h47.2L298.016 446.08l-75.552 111.552h47.2c0 47.168 14.624 93.152 41.824 131.68 0.32 0.512 0.544 1.056 0.896 1.568 2.72 3.84 5.76 7.424 8.672 11.008l3.264 4.16c4.288 5.12 8.864 9.984 13.568 14.72a233.952 233.952 0 0 0 54.4 40.48l1.536 0.864c5.632 2.944 11.36 5.664 17.184 8.16l4.352 1.92c5.024 2.016 10.112 3.84 15.264 5.504 2.432 0.8 4.864 1.664 7.36 2.368 4.48 1.344 9.024 2.464 13.76 3.52 3.072 0.704 6.08 1.472 9.28 2.048 1.28 0.256 2.496 0.672 3.808 0.864 4.352 0.768 8.768 1.184 13.152 1.728 1.6 0.16 3.136 0.416 4.736 0.608 7.872 0.768 15.712 1.28 23.584 1.28 48.256 0 95.36-14.72 135.04-42.144a27.616 27.616 0 0 0 6.912-38.848 28.576 28.576 0 0 0-39.456-6.848 180.064 180.064 0 0 1-105.088 31.808 196.032 196.032 0 0 1-14.656-0.704c-1.984-0.192-3.968-0.48-5.952-0.736-3.84-0.512-7.648-0.992-11.36-1.696-2.304-0.48-4.544-1.056-6.784-1.6a184 184 0 0 1-10.816-2.72c-1.728-0.512-3.392-1.12-5.12-1.664a205.44 205.44 0 0 1-12.128-4.384l-2.656-1.184a194.944 194.944 0 0 1-14.272-6.816 182.112 182.112 0 0 1-52.128-42.304l-2.112-2.656z" /></symbol>'});a.a.add(s);e.default=s},function(t,e,n){"use strict";n.r(e);var r=n(2),o=n.n(r),i=n(3),a=n.n(i),s=new o.a({id:"switchVoice",use:"switchVoice-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" id="switchVoice"><path d="M512 705.728c105.888 0 192-86.112 192-192L704 257.952c0-105.888-86.112-192-192-192s-192 86.112-192 192l0 255.776C320 619.584 406.112 705.728 512 705.728zM864 479.776 864 352c0-17.664-14.304-32-32-32s-32 14.336-32 32l0 127.776c0 160.16-129.184 290.464-288 290.464-158.784 0-288-130.304-288-290.464L224 352c0-17.664-14.336-32-32-32s-32 14.336-32 32l0 127.776c0 184.608 140.864 336.48 320 352.832L480 896 288 896c-17.664 0-32 14.304-32 32s14.336 32 32 32l448 0c17.696 0 32-14.304 32-32s-14.304-32-32-32l-192 0 0-63.36C723.136 816.256 864 664.384 864 479.776z" /></symbol>'});a.a.add(s);e.default=s},function(t,e,n){"use strict";n.r(e);var r=n(1),o=n.n(r),i=n(6),a=n.n(i);function s(t,e){for(var n=t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector,r=t;r;){if(n.call(r,e))return r;r=r.parentElement}return null}var c=n(5),u=n.n(c),l=n(10),f=n.n(l),h=n(9),p=n.n(h),d=n(7),y=n.n(d),m=n(4),v=n.n(m),g=n(8),b=n.n(g),w=n(15),C=n.n(w),E=n(35),A=function(t){function e(){return y()(this,e),v()(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return b()(e,t),p()(e,[{key:"shouldComponentUpdate",value:function(t){return!!t.hiddenClassName||!!t.visible}},{key:"render",value:function(){var t=this.props.className;this.props.hiddenClassName&&!this.props.visible&&(t+=" "+this.props.hiddenClassName);var e=u()({},this.props);return delete e.hiddenClassName,delete e.visible,e.className=t,o.a.createElement("div",u()({},e))}}]),e}(o.a.Component);function _(){}var S=function(t){function e(){y()(this,e);var t=v()(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments));return t.getDialogElement=function(){var e=t.props,n=e.closable,r=e.prefixCls,i=void 0;e.footer&&(i=o.a.createElement("div",{className:r+"-footer",ref:function(e){return t.footerRef=e}},e.footer));var a=void 0;e.title&&(a=o.a.createElement("div",{className:r+"-header",ref:function(e){return t.headerRef=e}},o.a.createElement("div",{className:r+"-title"},e.title)));var s=void 0;n&&(s=o.a.createElement("button",{onClick:t.close,"aria-label":"Close",className:r+"-close"},o.a.createElement("span",{className:r+"-close-x"})));var c=t.getTransitionName(),u=o.a.createElement(A,{key:"dialog-element",role:"document",ref:function(e){return t.dialogRef=e},style:e.style||{},className:r+" "+(e.className||""),visible:e.visible},o.a.createElement("div",{className:r+"-content"},s,a,o.a.createElement("div",{className:r+"-body",style:e.bodyStyle,ref:function(e){return t.bodyRef=e}},e.children),i));return o.a.createElement(E.a,{key:"dialog",showProp:"visible",onAppear:t.onAnimateAppear,onLeave:t.onAnimateLeave,transitionName:c,component:"",transitionAppear:!0},u)},t.onAnimateAppear=function(){document.body.style.overflow="hidden"},t.onAnimateLeave=function(){document.body.style.overflow="",t.wrapRef&&(t.wrapRef.style.display="none"),t.props.onAnimateLeave&&t.props.onAnimateLeave(),t.props.afterClose&&t.props.afterClose()},t.close=function(e){t.props.onClose&&t.props.onClose(e)},t.onMaskClick=function(e){e.target===e.currentTarget&&t.close(e)},t}return b()(e,t),p()(e,[{key:"componentWillUnmount",value:function(){document.body.style.overflow="",this.wrapRef&&(this.wrapRef.style.display="none")}},{key:"getZIndexStyle",value:function(){var t={},e=this.props;return void 0!==e.zIndex&&(t.zIndex=e.zIndex),t}},{key:"getWrapStyle",value:function(){var t=this.props.wrapStyle||{};return u()({},this.getZIndexStyle(),t)}},{key:"getMaskStyle",value:function(){var t=this.props.maskStyle||{};return u()({},this.getZIndexStyle(),t)}},{key:"getMaskTransitionName",value:function(){var t=this.props,e=t.maskTransitionName,n=t.maskAnimation;return!e&&n&&(e=t.prefixCls+"-"+n),e}},{key:"getTransitionName",value:function(){var t=this.props,e=t.transitionName,n=t.animation;return!e&&n&&(e=t.prefixCls+"-"+n),e}},{key:"getMaskElement",value:function(){var t=this.props,e=void 0;if(t.mask){var n=this.getMaskTransitionName();e=o.a.createElement(A,u()({style:this.getMaskStyle(),key:"mask-element",className:t.prefixCls+"-mask",hiddenClassName:t.prefixCls+"-mask-hidden",visible:t.visible},t.maskProps)),n&&(e=o.a.createElement(E.a,{key:"mask",showProp:"visible",transitionAppear:!0,component:"",transitionName:n},e))}return e}},{key:"render",value:function(){var t=this,e=this.props,n=e.prefixCls,r=e.maskClosable,i=this.getWrapStyle();return e.visible&&(i.display=null),o.a.createElement("div",null,this.getMaskElement(),o.a.createElement("div",u()({className:n+"-wrap "+(e.wrapClassName||""),ref:function(e){return t.wrapRef=e},onClick:r?this.onMaskClick:void 0,role:"dialog","aria-labelledby":e.title,style:i},e.wrapProps),this.getDialogElement()))}}]),e}(o.a.Component),k=S;S.defaultProps={afterClose:_,className:"",mask:!0,visible:!1,closable:!0,maskClosable:!0,prefixCls:"rmc-dialog",onClose:_};var x=!!a.a.createPortal,O=!("undefined"==typeof window||!window.document||!window.document.createElement),T=function(t){function e(){y()(this,e);var t=v()(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments));return t.saveRef=function(e){x&&(t._component=e)},t.getComponent=function(e){var n=u()({},t.props);return["visible","onAnimateLeave"].forEach(function(t){n.hasOwnProperty(t)&&delete n[t]}),o.a.createElement(k,u()({},n,{visible:e,onAnimateLeave:t.removeContainer,ref:t.saveRef}))},t.removeContainer=function(){t.container&&(x||a.a.unmountComponentAtNode(t.container),t.container.parentNode.removeChild(t.container),t.container=null)},t.getContainer=function(){if(!t.container){var e=document.createElement("div"),n=t.props.prefixCls+"-container-"+(new Date).getTime();e.setAttribute("id",n),document.body.appendChild(e),t.container=e}return t.container},t}return b()(e,t),p()(e,[{key:"componentDidMount",value:function(){this.props.visible&&this.componentDidUpdate()}},{key:"shouldComponentUpdate",value:function(t){var e=t.visible;return!(!this.props.visible&&!e)}},{key:"componentWillUnmount",value:function(){this.props.visible?x?this.removeContainer():this.renderDialog(!1):this.removeContainer()}},{key:"componentDidUpdate",value:function(){x||this.renderDialog(this.props.visible)}},{key:"renderDialog",value:function(t){a.a.unstable_renderSubtreeIntoContainer(this,this.getComponent(t),this.getContainer())}},{key:"render",value:function(){if(!O)return null;var t=this.props.visible;return x&&(t||this._component)?a.a.createPortal(this.getComponent(t),this.getContainer()):null}}]),e}(o.a.Component),P=T;T.defaultProps={visible:!1,prefixCls:"rmc-dialog",onClose:function(){}};var M=function(t){function e(){y()(this,e);var t=v()(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments));return t.state={active:!1},t.onTouchStart=function(e){t.triggerEvent("TouchStart",!0,e)},t.onTouchMove=function(e){t.triggerEvent("TouchMove",!1,e)},t.onTouchEnd=function(e){t.triggerEvent("TouchEnd",!1,e)},t.onTouchCancel=function(e){t.triggerEvent("TouchCancel",!1,e)},t.onMouseDown=function(e){t.triggerEvent("MouseDown",!0,e)},t.onMouseUp=function(e){t.triggerEvent("MouseUp",!1,e)},t.onMouseLeave=function(e){t.triggerEvent("MouseLeave",!1,e)},t}return b()(e,t),p()(e,[{key:"componentDidUpdate",value:function(){this.props.disabled&&this.state.active&&this.setState({active:!1})}},{key:"triggerEvent",value:function(t,e,n){var r="on"+t,o=this.props.children;o.props[r]&&o.props[r](n),e!==this.state.active&&this.setState({active:e})}},{key:"render",value:function(){var t=this.props,e=t.children,n=t.disabled,r=t.activeClassName,i=t.activeStyle,a=n?void 0:{onTouchStart:this.onTouchStart,onTouchMove:this.onTouchMove,onTouchEnd:this.onTouchEnd,onTouchCancel:this.onTouchCancel,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onMouseLeave:this.onMouseLeave},s=o.a.Children.only(e);if(!n&&this.state.active){var c=s.props,l=c.style,f=c.className;return!1!==i&&(i&&(l=u()({},l,i)),f=C()(f,r)),o.a.cloneElement(s,u()({className:f,style:l},a))}return o.a.cloneElement(s,a)}}]),e}(o.a.Component),F=M;M.defaultProps={disabled:!1};var N=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},R=function(t){function e(){return y()(this,e),v()(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return b()(e,t),p()(e,[{key:"renderFooterButton",value:function(t,e,n){var r={};if(t.style&&"string"==typeof(r=t.style)){r={cancel:{},default:{},destructive:{color:"red"}}[r]||{}}return o.a.createElement(F,{activeClassName:e+"-button-active",key:n},o.a.createElement("a",{className:e+"-button",role:"button",style:r,onClick:function(e){e.preventDefault(),t.onPress&&t.onPress()}},t.text||"Button"))}},{key:"render",value:function(){var t,e=this,n=this.props,r=n.prefixCls,i=n.className,a=n.wrapClassName,s=n.transitionName,c=n.maskTransitionName,l=n.style,h=n.platform,p=n.footer,d=void 0===p?[]:p,y=n.operation,m=n.animated,v=n.transparent,g=n.popup,b=n.animationType,w=N(n,["prefixCls","className","wrapClassName","transitionName","maskTransitionName","style","platform","footer","operation","animated","transparent","popup","animationType"]),E=C()(r+"-button-group-"+(2!==d.length||y?"v":"h"),r+"-button-group-"+(y?"operation":"normal")),A=d.length?o.a.createElement("div",{className:E,role:"group"},d.map(function(t,n){return e.renderFooterButton(t,r,n)})):null,_=void 0,S=void 0;m&&(_=S=v?"am-fade":"am-slide-up",g&&(_="slide-up"===b?"am-slide-up":"am-slide-down",S="am-fade"));var k=C()(a,f()({},r+"-wrap-popup",g)),x=C()(i,(t={},f()(t,r+"-transparent",v),f()(t,r+"-popup",g),f()(t,r+"-popup-"+b,g&&b),f()(t,r+"-android","android"===h),t));return o.a.createElement(P,u()({},w,{prefixCls:r,className:x,wrapClassName:k,transitionName:s||_,maskTransitionName:c||S,style:l,footer:A}))}}]),e}(function(t){function e(){return y()(this,e),v()(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return b()(e,t),e}(o.a.Component)),j=R;R.defaultProps={prefixCls:"am-modal",transparent:!1,popup:!1,animationType:"slide-down",animated:!0,style:{},onShow:function(){},footer:[],closable:!1,operation:!1,platform:"ios"},j.alert=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[{text:""}],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"ios",i=!1;if(!t&&!e)return{close:function(){}};var c=document.createElement("div");function u(){a.a.unmountComponentAtNode(c),c&&c.parentNode&&c.parentNode.removeChild(c)}document.body.appendChild(c);var l=n.map(function(t){var e=t.onPress||function(){};return t.onPress=function(){if(!i){var t=e();t&&t.then?t.then(function(){i=!0,u()}).catch(function(){}):(i=!0,u())}},t}),f="am-modal";return a.a.render(o.a.createElement(j,{visible:!0,transparent:!0,title:t,transitionName:"am-zoom",closable:!1,maskClosable:!1,footer:l,maskTransitionName:"am-fade",platform:r,wrapProps:{onTouchStart:function(t){/iPhone|iPod|iPad/i.test(navigator.userAgent)&&(s(t.target,"."+f+"-footer")||t.preventDefault())}}},o.a.createElement("div",{className:f+"-alert-content"},e)),c),{close:u}},j.prompt=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"default",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:["",""],u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"ios",l=!1;if(i="string"==typeof i?i:"number"==typeof i?""+i:"",!n)return{close:function(){}};var f="am-modal",h={text:i};function p(t){var e=t.target,n=e.getAttribute("type");null!==n&&(h[n]=e.value)}function d(t){var e=t.currentTarget||t.target;e&&e.focus()}var y=void 0,m=function(t){setTimeout(function(){t&&t.focus()},500)};switch(r){case"login-password":y=o.a.createElement("div",{className:f+"-input-container"},o.a.createElement("div",{className:f+"-input"},o.a.createElement("label",null,o.a.createElement("input",{type:"text",defaultValue:h.text,ref:function(t){return m(t)},onClick:d,onChange:p,placeholder:c[0]}))),o.a.createElement("div",{className:f+"-input"},o.a.createElement("label",null,o.a.createElement("input",{type:"password",defaultValue:h.password,onClick:d,onChange:p,placeholder:c[1]}))));break;case"secure-text":y=o.a.createElement("div",{className:f+"-input-container"},o.a.createElement("div",{className:f+"-input"},o.a.createElement("label",null,o.a.createElement("input",{type:"password",defaultValue:h.password,ref:function(t){return m(t)},onClick:d,onChange:p,placeholder:c[0]}))));break;case"default":default:y=o.a.createElement("div",{className:f+"-input-container"},o.a.createElement("div",{className:f+"-input"},o.a.createElement("label",null,o.a.createElement("input",{type:"text",defaultValue:h.text,ref:function(t){return m(t)},onClick:d,onChange:p,placeholder:c[0]}))))}var v=o.a.createElement("div",null,e,y),g=document.createElement("div");function b(){a.a.unmountComponentAtNode(g),g&&g.parentNode&&g.parentNode.removeChild(g)}function w(t){if("function"==typeof t){var e=h.text,n=void 0===e?"":e,o=h.password,i=void 0===o?"":o,a="login-password"===r?[n,i]:"secure-text"===r?[i]:[n];return t.apply(void 0,a)}}document.body.appendChild(g);var C=("function"==typeof n?[{text:"",onPress:function(){}},{text:"",onPress:function(){w(n)}}]:n.map(function(t){return{text:t.text,onPress:function(){return w(t.onPress)}}})).map(function(t){var e=t.onPress||function(){};return t.onPress=function(){if(!l){var t=e();t&&t.then?t.then(function(){l=!0,b()}).catch(function(){}):(l=!0,b())}},t});return a.a.render(o.a.createElement(j,{visible:!0,transparent:!0,prefixCls:f,title:t,closable:!1,maskClosable:!1,transitionName:"am-zoom",footer:C,maskTransitionName:"am-fade",platform:u,wrapProps:{onTouchStart:function(t){/iPhone|iPod|iPad/i.test(navigator.userAgent)&&(s(t.target,"."+f+"-content")||t.preventDefault())}}},o.a.createElement("div",{className:f+"-propmt-content"},v)),g),{close:b}},j.operation=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[{text:""}],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ios",n=!1,r=document.createElement("div");function i(){a.a.unmountComponentAtNode(r),r&&r.parentNode&&r.parentNode.removeChild(r)}document.body.appendChild(r);var c=t.map(function(t){var e=t.onPress||function(){};return t.onPress=function(){if(!n){var t=e();t&&t.then?t.then(function(){n=!0,i()}).catch(function(){}):(n=!0,i())}},t});return a.a.render(o.a.createElement(j,{visible:!0,operation:!0,transparent:!0,prefixCls:"am-modal",transitionName:"am-zoom",closable:!1,maskClosable:!0,onClose:i,footer:c,maskTransitionName:"am-fade",className:"am-modal-operation",platform:e,wrapProps:{onTouchStart:function(t){/iPhone|iPod|iPad/i.test(navigator.userAgent)&&(s(t.target,".am-modal-footer")||t.preventDefault())}}}),r),{close:i}};e.default=j}]);